/*! For license information please see chatbot.js.LICENSE.txt */
(()=>{var n={7758:(n,t,e)=>{function i(n){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i(n)}function s(){"use strict";s=function(){return t};var n,t={},e=Object.prototype,r=e.hasOwnProperty,a=Object.defineProperty||function(n,t,e){n[t]=e.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function h(n,t,e){return Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{h({},"")}catch(n){h=function(n,t,e){return n[t]=e}}function g(n,t,e,i){var s=t&&t.prototype instanceof b?t:b,r=Object.create(s.prototype),o=new j(i||[]);return a(r,"_invoke",{value:S(n,e,o)}),r}function d(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(n){return{type:"throw",arg:n}}}t.wrap=g;var f="suspendedStart",p="suspendedYield",m="executing",y="completed",w={};function b(){}function k(){}function v(){}var x={};h(x,u,(function(){return this}));var D=Object.getPrototypeOf,A=D&&D(D(O([])));A&&A!==e&&r.call(A,u)&&(x=A);var F=v.prototype=b.prototype=Object.create(x);function E(n){["next","throw","return"].forEach((function(t){h(n,t,(function(n){return this._invoke(t,n)}))}))}function C(n,t){function e(s,a,o,u){var l=d(n[s],n,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==i(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(n){e("next",n,o,u)}),(function(n){e("throw",n,o,u)})):t.resolve(h).then((function(n){c.value=n,o(c)}),(function(n){return e("throw",n,o,u)}))}u(l.arg)}var s;a(this,"_invoke",{value:function(n,i){function r(){return new t((function(t,s){e(n,i,t,s)}))}return s=s?s.then(r,r):r()}})}function S(t,e,i){var s=f;return function(r,a){if(s===m)throw new Error("Generator is already running");if(s===y){if("throw"===r)throw a;return{value:n,done:!0}}for(i.method=r,i.arg=a;;){var o=i.delegate;if(o){var u=_(o,i);if(u){if(u===w)continue;return u}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(s===f)throw s=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);s=m;var l=d(t,e,i);if("normal"===l.type){if(s=i.done?y:p,l.arg===w)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(s=y,i.method="throw",i.arg=l.arg)}}}function _(t,e){var i=e.method,s=t.iterator[i];if(s===n)return e.delegate=null,"throw"===i&&t.iterator.return&&(e.method="return",e.arg=n,_(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),w;var r=d(s,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,w;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,w):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,w)}function B(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function N(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function j(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(B,this),this.reset(!0)}function O(t){if(t||""===t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,a=function e(){for(;++s<t.length;)if(r.call(t,s))return e.value=t[s],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return k.prototype=v,a(F,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:k,configurable:!0}),k.displayName=h(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,v):(n.__proto__=v,h(n,c,"GeneratorFunction")),n.prototype=Object.create(F),n},t.awrap=function(n){return{__await:n}},E(C.prototype),h(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(n,e,i,s,r){void 0===r&&(r=Promise);var a=new C(g(n,e,i,s),r);return t.isGeneratorFunction(e)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},E(F),h(F,c,"Generator"),h(F,u,(function(){return this})),h(F,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),e=[];for(var i in t)e.push(i);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=O,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,s){return o.type="throw",o.arg=t,e.next=i,s&&(e.method="next",e.arg=n),!!s}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(n,t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===n||"continue"===n)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=n,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,w):this.complete(a)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),w},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),N(e),w}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var i=e.completion;if("throw"===i.type){var s=i.arg;N(e)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:O(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),w}},t}function r(n,t,e,i,s,r,a){try{var o=n[r](a),u=o.value}catch(n){return void e(n)}o.done?t(u):Promise.resolve(u).then(i,s)}function a(n){return function(){var t=this,e=arguments;return new Promise((function(i,s){var a=n.apply(t,e);function o(n){r(a,i,s,o,u,"next",n)}function u(n){r(a,i,s,o,u,"throw",n)}o(void 0)}))}}var o=e(79).containerBootstrap,u=e(6548).Nlp,l=e(6428).LangEn,c=e(6724),h=!0,g=function(n){return n.replaceAll(", ",",")},d=function(n){};function f(n){return p.apply(this,arguments)}function p(){return(p=a(s().mark((function n(t){var e,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.nlpManager||window.nlpManager,t=g(t),n.next=4,e.process("en",t,this.context);case 4:if(i=n.sent,d(i),h&&console.log(i),!i.slotFill){n.next=9;break}return n.abrupt("return",{complete:!1,intent:i.intent,followUpQuestion:i.answer});case 9:return n.abrupt("return",{complete:!0,intent:i.intent,entities:i.entities});case 10:case"end":return n.stop()}}),n,this)})))).apply(this,arguments)}function m(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.initialised=!1,this.context=n}m.prototype={initialise:function(){var n=this;return a(s().mark((function t(){var e,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=n.initialised){t.next=2;break}return t.abrupt("return",n);case 2:return t.next=4,o();case 4:return(e=t.sent).use(u),e.use(l),i=e.get("nlp"),t.next=10,i.import(c);case 10:return n.nlpManager=i,n.ask=f.bind(n),n.initialised=!0,t.abrupt("return",n);case 14:case"end":return t.stop()}}),t)})))()},reset:function(){return this.context={},this}},n.exports={FabilabNlp:m}},6724:n=>{var t,e,i,s=String.raw(t||(e=['{\n  "settings": {\n    "tag": "nlp",\n    "forceNER": true,\n    "languages": [\n      "en"\n    ],\n    "corpora": [\n      "./chatbot/src/corpus.json"\n    ],\n    "calculateSentiment": true,\n    "executeActionsBeforeAnswers": false\n  },\n  "nluManager": {\n    "settings": {\n      "tag": "nlu-manager"\n    },\n    "locales": [\n      "en"\n    ],\n    "languageNames": {},\n    "domainManagers": {\n      "en": {\n        "settings": {\n          "locale": "en",\n          "trainByDomain": false,\n          "tag": "domain-manager-en",\n          "nluByDomain": {\n            "default": {\n              "className": "NeuralNlu",\n              "settings": {}\n            }\n          },\n          "useStemDict": true\n        },\n        "stemDict": {\n          "hello": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "good,morn": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "day,good": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "day,g": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "hey": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "hey,mate": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "hi": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "ciao": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "hola": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "hi,there": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "buongiorno": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "good,is,page,this": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "great,is,this,websit": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "i,love,page,this": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "i,like,this,websit": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "thank,you": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "are,fantast,you": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "amaz,is,this": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "nice,realli": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "actual,gorgeous": {\n            "intent": "like",\n            "domain": "default"\n          },\n          "do,i,it,like,not": {\n            "intent": "dislike",\n            "domain": "default"\n          },\n          "dislik,i,this": {\n            "intent": "dislike",\n            "domain": "default"\n          },\n          "bad,is,this": {\n            "intent": "dislike",\n            "domain": "default"\n          },\n          "confus,is,this": {\n            "intent": "dislike",\n            "domain": "default"\n          },\n          "shut,up": {\n            "intent": "dislike",\n            "domain": "default"\n          },\n          "dumb,is,this,websit": {\n            "intent": "dislike",\n            "domain": "default"\n          },\n          "horribl": {\n            "intent": "dislike",\n            "domain": "default"\n          },\n          "good,is,not,realli,this": {\n            "intent": "dislike",\n            "domain": "default"\n          },\n          "a,gimmick,is,this,websit": {\n            "intent": "dislike",\n            "domain": "default"\n          },\n          "are,who,you": {\n            "intent": "people",\n            "domain": "default"\n          },\n          "fabilab,is,who": {\n            "intent": "people",\n            "domain": "default"\n          },\n          "belong,fabilab,to,who": {\n            "intent": "people",\n            "domain": "default"\n          },\n          "lab,list,member,the": {\n            "intent": "people",\n            "domain": "default"\n          },\n          "are,lab,member,the,who": {\n            "intent": "people",\n            "domain": "default"\n          },\n          "group,in,is,the,who": {\n            "intent": "people",\n            "domain": "default"\n          },\n          "are,in,lab,peopl,the,who": {\n            "intent": "people",\n            "domain": "default"\n          },\n          "peopl": {\n            "intent": "people",\n            "domain": "default"\n          },\n          "lab,member": {\n            "intent": "people",\n            "domain": "default"\n          },\n          "fabilab,member,of": {\n            "intent": "people",\n            "domain": "default"\n          },\n          "biomedicin,data,driven,lab": {\n            "intent": "people",\n            "domain": "default"\n          },\n          "do,research,what,you": {\n            "intent": "research",\n            "domain": "default"\n          },\n          "list,of,project,show": {\n            "intent": "research",\n            "domain": "default"\n          },\n          "project,show": {\n            "intent": "research",\n            "domain": "default"\n          },\n          "are,project,research,the,where": {\n            "intent": "research",\n            "domain": "default"\n          },\n          "are,into,what,you": {\n            "intent": "research",\n            "domain": "default"\n          },\n          "are,in,interest,what,you": {\n            "intent": "research",\n            "domain": "default"\n          },\n          "are,avail,project,what": {\n            "intent": "research",\n            "domain": "default"\n          },\n          "is,jam,what,your": {\n            "intent": "research",\n            "domain": "default"\n          },\n          "big,deal,is,the,what": {\n            "intent": "research",\n            "domain": "default"\n          },\n          "about,is,this,what": {\n            "intent": "research",\n            "domain": "default"\n          },\n          "do,kind,of,research,what,you": {\n            "intent": "research",\n            "domain": "default"\n          },\n          "do,teach,what,you": {\n            "intent": "teaching",\n            "domain": "default"\n          },\n          "list,of,show,talk": {\n            "intent": "teaching",\n            "domain": "default"\n          },\n          "present,show": {\n            "intent": "teaching",\n            "domain": "default"\n          },\n          "are,slide,talk,the,where": {\n            "intent": "teaching",\n            "domain": "default"\n          },\n          "are,slide,where,your": {\n            "intent": "teaching",\n            "domain": "default"\n          },\n          "contact,do,how,i,you": {\n            "intent": "contact",\n            "domain": "default"\n          },\n          "address": {\n            "intent": "contact",\n            "domain": "default"\n          },\n          "email": {\n            "intent": "contact",\n            "domain": "default"\n          },\n          "contact": {\n            "intent": "contact",\n            "domain": "default"\n          },\n          "can,how,i,reach,you": {\n            "intent": "contact",\n            "domain": "default"\n          },\n          "email,is,what,your": {\n            "intent": "contact",\n            "domain": "default"\n          },\n          "address,email,show": {\n            "intent": "contact",\n            "domain": "default"\n          },\n          "is,lab,the,where": {\n            "intent": "contact",\n            "domain": "default"\n          },\n          "are,where,you": {\n            "intent": "contact",\n            "domain": "default"\n          },\n          "are,in,sydney,you": {\n            "intent": "contact",\n            "domain": "default"\n          },\n          "are,australia,in,you": {\n            "intent": "contact",\n            "domain": "default"\n          },\n          "base,is,lab,the,where": {\n            "intent": "contact",\n            "domain": "default"\n          },\n          "europ,in,is,lab,the": {\n            "intent": "contact",\n            "domain": "default"\n          },\n          "in,is,lab,the,us": {\n            "intent": "contact",\n            "domain": "default"\n          },\n          "can,how,i,join,you": {\n            "intent": "jointhelab",\n            "domain": "default"\n          },\n          "am,i,in,interest,join": {\n            "intent": "jointhelab",\n            "domain": "default"\n          },\n          "ani,are,open,posit,there": {\n            "intent": "jointhelab",\n            "domain": "default"\n          },\n          "opportun,show": {\n            "intent": "jointhelab",\n            "domain": "default"\n          },\n          "cool,is,this": {\n            "intent": "jointhelab",\n            "domain": "default"\n          },\n          "did,publish,what,you": {\n            "intent": "papers",\n            "domain": "default"\n          },\n          "list,of,paper,show": {\n            "intent": "papers",\n            "domain": "default"\n          },\n          "public,show": {\n            "intent": "papers",\n            "domain": "default"\n          },\n          "ani,articl,did,write,you": {\n            "intent": "papers",\n            "domain": "default"\n          },\n          "are,kind,maintain,of,softwar,what,you": {\n            "intent": "software",\n            "domain": "default"\n          },\n          "me,show,softwar,your": {\n            "intent": "software",\n            "domain": "default"\n          },\n          "open,sourc": {\n            "intent": "software",\n            "domain": "default"\n          },\n          "have,packag,what,written,you": {\n            "intent": "software",\n            "domain": "default"\n          },\n          "by,done,fabilab,igraph,is": {\n            "intent": "software",\n            "domain": "default"\n          },\n          "by,develop,fabilab,htseq,is": {\n            "intent": "software",\n            "domain": "default"\n          },\n          "packag,python": {\n            "intent": "software",\n            "domain": "default"\n          },\n          "code,do,kind,of,what,write,you": {\n            "intent": "software",\n            "domain": "default"\n          },\n          "code,do,what,write,you": {\n            "intent": "software",\n            "domain": "default"\n          },\n          "is,up,what": {\n            "intent": "news",\n            "domain": "default"\n          },\n          "is,new,what": {\n            "intent": "news",\n            "domain": "default"\n          },\n          "news,show,the": {\n            "intent": "news",\n            "domain": "default"\n          },\n          "blog": {\n            "intent": "news",\n            "domain": "default"\n          },\n          "happen,is,what": {\n            "intent": "news",\n            "domain": "default"\n          },\n          "at,fabilab,is,new,what": {\n            "intent": "news",\n            "domain": "default"\n          },\n          "ani,news": {\n            "intent": "news",\n            "domain": "default"\n          },\n          "at,fabilab,latest": {\n            "intent": "news",\n            "domain": "default"\n          },\n          "are,github,on,you": {\n            "intent": "github",\n            "domain": "default"\n          },\n          "github,is,lab,the,what": {\n            "intent": "github",\n            "domain": "default"\n          },\n          "github,link,to": {\n            "intent": "github",\n            "domain": "default"\n          },\n          "github,go,to": {\n            "intent": "github",\n            "domain": "default"\n          },\n          "get,github,profil": {\n            "intent": "github",\n            "domain": "default"\n          },\n          "github,organis,show": {\n            "intent": "github",\n            "domain": "default"\n          },\n          "do,googl,have,scholar,you": {\n            "intent": "scholar",\n            "domain": "default"\n          },\n          "are,on,scholar,you": {\n            "intent": "scholar",\n            "domain": "default"\n          },\n          "googl,scholar,show": {\n            "intent": "scholar",\n            "domain": "default"\n          },\n          "fabio,is,profil,scholar": {\n            "intent": "scholar",\n            "domain": "default"\n          },\n          "googl,is,scholar,what,your": {\n            "intent": "scholar",\n            "domain": "default"\n          }\n        },\n        "intentDict": {\n          "like": "default",\n          "dislike": "default",\n          "people": "default",\n          "research": "default",\n          "teaching": "default",\n          "contact": "default",\n          "jointhelab": "default",\n          "papers": "default",\n          "software": "default",\n          "news": "default",\n          "github": "default",\n          "scholar": "default"\n        },\n        "sentences": [\n          {\n            "domain": "default",\n            "utterance": "hello",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "good morning",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "good day",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "g\'day",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "hey",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "hey mate",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "hi",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "ciao",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "hola",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "hi there",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "buongiorno",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "this page is good",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "this website is great",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "I love this page",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "I like this website",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "thank you!",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "you are fantastic",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "this is amazing",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "really nice",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "actually gorgeous",\n            "intent": "like"\n          },\n          {\n            "domain": "default",\n            "utterance": "I don\'t like it",\n            "intent": "dislike"\n          },\n          {\n            "domain": "default",\n            "utterance": "I dislike this",\n            "intent": "dislike"\n          },\n          {\n            "domain": "default",\n            "utterance": "this is bad",\n            "intent": "dislike"\n          },\n          {\n            "domain": "default",\n            "utterance": "this is confusing",\n            "intent": "dislike"\n          },\n          {\n            "domain": "default",\n            "utterance": "shut up",\n            "intent": "dislike"\n          },\n          {\n            "domain": "default",\n            "utterance": "this website is dumb",\n            "intent": "dislike"\n          },\n          {\n            "domain": "default",\n            "utterance": "horrible",\n            "intent": "dislike"\n          },\n          {\n            "domain": "default",\n            "utterance": "this is really not good",\n            "intent": "dislike"\n          },\n          {\n            "domain": "default",\n            "utterance": "this website is a gimmick",\n            "intent": "dislike"\n          },\n          {\n            "domain": "default",\n            "utterance": "who are you?",\n            "intent": "people"\n          },\n          {\n            "domain": "default",\n            "utterance": "who is fabilab?",\n            "intent": "people"\n          },\n          {\n            "domain": "default",\n            "utterance": "who belongs to fabilab?",\n            "intent": "people"\n          },\n          {\n            "domain": "default",\n            "utterance": "list the lab members",\n            "intent": "people"\n          },\n          {\n            "domain": "default",\n            "utterance": "who are the lab members?",\n            "intent": "people"\n          },\n          {\n            "domain": "default",\n            "utterance": "who is in the group",\n            "intent": "people"\n          },\n          {\n            "domain": "default",\n            "utterance": "who are the people in the lab?",\n            "intent": "people"\n          },\n          {\n            "domain": "default",\n            "utterance": "people",\n            "intent": "people"\n          },\n          {\n            "domain": "default",\n            "utterance": "lab members",\n            "intent": "people"\n          },\n          {\n            "domain": "default",\n            "utterance": "members of fabilab",\n            "intent": "people"\n          },\n          {\n            "domain": "default",\n            "utterance": "data driven biomedicine lab",\n            "intent": "people"\n          },\n          {\n            "domain": "default",\n            "utterance": "what do you research?",\n            "intent": "research"\n          },\n          {\n            "domain": "default",\n            "utterance": "show list of projects",\n            "intent": "research"\n          },\n          {\n            "domain": "default",\n            "utterance": "show projects",\n            "intent": "research"\n          },\n          {\n            "domain": "default",\n            "utterance": "where are the research projects?",\n            "intent": "research"\n          },\n          {\n            "domain": "default",\n            "utterance": "what are you into?",\n            "intent": "research"\n          },\n          {\n            "domain": "default",\n            "utterance": "what are you interested in?",\n            "intent": "research"\n          },\n          {\n            "domain": "default",\n            "utterance": "what projects are available?",\n            "intent": "research"\n          },\n          {\n            "domain": "default",\n            "utterance": "what\'s your jam?",\n            "intent": "research"\n          },\n          {\n            "domain": "default",\n            "utterance": "what\'s the big deal?",\n            "intent": "research"\n          },\n          {\n            "domain": "default",\n            "utterance": "what is this about?",\n            "intent": "research"\n          },\n          {\n            "domain": "default",\n            "utterance": "what kind of research do you do?",\n            "intent": "research"\n          },\n          {\n            "domain": "default",\n            "utterance": "what do you teach?",\n            "intent": "teaching"\n          },\n          {\n            "domain": "default",\n            "utterance": "show list of talks",\n            "intent": "teaching"\n          },\n          {\n            "domain": "default",\n            "utterance": "show presentations",\n            "intent": "teaching"\n          },\n          {\n            "domain": "default",\n            "utterance": "where are the talk slides?",\n            "intent": "teaching"\n          },\n          {\n            "domain": "default",\n            "utterance": "where are your slides?",\n            "intent": "teaching"\n          },\n          {\n            "domain": "default",\n            "utterance": "how do I contact you?",\n            "intent": "contact"\n          },\n          {\n            "domain": "default",\n            "utterance": "address",\n            "intent": "contact"\n          },\n          {\n            "domain": "default",\n            "utterance": "email",\n            "intent": "contact"\n          },\n          {\n            "domain": "default",\n            "utterance": "contact",\n            "intent": "contact"\n          },\n          {\n            "domain": "default",\n            "utterance": "how can I reach you?",\n            "intent": "contact"\n          },\n          {\n            "domain": "default",\n            "utterance": "what is your email?",\n            "intent": "contact"\n          },\n          {\n            "domain": "default",\n            "utterance": "show email address",\n            "intent": "contact"\n          },\n          {\n            "domain": "default",\n            "utterance": "where is the lab?",\n            "intent": "contact"\n          },\n          {\n            "domain": "default",\n            "utterance": "where are you?",\n            "intent": "contact"\n          },\n          {\n            "domain": "default",\n            "utterance": "are you in Sydney?",\n            "intent": "contact"\n          },\n          {\n            "domain": "default",\n            "utterance": "are you in Australia?",\n            "intent": "contact"\n          },\n          {\n            "domain": "default",\n            "utterance": "where is the lab based?",\n            "intent": "contact"\n          },\n          {\n            "domain": "default",\n            "utterance": "is the lab in Europe?",\n            "intent": "contact"\n          },\n          {\n            "domain": "default",\n            "utterance": "is the lab in the US?",\n            "intent": "contact"\n          },\n          {\n            "domain": "default",\n            "utterance": "how can I join you?",\n            "intent": "jointhelab"\n          },\n          {\n            "domain": "default",\n            "utterance": "I am interesting in joining",\n            "intent": "jointhelab"\n          },\n          {\n            "domain": "default",\n            "utterance": "are there any open positions?",\n            "intent": "jointhelab"\n          },\n          {\n            "domain": "default",\n            "utterance": "show opportunities",\n            "intent": "jointhelab"\n          },\n          {\n            "domain": "default",\n            "utterance": "this is cool",\n            "intent": "jointhelab"\n          },\n          {\n            "domain": "default",\n            "utterance": "what did you publish?",\n            "intent": "papers"\n          },\n          {\n            "domain": "default",\n            "utterance": "show list of papers",\n            "intent": "papers"\n          },\n          {\n            "domain": "default",\n            "utterance": "show publications",\n            "intent": "papers"\n          },\n          {\n            "domain": "default",\n            "utterance": "did you write any articles?",\n            "intent": "papers"\n          },\n          {\n            "domain": "default",\n            "utterance": "what kind of software are you maintaining?",\n            "intent": "software"\n          },\n          {\n            "domain": "default",\n            "utterance": "show me your software",\n            "intent": "software"\n          },\n          {\n            "domain": "default",\n            "utterance": "open source",\n            "intent": "software"\n          },\n          {\n            "domain": "default",\n            "utterance": "what packages have you written?",\n            "intent": "software"\n          },\n          {\n            "domain": "default",\n            "utterance": "is igraph done by fabilab?",\n            "intent": "software"\n          },\n          {\n            "domain": "default",\n            "utterance": "is HTSeq developed by fabilab?",\n            "intent": "software"\n          },\n          {\n            "domain": "default",\n            "utterance": "Python packages",\n            "intent": "software"\n          },\n          {\n            "domain": "default",\n            "utterance": "what kind of code do you write?",\n            "intent": "software"\n          },\n          {\n            "domain": "default",\n            "utterance": "what code do you write?",\n            "intent": "software"\n          },\n          {\n            "domain": "default",\n            "utterance": "what\'s up?",\n            "intent": "news"\n          },\n          {\n            "domain": "default",\n            "utterance": "what\'s new?",\n            "intent": "news"\n          },\n          {\n            "domain": "default",\n            "utterance": "show the news",\n            "intent": "news"\n          },\n          {\n            "domain": "default",\n            "utterance": "blog",\n            "intent": "news"\n          },\n          {\n            "domain": "default",\n            "utterance": "what is happening?",\n            "intent": "news"\n          },\n          {\n            "domain": "default",\n            "utterance": "what is new at fabilab?",\n            "intent": "news"\n          },\n          {\n            "domain": "default",\n            "utterance": "any news?",\n            "intent": "news"\n          },\n          {\n            "domain": "default",\n            "utterance": "latest at fabilab",\n            "intent": "news"\n          },\n          {\n            "domain": "default",\n            "utterance": "are you on github?",\n            "intent": "github"\n          },\n          {\n            "domain": "default",\n            "utterance": "what\'s the lab github?",\n            "intent": "github"\n          },\n          {\n            "domain": "default",\n            "utterance": "link to github",\n            "intent": "github"\n          },\n          {\n            "domain": "default",\n            "utterance": "go to github",\n            "intent": "github"\n          },\n          {\n            "domain": "default",\n            "utterance": "get github profile",\n            "intent": "github"\n          },\n          {\n            "domain": "default",\n            "utterance": "show github organisation",\n            "intent": "github"\n          },\n          {\n            "domain": "default",\n            "utterance": "do you have google scholar?",\n            "intent": "scholar"\n          },\n          {\n            "domain": "default",\n            "utterance": "are you on scholar?",\n            "intent": "scholar"\n          },\n          {\n            "domain": "default",\n            "utterance": "show google scholar",\n            "intent": "scholar"\n          },\n          {\n            "domain": "default",\n            "utterance": "Fabio\'s scholar profile",\n            "intent": "scholar"\n          },\n          {\n            "domain": "default",\n            "utterance": "what\'s your google scholar?",\n            "intent": "scholar"\n          }\n        ],\n        "domains": {\n          "master_domain": {\n            "settings": {\n              "locale": "en",\n              "tag": "nlu-en",\n              "keepStopwords": true,\n              "nonefeatureValue": 1,\n              "nonedeltaMultiplier": 1.2,\n              "spellCheck": false,\n              "spellCheckDistance": 1,\n              "filterZeros": true,\n              "log": true\n            },\n            "features": {\n              "hello": 1,\n              "good": 1,\n              "morn": 1,\n              "day": 1,\n              "g": 1,\n              "hey": 1,\n              "mate": 1,\n              "hi": 1,\n              "ciao": 1,\n              "hola": 1,\n              "there": 1,\n              "buongiorno": 1,\n              "this": 1,\n              "page": 1,\n              "is": 1,\n              "websit": 1,\n              "great": 1,\n              "i": 1,\n              "love": 1,\n              "like": 1,\n              "thank": 1,\n              "you": 1,\n              "are": 1,\n              "fantast": 1,\n              "amaz": 1,\n              "realli": 1,\n              "nice": 1,\n              "actual": 1,\n              "gorgeous": 1,\n              "do": 1,\n              "not": 1,\n              "it": 1,\n              "dislik": 1,\n              "bad": 1,\n              "confus": 1,\n              "shut": 1,\n              "up": 1,\n              "dumb": 1,\n              "horribl": 1,\n              "a": 1,\n              "gimmick": 1,\n              "who": 1,\n              "fabilab": 1,\n              "belong": 1,\n              "to": 1,\n              "list": 1,\n              "the": 1,\n              "lab": 1,\n              "member": 1,\n              "in": 1,\n              "group": 1,\n              "peopl": 1,\n              "of": 1,\n              "data": 1,\n              "driven": 1,\n              "biomedicin": 1,\n              "what": 1,\n              "research": 1,\n              "show": 1,\n              "project": 1,\n              "where": 1,\n              "into": 1,\n              "interest": 1,\n              "avail": 1,\n              "your": 1,\n              "jam": 1,\n              "big": 1,\n              "deal": 1,\n              "about": 1,\n              "kind": 1,\n              "teach": 1,\n              "talk": 1,\n              "present": 1,\n              "slide": 1,\n              "how": 1,\n              "contact": 1,\n              "address": 1,\n              "email": 1,\n              "can": 1,\n              "reach": 1,\n              "sydney": 1,\n              "australia": 1,\n              "base": 1,\n              "europ": 1,\n              "us": 1,\n              "join": 1,\n              "am": 1,\n              "ani": 1,\n              "open": 1,\n              "posit": 1,\n              "opportun": 1,\n              "cool": 1,\n              "did": 1,\n              "publish": 1,\n              "paper": 1,\n              "public": 1,\n              "write": 1,\n              "articl": 1,\n              "softwar": 1,\n              "maintain": 1,\n              "me": 1,\n              "sourc": 1,\n              "packag": 1,\n              "have": 1,\n              "written": 1,\n              "igraph": 1,\n              "done": 1,\n              "by": 1,\n              "htseq": 1,\n              "develop": 1,\n              "python": 1,\n              "code": 1,\n              "new": 1,\n              "news": 1,\n              "blog": 1,\n              "happen": 1,\n              "at": 1,\n              "latest": 1,\n              "on": 1,\n              "github": 1,\n              "link": 1,\n              "go": 1,\n              "get": 1,\n              "profil": 1,\n              "organis": 1,\n              "googl": 1,\n              "scholar": 1,\n              "fabio": 1\n            },\n            "intents": {\n              "like": 1,\n              "dislike": 1,\n              "people": 1,\n              "research": 1,\n              "teaching": 1,\n              "contact": 1,\n              "jointhelab": 1,\n              "papers": 1,\n              "software": 1,\n              "news": 1,\n              "github": 1,\n              "scholar": 1\n            },\n            "intentFeatures": {\n              "like": {\n                "hello": 1,\n                "good": 1,\n                "morn": 1,\n                "day": 1,\n                "g": 1,\n                "hey": 1,\n                "mate": 1,\n                "hi": 1,\n                "ciao": 1,\n                "hola": 1,\n                "there": 1,\n                "buongiorno": 1,\n                "this": 1,\n                "page": 1,\n                "is": 1,\n                "websit": 1,\n                "great": 1,\n                "i": 1,\n                "love": 1,\n                "like": 1,\n                "thank": 1,\n                "you": 1,\n                "are": 1,\n                "fantast": 1,\n                "amaz": 1,\n                "realli": 1,\n                "nice": 1,\n                "actual": 1,\n                "gorgeous": 1\n              },\n              "dislike": {\n                "i": 1,\n                "do": 1,\n                "not": 1,\n                "like": 1,\n                "it": 1,\n                "dislik": 1,\n                "this": 1,\n                "is": 1,\n                "bad": 1,\n                "confus": 1,\n                "shut": 1,\n                "up": 1,\n                "websit": 1,\n                "dumb": 1,\n                "horribl": 1,\n                "realli": 1,\n                "good": 1,\n                "a": 1,\n                "gimmick": 1\n              },\n              "people": {\n                "who": 1,\n                "are": 1,\n                "you": 1,\n                "is": 1,\n                "fabilab": 1,\n                "belong": 1,\n                "to": 1,\n                "list": 1,\n                "the": 1,\n                "lab": 1,\n                "member": 1,\n                "in": 1,\n                "group": 1,\n                "peopl": 1,\n                "of": 1,\n                "data": 1,\n                "driven": 1,\n                "biomedicin": 1\n              },\n              "research": {\n                "what": 1,\n                "do": 1,\n                "you": 1,\n                "research": 1,\n                "show": 1,\n                "list": 1,\n                "of": 1,\n                "project": 1,\n                "where": 1,\n                "are": 1,\n                "the": 1,\n                "into": 1,\n                "interest": 1,\n                "in": 1,\n                "avail": 1,\n                "is": 1,\n                "your": 1,\n                "jam": 1,\n                "big": 1,\n                "deal": 1,\n                "this": 1,\n                "about": 1,\n                "kind": 1\n              },\n              "teaching": {\n                "what": 1,\n                "do": 1,\n                "you": 1,\n                "teach": 1,\n                "show": 1,\n                "list": 1,\n                "of": 1,\n                "talk": 1,\n                "present": 1,\n                "where": 1,\n                "are": 1,\n                "the": 1,\n                "slide": 1,\n                "your": 1\n              },\n              "contact": {\n                "how": 1,\n                "do": 1,\n                "i": 1,\n                "contact": 1,\n                "you": 1,\n                "address": 1,\n                "email": 1,\n                "can": 1,\n                "reach": 1,\n                "what": 1,\n                "is": 1,\n                "your": 1,\n                "show": 1,\n                "where": 1,\n                "the": 1,\n                "lab": 1,\n                "are": 1,\n                "in": 1,\n                "sydney": 1,\n                "australia": 1,\n                "base": 1,\n                "europ": 1,\n                "us": 1\n              },\n              "jointhelab": {\n                "how": 1,\n                "can": 1,\n                "i": 1,\n                "join": 1,\n                "you": 1,\n                "am": 1,\n                "interest": 1,\n                "in": 1,\n                "are": 1,\n                "there": 1,\n                "ani": 1,\n                "open": 1,\n                "posit": 1,\n                "show": 1,\n                "opportun": 1,\n                "this": 1,\n                "is": 1,\n                "cool": 1\n              },\n              "papers": {\n                "what": 1,\n                "did": 1,\n                "you": 1,\n                "publish": 1,\n                "show": 1,\n                "list": 1,\n                "of": 1,\n                "paper": 1,\n                "public": 1,\n                "write": 1,\n                "ani": 1,\n                "articl": 1\n              },\n              "software": {\n                "what": 1,\n                "kind": 1,\n                "of": 1,\n                "softwar": 1,\n                "are": 1,\n                "you": 1,\n                "maintain": 1,\n                "show": 1,\n                "me": 1,\n                "your": 1,\n                "open": 1,\n                "sourc": 1,\n                "packag": 1,\n                "have": 1,\n                "written": 1,\n                "is": 1,\n                "igraph": 1,\n                "done": 1,\n                "by": 1,\n                "fabilab": 1,\n                "htseq": 1,\n                "develop": 1,\n                "python": 1,\n                "code": 1,\n                "do": 1,\n                "write": 1\n              },\n              "news": {\n                "what": 1,\n                "is": 1,\n                "up": 1,\n                "new": 1,\n                "show": 1,\n                "the": 1,\n                "news": 1,\n                "blog": 1,\n                "happen": 1,\n                "at": 1,\n                "fabilab": 1,\n                "ani": 1,\n                "latest": 1\n              },\n              "github": {\n                "are": 1,\n                "you": 1,\n                "on": 1,\n                "github": 1,\n                "what": 1,\n                "is": 1,\n                "the": 1,\n                "lab": 1,\n                "link": 1,\n                "to": 1,\n                "go": 1,\n                "get": 1,\n                "profil": 1,\n                "show": 1,\n                "organis": 1\n              },\n              "scholar": {\n                "do": 1,\n                "you": 1,\n                "have": 1,\n                "googl": 1,\n                "scholar": 1,\n                "are": 1,\n                "on": 1,\n                "show": 1,\n                "fabio": 1,\n                "is": 1,\n                "profil": 1,\n                "what": 1,\n                "your": 1\n              }\n            },\n            "featuresToIntent": {\n              "hello": [\n                "like"\n              ],\n              "good": [\n                "like",\n                "dislike"\n              ],\n              "morn": [\n                "like"\n              ],\n              "day": [\n                "like"\n              ],\n              "g": [\n                "like"\n              ],\n              "hey": [\n                "like"\n              ],\n              "mate": [\n                "like"\n              ],\n              "hi": [\n                "like"\n              ],\n              "ciao": [\n                "like"\n              ],\n              "hola": [\n                "like"\n              ],\n              "there": [\n                "like",\n                "jointhelab"\n              ],\n              "buongiorno": [\n                "like"\n              ],\n              "this": [\n                "like",\n                "dislike",\n                "research",\n                "jointhelab"\n              ],\n              "page": [\n                "like"\n              ],\n              "is": [\n                "like",\n                "dislike",\n                "people",\n                "research",\n                "contact",\n                "jointhelab",\n                "software",\n                "news",\n                "github",\n                "scholar"\n              ],\n              "websit": [\n                "like",\n                "dislike"\n              ],\n              "great": [\n                "like"\n              ],\n              "i": [\n                "like",\n                "dislike",\n                "contact",\n                "jointhelab"\n              ],\n              "love": [\n                "like"\n              ],\n              "like": [\n                "like",\n                "dislike"\n              ],\n              "thank": [\n                "like"\n              ],\n              "you": [\n                "like",\n                "people",\n                "research",\n                "teaching",\n                "contact",\n                "jointhelab",\n                "papers",\n                "software",\n                "github",\n                "scholar"\n              ],\n              "are": [\n                "like",\n                "people",\n                "research",\n                "teaching",\n                "contact",\n                "jointhelab",\n                "software",\n                "github",\n                "scholar"\n              ],\n              "fantast": [\n                "like"\n              ],\n              "amaz": [\n                "like"\n              ],\n              "realli": [\n                "like",\n                "dislike"\n              ],\n              "nice": [\n                "like"\n              ],\n              "actual": [\n                "like"\n              ],\n              "gorgeous": [\n                "like"\n              ],\n              "do": [\n                "dislike",\n                "research",\n                "teaching",\n                "contact",\n                "software",\n                "scholar"\n              ],\n              "not": [\n                "dislike"\n              ],\n              "it": [\n                "dislike"\n              ],\n              "dislik": [\n                "dislike"\n              ],\n              "bad": [\n                "dislike"\n              ],\n              "confus": [\n                "dislike"\n              ],\n              "shut": [\n                "dislike"\n              ],\n              "up": [\n                "dislike",\n                "news"\n              ],\n              "dumb": [\n                "dislike"\n              ],\n              "horribl": [\n                "dislike"\n              ],\n              "a": [\n                "dislike"\n              ],\n              "gimmick": [\n                "dislike"\n              ],\n              "who": [\n                "people"\n              ],\n              "fabilab": [\n                "people",\n                "software",\n                "news"\n              ],\n              "belong": [\n                "people"\n              ],\n              "to": [\n                "people",\n                "github"\n              ],\n              "list": [\n                "people",\n                "research",\n                "teaching",\n                "papers"\n              ],\n              "the": [\n                "people",\n                "research",\n                "teaching",\n                "contact",\n                "news",\n                "github"\n              ],\n              "lab": [\n                "people",\n                "contact",\n                "github"\n              ],\n              "member": [\n                "people"\n              ],\n              "in": [\n                "people",\n                "research",\n                "contact",\n                "jointhelab"\n              ],\n              "group": [\n                "people"\n              ],\n              "peopl": [\n                "people"\n              ],\n              "of": [\n                "people",\n                "research",\n                "teaching",\n                "papers",\n                "software"\n              ],\n              "data": [\n                "people"\n              ],\n              "driven": [\n                "people"\n              ],\n              "biomedicin": [\n                "people"\n              ],\n              "what": [\n                "research",\n                "teaching",\n                "contact",\n                "papers",\n                "software",\n                "news",\n                "github",\n                "scholar"\n              ],\n              "research": [\n                "research"\n              ],\n              "show": [\n                "research",\n                "teaching",\n                "contact",\n                "jointhelab",\n                "papers",\n                "software",\n                "news",\n                "github",\n                "scholar"\n              ],\n              "project": [\n                "research"\n              ],\n              "where": [\n                "research",\n                "teaching",\n                "contact"\n              ],\n              "into": [\n                "research"\n              ],\n              "interest": [\n                "research",\n                "jointhelab"\n              ],\n              "avail": [\n                "research"\n              ],\n              "your": [\n                "research",\n                "teaching",\n                "contact",\n                "software",\n                "scholar"\n              ],\n              "jam": [\n                "research"\n              ],\n              "big": [\n                "research"\n              ],\n              "deal": [\n                "research"\n              ],\n              "about": [\n                "research"\n              ],\n              "kind": [\n                "research",\n                "software"\n              ],\n              "teach": [\n                "teaching"\n              ],\n              "talk": [\n                "teaching"\n              ],\n              "present": [\n                "teaching"\n              ],\n              "slide": [\n                "teaching"\n              ],\n              "how": [\n                "contact",\n                "jointhelab"\n              ],\n              "contact": [\n                "contact"\n              ],\n              "address": [\n                "contact"\n              ],\n              "email": [\n                "contact"\n              ],\n              "can": [\n                "contact",\n                "jointhelab"\n              ],\n              "reach": [\n                "contact"\n              ],\n              "sydney": [\n                "contact"\n              ],\n              "australia": [\n                "contact"\n              ],\n              "base": [\n                "contact"\n              ],\n              "europ": [\n                "contact"\n              ],\n              "us": [\n                "contact"\n              ],\n              "join": [\n                "jointhelab"\n              ],\n              "am": [\n                "jointhelab"\n              ],\n              "ani": [\n                "jointhelab",\n                "papers",\n                "news"\n              ],\n              "open": [\n                "jointhelab",\n                "software"\n              ],\n              "posit": [\n                "jointhelab"\n              ],\n              "opportun": [\n                "jointhelab"\n              ],\n              "cool": [\n                "jointhelab"\n              ],\n              "did": [\n                "papers"\n              ],\n              "publish": [\n                "papers"\n              ],\n              "paper": [\n                "papers"\n              ],\n              "public": [\n                "papers"\n              ],\n              "write": [\n                "papers",\n                "software"\n              ],\n              "articl": [\n                "papers"\n              ],\n              "softwar": [\n                "software"\n              ],\n              "maintain": [\n                "software"\n              ],\n              "me": [\n                "software"\n              ],\n              "sourc": [\n                "software"\n              ],\n              "packag": [\n                "software"\n              ],\n              "have": [\n                "software",\n                "scholar"\n              ],\n              "written": [\n                "software"\n              ],\n              "igraph": [\n                "software"\n              ],\n              "done": [\n                "software"\n              ],\n              "by": [\n                "software"\n              ],\n              "htseq": [\n                "software"\n              ],\n              "develop": [\n                "software"\n              ],\n              "python": [\n                "software"\n              ],\n              "code": [\n                "software"\n              ],\n              "new": [\n                "news"\n              ],\n              "news": [\n                "news"\n              ],\n              "blog": [\n                "news"\n              ],\n              "happen": [\n                "news"\n              ],\n              "at": [\n                "news"\n              ],\n              "latest": [\n                "news"\n              ],\n              "on": [\n                "github",\n                "scholar"\n              ],\n              "github": [\n                "github"\n              ],\n              "link": [\n                "github"\n              ],\n              "go": [\n                "github"\n              ],\n              "get": [\n                "github"\n              ],\n              "profil": [\n                "github",\n                "scholar"\n              ],\n              "organis": [\n                "github"\n              ],\n              "googl": [\n                "scholar"\n              ],\n              "scholar": [\n                "scholar"\n              ],\n              "fabio": [\n                "scholar"\n              ]\n            },\n            "neuralNetwork": {\n              "settings": {\n                "locale": "en",\n                "tag": "nlu-en",\n                "keepStopwords": true,\n                "nonefeatureValue": 1,\n                "nonedeltaMultiplier": 1.2,\n                "spellCheck": false,\n                "spellCheckDistance": 1,\n                "filterZeros": true,\n                "log": true\n              },\n              "features": [\n                "hello",\n                "good",\n                "morn",\n                "day",\n                "g",\n                "hey",\n                "mate",\n                "hi",\n                "ciao",\n                "hola",\n                "there",\n                "buongiorno",\n                "this",\n                "page",\n                "is",\n                "websit",\n                "great",\n                "i",\n                "love",\n                "like",\n                "thank",\n                "you",\n                "are",\n                "fantast",\n                "amaz",\n                "realli",\n                "nice",\n                "actual",\n                "gorgeous",\n                "do",\n                "not",\n                "it",\n                "dislik",\n                "bad",\n                "confus",\n                "shut",\n                "up",\n                "dumb",\n                "horribl",\n                "a",\n                "gimmick",\n                "who",\n                "fabilab",\n                "belong",\n                "to",\n                "list",\n                "the",\n                "lab",\n                "member",\n                "in",\n                "group",\n                "peopl",\n                "of",\n                "data",\n                "driven",\n                "biomedicin",\n                "what",\n                "research",\n                "show",\n                "project",\n                "where",\n                "into",\n                "interest",\n                "avail",\n                "your",\n                "jam",\n                "big",\n                "deal",\n                "about",\n                "kind",\n                "teach",\n                "talk",\n                "present",\n                "slide",\n                "how",\n                "contact",\n                "address",\n                "email",\n                "can",\n                "reach",\n                "sydney",\n                "australia",\n                "base",\n                "europ",\n                "us",\n                "join",\n                "am",\n                "ani",\n                "open",\n                "posit",\n                "opportun",\n                "cool",\n                "did",\n                "publish",\n                "paper",\n                "public",\n                "write",\n                "articl",\n                "softwar",\n                "maintain",\n                "me",\n                "sourc",\n                "packag",\n                "have",\n                "written",\n                "igraph",\n                "done",\n                "by",\n                "htseq",\n                "develop",\n                "python",\n                "code",\n                "new",\n                "news",\n                "blog",\n                "happen",\n                "at",\n                "latest",\n                "on",\n                "github",\n                "link",\n                "go",\n                "get",\n                "profil",\n                "organis",\n                "googl",\n                "scholar",\n                "fabio"\n              ],\n              "intents": [\n                "like",\n                "dislike",\n                "people",\n                "research",\n                "teaching",\n                "contact",\n                "jointhelab",\n                "papers",\n                "software",\n                "news",\n                "github",\n                "scholar"\n              ],\n              "perceptrons": [\n                [\n                  8.589081764221191,\n                  4.034748554229736,\n                  4.550479412078857,\n                  4.622570991516113,\n                  3.9261555671691895,\n                  8.326148986816406,\n                  0.3977449834346771,\n                  8.38961410522461,\n                  8.569194793701172,\n                  8.564600944519043,\n                  0.2935086190700531,\n                  8.566875457763672,\n                  0.5434116125106812,\n                  7.196996212005615,\n                  -3.281881332397461,\n                  3.917160987854004,\n                  7.411748886108398,\n                  -1.1168171167373657,\n                  1.9896302223205566,\n                  5.203169345855713,\n                  7.440910816192627,\n                  1.134163498878479,\n                  -2.781000852584839,\n                  10.202919960021973,\n                  11.293437957763672,\n                  1.0708861351013184,\n                  7.488544464111328,\n                  4.286137104034424,\n                  4.286137104034424,\n                  -3.387500524520874,\n                  -8.072256088256836,\n                  -1.5235850811004639,\n                  -5.439524173736572,\n                  -3.5346035957336426,\n                  -3.4883980751037598,\n                  -3.193056106567383,\n                  -3.193056106567383,\n                  -6.888974666595459,\n                  -5.7129034996032715,\n                  -3.461336612701416,\n                  -3.461336612701416,\n                  -4.071759223937988,\n                  -3.0129880905151367,\n                  -0.5724563598632812,\n                  -2.1099789142608643,\n                  -1.1688158512115479,\n                  -1.4418712854385376,\n                  -3.2154641151428223,\n                  -2.693315029144287,\n                  -3.0684664249420166,\n                  -0.039400190114974976,\n                  -5.7041544914245605,\n                  -1.3257750272750854,\n                  -0.9893932342529297,\n                  -0.9893932342529297,\n                  -0.9893932342529297,\n                  -3.7798690795898438,\n                  -0.8068947196006775,\n                  -4.915048122406006,\n                  -1.698742389678955,\n                  -4.051369667053223,\n                  -0.9251556396484375,\n                  -0.8122290372848511,\n                  -0.12147966772317886,\n                  -0.8847928643226624,\n                  -0.008524996228516102,\n                  0,\n                  0,\n                  0,\n                  -0.03131711110472679,\n                  -0.31508857011795044,\n                  -0.434626042842865,\n                  -1.288315773010254,\n                  -0.948006272315979,\n                  -2.408099889755249,\n                  -5.690330505371094,\n                  -5.698979377746582,\n                  -5.694764137268066,\n                  -2.1309268474578857,\n                  -1.3569865226745605,\n                  -1.013612985610962,\n                  -0.9942492246627808,\n                  0,\n                  0,\n                  0,\n                  -1.22556471824646,\n                  -0.42930370569229126,\n                  -3.5761301517486572,\n                  -3.194559335708618,\n                  -0.6471765041351318,\n                  -0.8098924160003662,\n                  -2.9341471195220947,\n                  -1.91374933719635,\n                  -1.1473522186279297,\n                  0,\n                  -0.7885235548019409,\n                  -0.7599866390228271,\n                  -0.7599866390228271,\n                  -0.13015198707580566,\n                  0,\n                  -0.13015198707580566,\n                  -2.5087549686431885,\n                  -2.9360527992248535,\n                  -0.6496493816375732,\n                  -0.1573953777551651,\n                  0,\n                  0,\n                  0,\n                  0,\n                  0,\n                  -2.7669970989227295,\n                  0,\n                  0,\n                  -2.123927354812622,\n                  -5.668589115142822,\n                  0,\n                  -1.3446499109268188,\n                  -1.3446499109268188,\n                  -1.7681959867477417,\n                  -2.8712337017059326,\n                  -0.7236402630805969,\n                  -0.7221083045005798,\n                  -1.4157514572143555,\n                  -1.4157514572143555,\n                  0,\n                  -0.5273042917251587,\n                  -2.2861886024475098,\n                  0,\n                  5.704466486028612\n                ],\n                [\n                  -1.0350154638290405,\n                  -1.1605761051177979,\n                  -0.22839924693107605,\n                  -0.6279959082603455,\n                  -0.41286903619766235,\n                  -1.0352163314819336,\n                  -0.27397799491882324,\n                  -1.0339311361312866,\n                  -1.032057285308838,\n                  -1.0307978391647339,\n                  -0.29505205154418945,\n                  -1.029392123222351,\n                  4.405919075012207,\n                  -5.42080020904541,\n                  0.9949987530708313,\n                  -1.3053815364837646,\n                  -5.288023471832275,\n                  0.217125803232193,\n                  -1.9348385334014893,\n                  -4.3092122077941895,\n                  0,\n                  -2.6021742820739746,\n                  -0.8268065452575684,\n                  0,\n                  -6.410621643066406,\n                  0.8566046953201294,\n                  -1.8888336420059204,\n                  -0.5150821208953857,\n                  -0.5150821208953857,\n                  3.766436815261841,\n                  8.156220436096191,\n                  5.409674644470215,\n                  8.605294227600098,\n                  7.85610818862915,\n                  7.854323387145996,\n                  8.055322647094727,\n                  5.191155433654785,\n                  9.129633903503418,\n                  13.213990211486816,\n                  4.573419570922852,\n                  4.573419570922852,\n                  -1.9262917041778564,\n                  -1.637992024421692,\n                  -0.09683021903038025,\n                  -0.49305644631385803,\n                  -0.533772885799408,\n                  -1.4879223108291626,\n                  -1.2422893047332764,\n                  -0.8004008531570435,\n                  -1.1321412324905396,\n                  -0.3522782027721405,\n                  -1.2096315622329712,\n                  -0.4362851083278656,\n                  -0.28905001282691956,\n                  -0.28905001282691956,\n                  -0.28905001282691956,\n                  -7.219015598297119,\n                  -0.16345137357711792,\n                  -1.2846907377243042,\n                  -0.712207555770874,\n                  -0.3281995356082916,\n                  -0.04777900502085686,\n                  -0.6172086000442505,\n                  -0.032898370176553726,\n                  -0.7487308979034424,\n                  -0.4881362318992615,\n                  -0.23010027408599854,\n                  -0.23010027408599854,\n                  -2.8512630462646484,\n                  0,\n                  0,\n                  -0.061493150889873505,\n                  -0.3336943984031677,\n                  -0.05041259527206421,\n                  -1.4319568872451782,\n                  -1.4111909866333008,\n                  -1.1211488246917725,\n                  -1.1254197359085083,\n                  -0.5003030300140381,\n                  -0.2691444754600525,\n                  0,\n                  0,\n                  -0.03740420192480087,\n                  0,\n                  0,\n                  -0.781748354434967,\n                  -0.5762802362442017,\n                  -0.5778765678405762,\n                  -0.6229730844497681,\n                  -0.07126329094171524,\n                  -0.16494765877723694,\n                  -6.584983825683594,\n                  0,\n                  0,\n                  0,\n                  -0.017431965097784996,\n                  0,\n                  0,\n                  0,\n                  0,\n                  0,\n                  -0.5274726152420044,\n                  -0.5680021643638611,\n                  -0.5434894561767578,\n                  0,\n                  -0.2401658445596695,\n                  -0.2401658445596695,\n                  -0.42134103178977966,\n                  -0.17248937487602234,\n                  -0.17248937487602234,\n                  -0.5680021643638611,\n                  0,\n                  0,\n                  -0.48238056898117065,\n                  -1.0369800329208374,\n                  0,\n                  0,\n                  0,\n                  0,\n                  -0.4440966546535492,\n                  -0.1574220210313797,\n                  -0.1378404051065445,\n                  -0.13143903017044067,\n                  -0.7071980237960815,\n                  0,\n                  -0.5434894561767578,\n                  -1.1128177642822266,\n                  -0.5623576045036316,\n                  1.0379195045506011\n                ],\n                [\n                  -1.3997256755828857,\n                  -0.8211005926132202,\n                  -0.6047840118408203,\n                  -0.8207125067710876,\n                  -0.6043961048126221,\n                  -1.3953303098678589,\n                  -0.2879379391670227,\n                  -1.391091227531433,\n                  -1.3869246244430542,\n                  -1.3830535411834717,\n                  -0.3785480856895447,\n                  -1.3790292739868164,\n                  -1.5155764818191528,\n                  -0.0042106108739972115,\n                  0.34228888154029846,\n                  -0.20334576070308685,\n                  -0.15030546486377716,\n                  -1.7648824453353882,\n                  -0.0042106108739972115,\n                  -0.001188074005767703,\n                  -5.13268518447876,\n                  4.2111992835998535,\n                  -4.089140892028809,\n                  -1.2211875915527344,\n                  -0.23589272797107697,\n                  -0.687419593334198,\n                  -0.687419593334198,\n                  -0.6868093609809875,\n                  -0.6868093609809875,\n                  -1.9374738931655884,\n                  0,\n                  0,\n                  0,\n                  -0.23351772129535675,\n                  -0.2322092205286026,\n                  -0.6860507130622864,\n                  -0.6860507130622864,\n                  -0.03528549149632454,\n                  -1.3252575397491455,\n                  -0.015278089791536331,\n                  -0.015278089791536331,\n                  11.191171646118164,\n                  1.6631600856781006,\n                  0.3965838849544525,\n                  -0.47696682810783386,\n                  5.603654861450195,\n                  -5.6931610107421875,\n                  0.9843834042549133,\n                  11.314437866210938,\n                  -1.5726104974746704,\n                  8.238326072692871,\n                  12.2893705368042,\n                  -0.33007150888442993,\n                  3.932002067565918,\n                  3.932002067565918,\n                  3.932002067565918,\n                  -3.401808738708496,\n                  -0.7396933436393738,\n                  -4.791347980499268,\n                  -1.9127273559570312,\n                  -3.0330474376678467,\n                  -0.2726391851902008,\n                  -0.4047749638557434,\n                  -0.07798873633146286,\n                  -0.3910670280456543,\n                  -0.13652661442756653,\n                  -0.3819701075553894,\n                  -0.3819701075553894,\n                  -0.1498379409313202,\n                  0,\n                  -0.2905438244342804,\n                  -1.9044642448425293,\n                  -0.22077694535255432,\n                  -0.5253079533576965,\n                  -1.6928339004516602,\n                  -1.4417318105697632,\n                  -1.4450018405914307,\n                  -1.4432542324066162,\n                  -1.4472168684005737,\n                  -0.7568597793579102,\n                  -0.40441763401031494,\n                  -0.3396722376346588,\n                  -0.637403130531311,\n                  -1.55077064037323,\n                  -1.372862458229065,\n                  -0.7507350444793701,\n                  -0.04321930930018425,\n                  -1.6704905033111572,\n                  -0.8402741551399231,\n                  -0.1903436779975891,\n                  0,\n                  -0.40118640661239624,\n                  -1.697567105293274,\n                  -0.5595250129699707,\n                  -1.8712303638458252,\n                  0,\n                  -1.1327687501907349,\n                  -1.1327687501907349,\n                  0,\n                  0,\n                  0,\n                  -0.6024305820465088,\n                  -0.8381596207618713,\n                  -1.2330973148345947,\n                  -0.18283730745315552,\n                  -1.1028740406036377,\n                  -1.1028740406036377,\n                  -2.205869197845459,\n                  -1.1009199619293213,\n                  -1.1009199619293213,\n                  -0.6550308465957642,\n                  0,\n                  -0.003260270459577441,\n                  -0.2897840440273285,\n                  -1.4151402711868286,\n                  0,\n                  -2.131478786468506,\n                  -2.124958038330078,\n                  -0.33492976427078247,\n                  -1.1693848371505737,\n                  -0.4185366630554199,\n                  -0.38340359926223755,\n                  -0.08878390491008759,\n                  -0.314849853515625,\n                  0,\n                  -1.0461302995681763,\n                  -1.4005191326141357,\n                  -0.22572465240955353,\n                  1.4425014421988476\n                ],\n                [\n                  0,\n                  -0.27566099166870117,\n                  0,\n                  0,\n                  0,\n                  0,\n                  0,\n                  0,\n                  0,\n                  0,\n                  -0.5274688601493835,\n                  0,\n                  3.9370553493499756,\n                  -0.20008781552314758,\n                  -1.2087069749832153,\n                  -0.3269321322441101,\n                  -0.1772230565547943,\n                  -2.1941423416137695,\n                  0,\n                  0,\n                  0,\n                  1.4255647659301758,\n                  0.6104786396026611,\n                  -0.11731617152690887,\n                  -0.4236825704574585,\n                  -0.07481278479099274,\n                  0,\n                  0,\n                  0,\n                  -0.09843311458826065,\n                  -0.07481278479099274,\n                  0,\n                  0,\n                  -0.42262738943099976,\n                  -0.419359415769577,\n                  0,\n                  -3.5324814319610596,\n                  -0.0989961326122284,\n                  0,\n                  -0.04909629002213478,\n                  -0.04909629002213478,\n                  -0.06482140719890594,\n                  -0.5370671153068542,\n                  0,\n                  0,\n                  0.4305264353752136,\n                  -0.2126440852880478,\n                  -2.5424420833587646,\n                  0,\n                  1.7054060697555542,\n                  0,\n                  0,\n                  0.0938509851694107,\n                  0,\n                  0,\n                  0,\n                  6.959615707397461,\n                  8.437600135803223,\n                  4.00540018081665,\n                  12.222858428955078,\n                  -4.460631847381592,\n                  7.558811664581299,\n                  5.863058090209961,\n                  -3.1305835247039795,\n                  1.5160633325576782,\n                  9.323850631713867,\n                  5.52146577835083,\n                  5.52146577835083,\n                  6.885412693023682,\n                  -0.32541295886039734,\n                  -5.989888668060303,\n                  -3.0374538898468018,\n                  -1.673633098602295,\n                  -1.6334102153778076,\n                  -0.5758467316627502,\n                  -0.6389775276184082,\n                  -0.6437047123908997,\n                  -5.003462791442871,\n                  -0.21976056694984436,\n                  -0.21976056694984436,\n                  -1.7768006324768066,\n                  -1.7035486698150635,\n                  -0.16183814406394958,\n                  -0.3009422719478607,\n                  -0.2383742481470108,\n                  -1.5363132953643799,\n                  -1.5363132953643799,\n                  -0.5274688601493835,\n                  -0.5274688601493835,\n                  -0.5274688601493835,\n                  -1.673888921737671,\n                  -1.0634976625442505,\n                  -3.0393502712249756,\n                  -3.0393502712249756,\n                  -2.908409357070923,\n                  -1.6667262315750122,\n                  -2.997410535812378,\n                  0,\n                  -3.2390456199645996,\n                  -3.2142014503479004,\n                  -0.012422014027833939,\n                  0,\n                  -2.027787923812866,\n                  -2.027787923812866,\n                  -2.027787923812866,\n                  -0.013849020935595036,\n                  -0.013849020935595036,\n                  -0.022039121016860008,\n                  -0.004073623567819595,\n                  -0.004073623567819595,\n                  0,\n                  -2.997410535812378,\n                  -3.4974172115325928,\n                  -1.4807052612304688,\n                  0,\n                  -3.457080602645874,\n                  -0.509388267993927,\n                  0,\n                  0,\n                  -1.4230550527572632,\n                  0,\n                  0,\n                  0,\n                  0,\n                  -0.2681111693382263,\n                  -2.4859533309936523,\n                  -2.4859533309936523,\n                  0,\n                  -2.299805800744588\n                ],\n                [\n                  -0.09420322626829147,\n                  -0.07502491772174835,\n                  -0.04813384264707565,\n                  -0.07386916130781174,\n                  -0.04699555039405823,\n                  -0.10197426378726959,\n                  -0.032722219824790955,\n                  -0.08960515260696411,\n                  -0.08779603242874146,\n                  -0.08691179007291794,\n                  -0.5154788494110107,\n                  -0.08526331931352615,\n                  -0.0016367682255804539,\n                  0,\n                  -3.712264060974121,\n                  0,\n                  0,\n                  -1.3742058277130127,\n                  0,\n                  -0.9076310992240906,\n                  0,\n                  -1.7207484245300293,\n                  0.40719228982925415,\n                  0,\n                  0,\n                  -0.05246926099061966,\n                  -0.05246926099061966,\n                  -0.05255367234349251,\n                  -0.05255367234349251,\n                  4.13408899307251,\n                  -0.9076310992240906,\n                  -0.9076310992240906,\n                  0,\n                  0,\n                  0,\n                  -0.03880626708269119,\n                  -0.03880626708269119,\n                  0,\n                  -0.06377831101417542,\n                  0,\n                  0,\n                  -0.10078586637973785,\n                  -0.3361469805240631,\n                  -0.000002633349822644959,\n                  -0.017281390726566315,\n                  2.0432991981506348,\n                  -4.602781772613525,\n                  -1.2393208742141724,\n                  -0.5321187376976013,\n                  -0.5873365998268127,\n                  0,\n                  -0.0633658841252327,\n                  0.5359531044960022,\n                  0,\n                  0,\n                  0,\n                  1.5088642835617065,\n                  -3.8588571548461914,\n                  2.3513290882110596,\n                  -4.7571940422058105,\n                  1.3975741863250732,\n                  -0.48278602957725525,\n                  -0.02242152765393257,\n                  -0.0037739013787359,\n                  4.114447593688965,\n                  -1.8143117427825928,\n                  0,\n                  0,\n                  0,\n                  -1.2749017477035522,\n                  10.330860137939453,\n                  9.131635665893555,\n                  11.921602249145508,\n                  8.16751480102539,\n                  -0.43534761667251587,\n                  -0.6875073909759521,\n                  -1.0819708108901978,\n                  -1.8806766271591187,\n                  -0.06757193058729172,\n                  -0.06757193058729172,\n                  -0.23081041872501373,\n                  -0.18791665136814117,\n                  -0.32142236828804016,\n                  -0.02229694090783596,\n                  -0.005672011990100145,\n                  -0.014877754263579845,\n                  -0.014877754263579845,\n                  -0.5154788494110107,\n                  -0.5343009829521179,\n                  -0.5154788494110107,\n                  -2.362109899520874,\n                  -0.0016367682255804539,\n                  -0.2562902569770813,\n                  -0.2562902569770813,\n                  -4.815966606140137,\n                  -2.343689203262329,\n                  -1.9839375019073486,\n                  0,\n                  -3.3123302459716797,\n                  -0.19245018064975739,\n                  -3.0716941356658936,\n                  -0.008176038041710854,\n                  -0.2634660601615906,\n                  -0.15367963910102844,\n                  -0.15367963910102844,\n                  0,\n                  0,\n                  0,\n                  0,\n                  0,\n                  -0.10071828216314316,\n                  -1.9839375019073486,\n                  0,\n                  -0.7985893487930298,\n                  -0.12248117476701736,\n                  0,\n                  -0.012198057025671005,\n                  -0.012198057025671005,\n                  -0.02434770204126835,\n                  -1.1973236799240112,\n                  -0.005791717208921909,\n                  -0.004762167576700449,\n                  -0.004333788529038429,\n                  -0.004333788529038429,\n                  -1.1388983726501465,\n                  -1.1634424924850464,\n                  -1.1691632270812988,\n                  0,\n                  -0.030056887716196776\n                ],\n                [\n                  -1.4459651708602905,\n                  -0.9960349202156067,\n                  -0.4825081527233124,\n                  -0.8634175062179565,\n                  -0.6140649914741516,\n                  -1.4409219026565552,\n                  -0.33387458324432373,\n                  -1.4357770681381226,\n                  -1.4316534996032715,\n                  -1.427481770515442,\n                  -0.7924661040306091,\n                  -1.4232014417648315,\n                  -4.681014060974121,\n                  -0.25006380677223206,\n                  3.9431488513946533,\n                  -0.6111137270927429,\n                  -0.4459783434867859,\n                  -1.3507713079452515,\n                  0,\n                  -0.5116584897041321,\n                  -5.779120922088623,\n                  4.47984504699707,\n                  -1.4790849685668945,\n                  -4.314426422119141,\n                  -0.7207142114639282,\n                  -0.7216777801513672,\n                  -0.7216777801513672,\n                  -0.720956027507782,\n                  -0.720956027507782,\n                  -3.28267240524292,\n                  -0.5116584897041321,\n                  -0.5116584897041321,\n                  0,\n                  -0.7102358937263489,\n                  -0.7032347917556763,\n                  -0.20361490547657013,\n                  -1.251368761062622,\n                  -0.1030959039926529,\n                  -1.3842847347259521,\n                  -0.04969681054353714,\n                  -0.04969681054353714,\n                  -5.780850887298584,\n                  -1.928049921989441,\n                  0,\n                  -0.08550039678812027,\n                  -1.3611505031585693,\n                  -2.0782134532928467,\n                  2.385453462600708,\n                  -3.860635280609131,\n                  5.260986804962158,\n                  -2.9028937816619873,\n                  -2.0192277431488037,\n                  -1.2808284759521484,\n                  -1.294633150100708,\n                  -1.294633150100708,\n                  -1.294633150100708,\n                  -4.178947448730469,\n                  -3.3986494541168213,\n                  -10.929058074951172,\n                  -3.3986494541168213,\n                  8.94149112701416,\n                  -0.14988547563552856,\n                  -5.351843357086182,\n                  0,\n                  0.13902762532234192,\n                  -1.2293800115585327,\n                  0,\n                  0,\n                  0,\n                  -0.8274044394493103,\n                  -0.0009598525939509273,\n                  -1.135069727897644,\n                  0,\n                  -8.693413734436035,\n                  0.6508062481880188,\n                  12.537775039672852,\n                  11.844112396240234,\n                  12.477291107177734,\n                  1.5974570512771606,\n                  7.426938056945801,\n                  4.660880088806152,\n                  4.6302876472473145,\n                  -0.31695809960365295,\n                  3.158705234527588,\n                  3.1333324909210205,\n                  -7.276368141174316,\n                  -1.3103089332580566,\n                  -1.6468734741210938,\n                  -1.3027890920639038,\n                  -0.6310450434684753,\n                  -0.7343764901161194,\n                  -1.5973931550979614,\n                  -1.9133909940719604,\n                  -0.938287079334259,\n                  -0.30631762742996216,\n                  -0.6393357515335083,\n                  -1.6008988618850708,\n                  -0.829702615737915,\n                  -1.4183210134506226,\n                  -0.6685268878936768,\n                  -0.5990166068077087,\n                  -0.5415364503860474,\n                  -1.2033652067184448,\n                  -1.6830021142959595,\n                  -0.5994560122489929,\n                  -0.8799776434898376,\n                  -0.8799776434898376,\n                  -1.7618939876556396,\n                  -0.8811671733856201,\n                  -0.8811671733856201,\n                  -0.5002688765525818,\n                  -0.6968625783920288,\n                  -1.2369740009307861,\n                  -0.6029462814331055,\n                  -1.4604570865631104,\n                  -1.2255711555480957,\n                  -0.1367974579334259,\n                  -0.07881618291139603,\n                  -1.9506494998931885,\n                  -2.8272974491119385,\n                  -0.04344101622700691,\n                  -0.02503678761422634,\n                  -0.016866644844412804,\n                  -1.196220874786377,\n                  0,\n                  -1.0164624452590942,\n                  -3.0616748332977295,\n                  -1.1733636856079102,\n                  1.5012386712696892\n                ],\n                [\n                  -0.17784829437732697,\n                  -1.0254709720611572,\n                  -0.09005068242549896,\n                  -0.2112959623336792,\n                  -0.1144787147641182,\n                  -0.2668590843677521,\n                  -0.10216032713651657,\n                  -2.1545162200927734,\n                  -0.1583685427904129,\n                  -0.1527663618326187,\n                  2.8294191360473633,\n                  -0.11099319905042648,\n                  0.7309562563896179,\n                  -1.3709434270858765,\n                  2.1012637615203857,\n                  -1.8352065086364746,\n                  -0.6162561178207397,\n                  1.1191627979278564,\n                  -0.8988344669342041,\n                  -1.0951857566833496,\n                  0,\n                  -1.1681183576583862,\n                  1.8475630283355713,\n                  -0.15223993360996246,\n                  -2.108989715576172,\n                  -0.37333574891090393,\n                  -0.0040556155145168304,\n                  -0.00389487505890429,\n                  -0.00389487505890429,\n                  -1.056264877319336,\n                  -0.712525486946106,\n                  -0.28414174914360046,\n                  -1.49434494972229,\n                  -2.1093194484710693,\n                  -2.104557991027832,\n                  0,\n                  -0.1896238923072815,\n                  -0.27705439925193787,\n                  0,\n                  -0.1378466784954071,\n                  -0.1378466784954071,\n                  -0.6744237542152405,\n                  -0.7065490484237671,\n                  0,\n                  -0.15183797478675842,\n                  -0.7536192536354065,\n                  -1.199946641921997,\n                  -0.4991002082824707,\n                  -0.024637458845973015,\n                  0.22068120539188385,\n                  -0.24837538599967957,\n                  -0.2884458005428314,\n                  -1.0017911195755005,\n                  0,\n                  0,\n                  0,\n                  -2.2981057167053223,\n                  -0.010886549949645996,\n                  2.607339382171631,\n                  -1.8798439502716064,\n                  -0.18260398507118225,\n                  0,\n                  1.4244338274002075,\n                  0,\n                  -0.7861253023147583,\n                  0,\n                  0,\n                  0,\n                  0,\n                  -0.18985870480537415,\n                  0,\n                  -0.13306254148483276,\n                  -1.875203013420105,\n                  -0.16083085536956787,\n                  2.2761611938476562,\n                  -0.6484531164169312,\n                  -0.9420174360275269,\n                  -0.9420174360275269,\n                  2.9450876712799072,\n                  -4.426952838897705,\n                  -0.27757906913757324,\n                  -0.23755797743797302,\n                  0,\n                  -0.062377043068408966,\n                  -0.039121728390455246,\n                  9.810750961303711,\n                  2.4365298748016357,\n                  2.6937758922576904,\n                  2.7666585445404053,\n                  4.8687872886657715,\n                  12.377693176269531,\n                  12.155125617980957,\n                  -0.7547116279602051,\n                  -0.17158474028110504,\n                  -0.6145976781845093,\n                  -1.892317295074463,\n                  -0.5388626456260681,\n                  -0.5090608596801758,\n                  -0.8539345860481262,\n                  -0.16379685699939728,\n                  -0.6120268106460571,\n                  -2.101412773132324,\n                  -0.3519318103790283,\n                  -0.11811534315347672,\n                  -0.07640358060598373,\n                  -0.2311183214187622,\n                  -0.2311183214187622,\n                  -0.5488232970237732,\n                  -0.2572469413280487,\n                  -0.2572469413280487,\n                  -0.2411419004201889,\n                  -0.014452132396399975,\n                  -0.20506371557712555,\n                  -2.0270540714263916,\n                  -0.30103811621665955,\n                  -0.12091637402772903,\n                  -0.09475584328174591,\n                  -0.05798972398042679,\n                  -0.4336108863353729,\n                  -1.2590749263763428,\n                  -0.0678102895617485,\n                  -0.05524095147848129,\n                  -0.05132685974240303,\n                  -0.3208591341972351,\n                  -0.7040808200836182,\n                  -0.7385875582695007,\n                  -1.230756402015686,\n                  -0.24292166531085968,\n                  -0.7187246193320017\n                ],\n                [\n                  -0.1257631480693817,\n                  -0.14982110261917114,\n                  -0.08014862984418869,\n                  -0.1406649500131607,\n                  -0.0723802000284195,\n                  -0.16588960587978363,\n                  -0.06509650498628616,\n                  -0.14194777607917786,\n                  -0.110176220536232,\n                  -0.10669094324111938,\n                  -0.12000877410173416,\n                  -0.10182050615549088,\n                  -0.08666867017745972,\n                  -0.030063947662711143,\n                  -0.612675666809082,\n                  -0.027263633906841278,\n                  -0.0010202665580436587,\n                  -0.4287286698818207,\n                  -0.030063947662711143,\n                  -0.02535063400864601,\n                  -1.2897990942001343,\n                  1.3931001424789429,\n                  -1.797995924949646,\n                  -0.24331936240196228,\n                  0,\n                  -0.04536639153957367,\n                  -0.04536639153957367,\n                  -0.04390863701701164,\n                  -0.04390863701701164,\n                  -2.022718906402588,\n                  0,\n                  0,\n                  -0.010522532276809216,\n                  0,\n                  0,\n                  -0.03178805112838745,\n                  -0.15650345385074615,\n                  0,\n                  -0.056803829967975616,\n                  0,\n                  0,\n                  -0.18644565343856812,\n                  -0.4391273260116577,\n                  0,\n                  -0.09881618618965149,\n                  1.4928125143051147,\n                  -1.1448758840560913,\n                  -0.27120906114578247,\n                  -0.39200296998023987,\n                  -0.1696607917547226,\n                  0,\n                  -0.04202787205576897,\n                  0.2820054888725281,\n                  -0.002579429652541876,\n                  -0.002579429652541876,\n                  -0.002579429652541876,\n                  0.7825734615325928,\n                  -0.18251344561576843,\n                  2.6790101528167725,\n                  -4.315186500549316,\n                  0,\n                  -0.30294400453567505,\n                  -0.1696607917547226,\n                  0,\n                  -0.7717154622077942,\n                  0,\n                  0,\n                  0,\n                  -0.00017623523308429867,\n                  -1.2982431650161743,\n                  -0.07437804341316223,\n                  -4.311368942260742,\n                  -2.5338196754455566,\n                  0,\n                  -0.34296002984046936,\n                  0,\n                  -1.270950436592102,\n                  -1.270950436592102,\n                  -0.34296002984046936,\n                  -0.19035717844963074,\n                  0,\n                  0,\n                  0,\n                  0,\n                  0,\n                  -0.14092256128787994,\n                  0,\n                  1.7552838325500488,\n                  -0.3700343072414398,\n                  -0.06281168013811111,\n                  -2.523589849472046,\n                  0,\n                  7.497310161590576,\n                  4.751657009124756,\n                  9.964109420776367,\n                  11.720945358276367,\n                  1.0310614109039307,\n                  2.7456748485565186,\n                  -1.1996327638626099,\n                  -0.36956894397735596,\n                  -0.7717154622077942,\n                  -0.27701735496520996,\n                  -0.9059321880340576,\n                  -0.7565037608146667,\n                  -0.7083263993263245,\n                  -0.09548977762460709,\n                  -0.09548977762460709,\n                  -0.22753944993019104,\n                  -0.09308180958032608,\n                  -0.09308180958032608,\n                  -0.17115819454193115,\n                  -1.6830894947052002,\n                  -0.12360791116952896,\n                  -1.7830997705459595,\n                  -0.2409941554069519,\n                  -0.11319392174482346,\n                  -0.06551623344421387,\n                  -0.06551623344421387,\n                  -0.33063793182373047,\n                  -1.5042957067489624,\n                  -0.04508296400308609,\n                  -0.03568674623966217,\n                  -0.034241776913404465,\n                  -0.03978849947452545,\n                  -1.125100016593933,\n                  -1.277368426322937,\n                  -1.4155817031860352,\n                  -0.00020676579151768237,\n                  -0.1370331172917139\n                ],\n                [\n                  -0.4577033519744873,\n                  -0.5530785918235779,\n                  -0.2836938798427582,\n                  -0.5062497854232788,\n                  -0.26247596740722656,\n                  -0.6029000878334045,\n                  -0.23558320105075836,\n                  -0.5462161898612976,\n                  -0.4023389518260956,\n                  -0.3895163834095001,\n                  -1.4268590211868286,\n                  -0.37072575092315674,\n                  -0.2566733956336975,\n                  -0.1205488070845604,\n                  -1.250854730606079,\n                  -0.10559885948896408,\n                  -0.03295637294650078,\n                  -0.6511859893798828,\n                  -0.10047071427106857,\n                  -0.22880083322525024,\n                  -1.2066054344177246,\n                  0.774154007434845,\n                  -0.8430632948875427,\n                  -0.7633082270622253,\n                  0,\n                  -0.22635917365550995,\n                  -0.22635917365550995,\n                  -0.22013869881629944,\n                  -0.22013869881629944,\n                  0.03957083448767662,\n                  -0.15083587169647217,\n                  -0.15083587169647217,\n                  -0.007437302265316248,\n                  0,\n                  0,\n                  -0.005727238953113556,\n                  -1.2409192323684692,\n                  0,\n                  -0.3228011131286621,\n                  0,\n                  0,\n                  -1.5045661926269531,\n                  1.809212327003479,\n                  -0.4034566879272461,\n                  -0.6783455610275269,\n                  -1.1084401607513428,\n                  -0.9332519173622131,\n                  -0.32795265316963196,\n                  -1.9141877889633179,\n                  -0.47419238090515137,\n                  0,\n                  -0.3180719017982483,\n                  -1.3945763111114502,\n                  -0.01596153900027275,\n                  -0.01596153900027275,\n                  -0.01596153900027275,\n                  0.48903122544288635,\n                  -3.822287082672119,\n                  -0.014946555718779564,\n                  -0.9081873893737793,\n                  -0.4093207120895386,\n                  -0.7231183648109436,\n                  -0.47419238090515137,\n                  0,\n                  1.3637040853500366,\n                  -1.107713222503662,\n                  0,\n                  0,\n                  0,\n                  1.6532924175262451,\n                  -1.5671521425247192,\n                  -0.313157320022583,\n                  -0.49318376183509827,\n                  -0.4093207120895386,\n                  -0.2603674829006195,\n                  -0.30641648173332214,\n                  -0.3064746856689453,\n                  -0.9073620438575745,\n                  -0.12283773720264435,\n                  -0.07043549418449402,\n                  0,\n                  0,\n                  0,\n                  0,\n                  0,\n                  -0.043592412024736404,\n                  0,\n                  -3.198992967605591,\n                  6.380671977996826,\n                  -1.2093614339828491,\n                  -0.4284748435020447,\n                  0,\n                  -1.6891772747039795,\n                  -0.044047098606824875,\n                  -0.1204850822687149,\n                  -0.4127011299133301,\n                  5.451926231384277,\n                  -1.6338317394256592,\n                  8.628738403320312,\n                  4.614601135253906,\n                  4.011184215545654,\n                  7.590390682220459,\n                  8.39342212677002,\n                  1.514007329940796,\n                  2.8210456371307373,\n                  3.354987859725952,\n                  3.354987859725952,\n                  6.709968090057373,\n                  3.354964256286621,\n                  3.354964256286621,\n                  5.573054313659668,\n                  7.085707664489746,\n                  -2.112990379333496,\n                  -1.0059436559677124,\n                  -0.6985715627670288,\n                  -1.1014928817749023,\n                  -1.9219201803207397,\n                  -0.8605276346206665,\n                  -1.0982037782669067,\n                  -1.6804641485214233,\n                  -0.11113184690475464,\n                  -0.0864456444978714,\n                  -0.08544805645942688,\n                  -0.13242705166339874,\n                  -0.27595680952072144,\n                  -1.7067856788635254,\n                  -2.257021188735962,\n                  -0.023211229592561722,\n                  0.30906662532101886\n                ],\n                [\n                  -1.0814149379730225,\n                  -1.0894547700881958,\n                  -0.37881210446357727,\n                  -0.8137016892433167,\n                  -0.5041517615318298,\n                  -1.1249592304229736,\n                  -0.39806845784187317,\n                  -1.0931507349014282,\n                  -1.0795278549194336,\n                  -1.0787339210510254,\n                  -0.7324418425559998,\n                  -1.0778167247772217,\n                  -4.936841011047363,\n                  -0.36724182963371277,\n                  2.2810161113739014,\n                  -0.5083383321762085,\n                  -0.36924847960472107,\n                  -0.21055419743061066,\n                  -0.025761594995856285,\n                  -0.1321091651916504,\n                  -0.046344347298145294,\n                  -3.910769462585449,\n                  -2.573756694793701,\n                  -0.0022557484917342663,\n                  -0.39157232642173767,\n                  -0.5590393543243408,\n                  -0.5547282695770264,\n                  -0.5543183088302612,\n                  -0.5543183088302612,\n                  -1.4981610774993896,\n                  -0.10223083943128586,\n                  -0.09523176401853561,\n                  -0.004390915855765343,\n                  -0.30380919575691223,\n                  -0.24076539278030396,\n                  -7.104817867279053,\n                  6.188763618469238,\n                  -0.04020097479224205,\n                  -1.0590598583221436,\n                  -0.011864729225635529,\n                  -0.011864729225635529,\n                  -2.835568428039551,\n                  -1.3749881982803345,\n                  -0.28304213285446167,\n                  -0.6821734309196472,\n                  -0.5945553779602051,\n                  0.6374138593673706,\n                  -3.814171552658081,\n                  -0.7541561722755432,\n                  -0.6831347942352295,\n                  -0.46021488308906555,\n                  -1.0551261901855469,\n                  -1.2510619163513184,\n                  0,\n                  0,\n                  0,\n                  4.59876012802124,\n                  -0.8591852188110352,\n                  0.8882526159286499,\n                  -2.052316665649414,\n                  -0.11614949256181717,\n                  -0.4362882077693939,\n                  -0.20122681558132172,\n                  -1.0374070405960083,\n                  -5.549817085266113,\n                  -2.3833651542663574,\n                  -4.256429195404053,\n                  -4.256429195404053,\n                  -2.932467460632324,\n                  0,\n                  -0.24129173159599304,\n                  -0.20054662227630615,\n                  -1.9209915399551392,\n                  0,\n                  0,\n                  -1.0321351289749146,\n                  -1.0372178554534912,\n                  -2.2992630004882812,\n                  0,\n                  0,\n                  0,\n                  0,\n                  -0.019182097166776657,\n                  0,\n                  0,\n                  -0.0002410115412203595,\n                  -0.0002410115412203595,\n                  1.8104033470153809,\n                  -0.7150169610977173,\n                  -0.37945201992988586,\n                  -1.9062563180923462,\n                  0,\n                  -0.9226499199867249,\n                  -0.787873387336731,\n                  -0.09594457596540451,\n                  -1.8943041563034058,\n                  -0.17121759057044983,\n                  -0.12077566981315613,\n                  0,\n                  0,\n                  0,\n                  -0.3294350206851959,\n                  -0.7193541526794434,\n                  -0.602790355682373,\n                  -0.39128440618515015,\n                  -0.6058954000473022,\n                  -0.6058954000473022,\n                  -1.2061272859573364,\n                  -0.5986579656600952,\n                  -0.5986579656600952,\n                  -0.3272671103477478,\n                  -0.03644101321697235,\n                  5.422718524932861,\n                  11.502996444702148,\n                  13.147561073303223,\n                  6.340087413787842,\n                  2.9262685775756836,\n                  11.152729034423828,\n                  -0.2970981001853943,\n                  -4.7953972816467285,\n                  -0.16726362705230713,\n                  -0.12296304851770401,\n                  -0.11166369169950485,\n                  -0.6898127794265747,\n                  -0.24912050366401672,\n                  -1.8770979642868042,\n                  -2.704747200012207,\n                  -0.5224815607070923,\n                  1.0954407992872104\n                ],\n                [\n                  -0.23809759318828583,\n                  -0.49869513511657715,\n                  -0.15383516252040863,\n                  -0.3746633529663086,\n                  -0.1802603155374527,\n                  -0.41282495856285095,\n                  -0.1632121056318283,\n                  -0.37136605381965637,\n                  -0.18608075380325317,\n                  -0.2044626921415329,\n                  -0.138754740357399,\n                  -0.1909266859292984,\n                  -0.7235048413276672,\n                  -0.1464485377073288,\n                  -0.026151347905397415,\n                  -0.22272039949893951,\n                  -0.11266472190618515,\n                  -0.18655897676944733,\n                  -0.03382601588964462,\n                  -0.09615420550107956,\n                  -0.18353508412837982,\n                  0.1077577993273735,\n                  0.2738838195800781,\n                  -0.19735275208950043,\n                  -0.08201143145561218,\n                  -0.12290085107088089,\n                  -0.12290085107088089,\n                  -0.11824427545070648,\n                  -0.11824427545070648,\n                  -0.5306473970413208,\n                  -0.04832356423139572,\n                  -0.04832356423139572,\n                  -0.01002292800694704,\n                  -0.05366799980401993,\n                  -0.041989516466856,\n                  -0.1041833758354187,\n                  -0.21308009326457977,\n                  -0.011476116254925728,\n                  -0.1267305314540863,\n                  -0.004473370965570211,\n                  -0.004473370965570211,\n                  -1.2454445362091064,\n                  -0.5869512557983398,\n                  -0.5072298645973206,\n                  1.517037034034729,\n                  -0.4365764260292053,\n                  0.5521092414855957,\n                  1.1676888465881348,\n                  -0.7567558288574219,\n                  -0.8553283214569092,\n                  -0.0804935172200203,\n                  -0.23347099125385284,\n                  -0.2396121621131897,\n                  -0.2445642650127411,\n                  -0.2445642650127411,\n                  -0.2445642650127411,\n                  0.8685615062713623,\n                  -0.2769971787929535,\n                  0.487932413816452,\n                  -0.4823542535305023,\n                  -1.0323835611343384,\n                  -0.5880157947540283,\n                  -0.11987535655498505,\n                  -0.15048937499523163,\n                  -0.4575968384742737,\n                  -0.13658064603805542,\n                  -0.3935506045818329,\n                  -0.3935506045818329,\n                  -0.002352355746552348,\n                  -0.11970197409391403,\n                  -0.04421813413500786,\n                  -0.055574625730514526,\n                  -0.18962346017360687,\n                  -0.017892610281705856,\n                  0,\n                  0,\n                  -0.12835951149463654,\n                  -0.17994019389152527,\n                  0,\n                  0,\n                  0,\n                  0,\n                  -0.23707914352416992,\n                  -0.19888417422771454,\n                  -0.1835477203130722,\n                  0,\n                  0,\n                  0,\n                  0,\n                  0,\n                  -0.14638951420783997,\n                  0,\n                  -0.1670111119747162,\n                  -0.1670111119747162,\n                  0,\n                  -0.12945878505706787,\n                  0,\n                  0,\n                  -0.1145787164568901,\n                  -0.1145787164568901,\n                  0,\n                  0,\n                  -0.04350724443793297,\n                  -0.25104036927223206,\n                  -0.04350724443793297,\n                  0,\n                  0,\n                  0,\n                  0,\n                  0,\n                  0,\n                  0,\n                  -0.18929973244667053,\n                  -0.4377691447734833,\n                  0,\n                  -0.18504011631011963,\n                  0,\n                  0,\n                  2.1744935512542725,\n                  12.38480281829834,\n                  1.045710563659668,\n                  1.0452688932418823,\n                  1.4404810667037964,\n                  1.1224963665008545,\n                  2.0751967430114746,\n                  -0.6188473701477051,\n                  -1.890229344367981,\n                  -0.2656424641609192,\n                  -0.6615607038866161\n                ],\n                [\n                  -0.16661883890628815,\n                  -0.5622034072875977,\n                  -0.1415478140115738,\n                  -0.3090221881866455,\n                  -0.1338314712047577,\n                  -0.3207140266895294,\n                  -0.12256324291229248,\n                  -0.2859707474708557,\n                  -0.15935955941677094,\n                  -0.15306898951530457,\n                  -0.10351931303739548,\n                  -0.14201530814170837,\n                  -1.1390643119812012,\n                  -0.2129686325788498,\n                  0.8325096368789673,\n                  -0.3601735532283783,\n                  -0.17460055649280548,\n                  -0.36462438106536865,\n                  -0.031915999948978424,\n                  -0.12485714256763458,\n                  -0.32268816232681274,\n                  0.33031120896339417,\n                  0.7802558541297913,\n                  -0.4538419544696808,\n                  -0.13896583020687103,\n                  -0.09044540673494339,\n                  -0.06564968079328537,\n                  -0.06416881084442139,\n                  -0.06416881084442139,\n                  -0.3050471842288971,\n                  -0.10192672163248062,\n                  -0.07913942635059357,\n                  -0.0016204528510570526,\n                  -0.10857619345188141,\n                  -0.09031008929014206,\n                  -0.05039132758975029,\n                  -0.0622975192964077,\n                  -0.045291315764188766,\n                  -0.048189401626586914,\n                  -0.013422666117548943,\n                  -0.013422666117548943,\n                  -0.7557817697525024,\n                  -0.3670147657394409,\n                  -0.004438328091055155,\n                  -0.004438328091055155,\n                  -0.24887824058532715,\n                  -0.3551139533519745,\n                  -0.16711635887622833,\n                  -0.09584610909223557,\n                  -0.44046637415885925,\n                  -0.05923236161470413,\n                  -0.055275075137615204,\n                  -0.3009088337421417,\n                  -0.009645506739616394,\n                  -0.009645506739616394,\n                  -0.009645506739616394,\n                  -0.7621912956237793,\n                  -0.4012451767921448,\n                  0.42392638325691223,\n                  -0.39660999178886414,\n                  -0.31135040521621704,\n                  -0.2861035168170929,\n                  -0.1994011551141739,\n                  -0.028370315209031105,\n                  0.3447815775871277,\n                  -0.31797361373901367,\n                  -0.06644339114427567,\n                  -0.06644339114427567,\n                  0,\n                  -0.046673525124788284,\n                  -0.1275830715894699,\n                  -0.0761730745434761,\n                  -0.1932622790336609,\n                  -0.09738682955503464,\n                  -0.150895357131958,\n                  -0.11896239966154099,\n                  -0.09957683831453323,\n                  -0.3095569610595703,\n                  -0.01341512706130743,\n                  -0.01341512706130743,\n                  -0.03804676979780197,\n                  -0.0206212867051363,\n                  0,\n                  0,\n                  0,\n                  0,\n                  0,\n                  -0.03570668771862984,\n                  0,\n                  0,\n                  -0.15606315433979034,\n                  0,\n                  -0.03570668771862984,\n                  0,\n                  -0.015974419191479683,\n                  -0.14478155970573425,\n                  -0.03570668771862984,\n                  -0.03570668771862984,\n                  -0.23739266395568848,\n                  -0.000833092606626451,\n                  -0.23573948442935944,\n                  0,\n                  -0.11872074007987976,\n                  0.3980795741081238,\n                  -0.11872074007987976,\n                  -0.08748161792755127,\n                  -0.08748161792755127,\n                  -0.17057202756404877,\n                  -0.06851674616336823,\n                  -0.06851674616336823,\n                  0,\n                  0,\n                  -0.0021275661420077085,\n                  0,\n                  0,\n                  -0.0005778211634606123,\n                  0,\n                  0,\n                  2.8890607357025146,\n                  -3.11375093460083,\n                  0,\n                  0,\n                  -0.19011323153972626,\n                  1.4997336864471436,\n                  -0.013769729062914848,\n                  3.617457389831543,\n                  11.104056358337402,\n                  1.706903100013733,\n                  -0.8524527284520214\n                ]\n              ]\n            }\n          }\n        }\n      }\n    },\n    "intentDomains": {},\n    "extraSentences": [\n      [\n        "en",\n        "hello"\n      ],\n      [\n        "en",\n        "good morning"\n      ],\n      [\n        "en",\n        "good day"\n      ],\n      [\n        "en",\n        "g\'day"\n      ],\n      [\n        "en",\n        "hey"\n      ],\n      [\n        "en",\n        "hey mate"\n      ],\n      [\n        "en",\n        "hi"\n      ],\n      [\n        "en",\n        "ciao"\n      ],\n      [\n        "en",\n        "hola"\n      ],\n      [\n        "en",\n        "hi there"\n      ],\n      [\n        "en",\n        "buongiorno"\n      ],\n      [\n        "en",\n        "this page is good"\n      ],\n      [\n        "en",\n        "this website is great"\n      ],\n      [\n        "en",\n        "I love this page"\n      ],\n      [\n        "en",\n        "I like this website"\n      ],\n      [\n        "en",\n        "thank you!"\n      ],\n      [\n        "en",\n        "you are fantastic"\n      ],\n      [\n        "en",\n        "this is amazing"\n      ],\n      [\n        "en",\n        "really nice"\n      ],\n      [\n        "en",\n        "actually gorgeous"\n      ],\n      [\n        "en",\n        "I don\'t like it"\n      ],\n      [\n        "en",\n        "I dislike this"\n      ],\n      [\n        "en",\n        "this is bad"\n      ],\n      [\n        "en",\n        "this is confusing"\n      ],\n      [\n        "en",\n        "shut up"\n      ],\n      [\n        "en",\n        "this website is dumb"\n      ],\n      [\n        "en",\n        "horrible"\n      ],\n      [\n        "en",\n        "this is really not good"\n      ],\n      [\n        "en",\n        "this website is a gimmick"\n      ],\n      [\n        "en",\n        "who are you?"\n      ],\n      [\n        "en",\n        "who is fabilab?"\n      ],\n      [\n        "en",\n        "who belongs to fabilab?"\n      ],\n      [\n        "en",\n        "list the lab members"\n      ],\n      [\n        "en",\n        "who are the lab members?"\n      ],\n      [\n        "en",\n        "who is in the group"\n      ],\n      [\n        "en",\n        "who are the people in the lab?"\n      ],\n      [\n        "en",\n        "people"\n      ],\n      [\n        "en",\n        "lab members"\n      ],\n      [\n        "en",\n        "members of fabilab"\n      ],\n      [\n        "en",\n        "data driven biomedicine lab"\n      ],\n      [\n        "en",\n        "what do you research?"\n      ],\n      [\n        "en",\n        "show list of projects"\n      ],\n      [\n        "en",\n        "show projects"\n      ],\n      [\n        "en",\n        "where are the research projects?"\n      ],\n      [\n        "en",\n        "what are you into?"\n      ],\n      [\n        "en",\n        "what are you interested in?"\n      ],\n      [\n        "en",\n        "what projects are available?"\n      ],\n      [\n        "en",\n        "what\'s your jam?"\n      ],\n      [\n        "en",\n        "what\'s the big deal?"\n      ],\n      [\n        "en",\n        "what is this about?"\n      ],\n      [\n        "en",\n        "what kind of research do you do?"\n      ],\n      [\n        "en",\n        "what do you teach?"\n      ],\n      [\n        "en",\n        "show list of talks"\n      ],\n      [\n        "en",\n        "show presentations"\n      ],\n      [\n        "en",\n        "where are the talk slides?"\n      ],\n      [\n        "en",\n        "where are your slides?"\n      ],\n      [\n        "en",\n        "how do I contact you?"\n      ],\n      [\n        "en",\n        "address"\n      ],\n      [\n        "en",\n        "email"\n      ],\n      [\n        "en",\n        "contact"\n      ],\n      [\n        "en",\n        "how can I reach you?"\n      ],\n      [\n        "en",\n        "what is your email?"\n      ],\n      [\n        "en",\n        "show email address"\n      ],\n      [\n        "en",\n        "where is the lab?"\n      ],\n      [\n        "en",\n        "where are you?"\n      ],\n      [\n        "en",\n        "are you in Sydney?"\n      ],\n      [\n        "en",\n        "are you in Australia?"\n      ],\n      [\n        "en",\n        "where is the lab based?"\n      ],\n      [\n        "en",\n        "is the lab in Europe?"\n      ],\n      [\n        "en",\n        "is the lab in the US?"\n      ],\n      [\n        "en",\n        "how can I join you?"\n      ],\n      [\n        "en",\n        "I am interesting in joining"\n      ],\n      [\n        "en",\n        "are there any open positions?"\n      ],\n      [\n        "en",\n        "show opportunities"\n      ],\n      [\n        "en",\n        "this is cool"\n      ],\n      [\n        "en",\n        "what did you publish?"\n      ],\n      [\n        "en",\n        "show list of papers"\n      ],\n      [\n        "en",\n        "show publications"\n      ],\n      [\n        "en",\n        "did you write any articles?"\n      ],\n      [\n        "en",\n        "what kind of software are you maintaining?"\n      ],\n      [\n        "en",\n        "show me your software"\n      ],\n      [\n        "en",\n        "open source"\n      ],\n      [\n        "en",\n        "what packages have you written?"\n      ],\n      [\n        "en",\n        "is igraph done by fabilab?"\n      ],\n      [\n        "en",\n        "is HTSeq developed by fabilab?"\n      ],\n      [\n        "en",\n        "Python packages"\n      ],\n      [\n        "en",\n        "what kind of code do you write?"\n      ],\n      [\n        "en",\n        "what code do you write?"\n      ],\n      [\n        "en",\n        "what\'s up?"\n      ],\n      [\n        "en",\n        "what\'s new?"\n      ],\n      [\n        "en",\n        "show the news"\n      ],\n      [\n        "en",\n        "blog"\n      ],\n      [\n        "en",\n        "what is happening?"\n      ],\n      [\n        "en",\n        "what is new at fabilab?"\n      ],\n      [\n        "en",\n        "any news?"\n      ],\n      [\n        "en",\n        "latest at fabilab"\n      ],\n      [\n        "en",\n        "are you on github?"\n      ],\n      [\n        "en",\n        "what\'s the lab github?"\n      ],\n      [\n        "en",\n        "link to github"\n      ],\n      [\n        "en",\n        "go to github"\n      ],\n      [\n        "en",\n        "get github profile"\n      ],\n      [\n        "en",\n        "show github organisation"\n      ],\n      [\n        "en",\n        "do you have google scholar?"\n      ],\n      [\n        "en",\n        "are you on scholar?"\n      ],\n      [\n        "en",\n        "show google scholar"\n      ],\n      [\n        "en",\n        "Fabio\'s scholar profile"\n      ],\n      [\n        "en",\n        "what\'s your google scholar?"\n      ]\n    ]\n  },\n  "ner": {\n    "settings": {\n      "tag": "ner"\n    },\n    "rules": {}\n  },\n  "nlgManager": {\n    "settings": {\n      "tag": "nlg-manager"\n    },\n    "responses": {}\n  },\n  "actionManager": {\n    "settings": {\n      "tag": "action-manager"\n    },\n    "actions": {}\n  },\n  "slotManager": {}\n}'],i||(i=e.slice(0)),t=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(i)}}))));n.exports=s},2545:n=>{n.exports=class{constructor(n,t,e,i,s){this.s_size=n.length,this.s=n,this.substring_i=t,this.result=e,this.method=i,this.instance=s}}},1401:(n,t,e)=>{const{defaultContainer:i}=e(8614);class s{constructor(n=i){this.container=n.container||n,this.name="arrToObj"}static arrToObj(n){const t={};for(let e=0;e<n.length;e+=1)t[n[e]]=1;return t}run(n){return Array.isArray(n)?s.arrToObj(n):(n.tokens=s.arrToObj(n.tokens),n)}}n.exports=s},5051:(n,t,e)=>{const{defaultContainer:i}=e(8614),s=e(4658);n.exports=class{constructor(n=i,t){this.container=n.container||n,this.cache={},this.setCurrent(""),this.dictionary=t||{before:{},after:{}}}setCurrent(n){this.current=n,this.cursor=0,this.limit=this.current.length,this.limit_backward=0,this.bra=this.cursor,this.ket=this.limit}getCurrent(){return this.current}bc(n,t){return 0==(n[t>>>3]&1<<(7&t))}in_grouping(n,t,e){if(this.cursor>=this.limit)return!1;let i=this.current.charCodeAt(this.cursor);return!(i>e||i<t||(i-=t,this.bc(n,i)||(this.cursor++,0)))}in_grouping_b(n,t,e){if(this.cursor<=this.limit_backward)return!1;let i=this.current.charCodeAt(this.cursor-1);return!(i>e||i<t||(i-=t,this.bc(n,i)||(this.cursor--,0)))}out_grouping(n,t,e){if(this.cursor>=this.limit)return!1;let i=this.current.charCodeAt(this.cursor);return i>e||i<t?(this.cursor++,!0):(i-=t,!!this.bc(n,i)&&(this.cursor++,!0))}out_grouping_b(n,t,e){if(this.cursor<=this.limit_backward)return!1;let i=this.current.charCodeAt(this.cursor-1);return i>e||i<t?(this.cursor--,!0):(i-=t,!!this.bc(n,i)&&(this.cursor--,!0))}eq_s(n,t){return"string"==typeof n&&(n=(t=n).length),!(this.limit-this.cursor<n||this.current.slice(this.cursor,this.cursor+n)!=t||(this.cursor+=n,0))}eq_s_b(n,t){return"string"==typeof n&&(n=(t=n).length),!(this.cursor-this.limit_backward<n||this.current.slice(this.cursor-n,this.cursor)!=t||(this.cursor-=n,0))}find_among(n,t){let e=0,i=t||n.length;const s=this.cursor,r=this.limit;let a=0,o=0,u=!1;for(;;){const t=e+(i-e>>>1);let h=0,g=a<o?a:o;var l,c=n[t];for(l=g;l<c.s_size;l++){if(s+g==r){h=-1;break}if(h=this.current.charCodeAt(s+g)-c.s.charCodeAt(l),0!=h)break;g++}if(h<0?(i=t,o=g):(e=t,a=g),i-e<=1){if(e>0)break;if(i==e)break;if(u)break;u=!0}}for(;;){if(a>=(c=n[e]).s_size){if(this.cursor=s+c.s_size,null==c.method)return c.result;const n=c.method(c.instance);if(this.cursor=s+c.s_size,n)return c.result}if(e=c.substring_i,e<0)return 0}return-1}find_among_b(n,t){let e=0,i=t||n.length;const s=this.cursor,r=this.limit_backward;let a=0,o=0,u=!1;for(;;){const t=e+(i-e>>1);let h=0,g=a<o?a:o;var l;for(l=(c=n[t]).s_size-1-g;l>=0;l--){if(s-g==r){h=-1;break}if(h=this.current.charCodeAt(s-1-g)-c.s.charCodeAt(l),0!=h)break;g++}if(h<0?(i=t,o=g):(e=t,a=g),i-e<=1){if(e>0)break;if(i==e)break;if(u)break;u=!0}}for(;;){var c;if(a>=(c=n[e]).s_size){if(this.cursor=s-c.s_size,null==c.method)return c.result;const n=c.method(this);if(this.cursor=s-c.s_size,n)return c.result}if(e=c.substring_i,e<0)return 0}return-1}replace_s(n,t,e){const i=e.length-(t-n);return this.current=this.current.slice(0,n)+e+this.current.slice(t),this.limit+=i,this.cursor>=t?this.cursor+=i:this.cursor>n&&(this.cursor=n),i}slice_check(){return!(this.bra<0||this.bra>this.ket||this.ket>this.limit||this.limit>this.current.length)}slice_from(n){return!!this.slice_check()&&(this.replace_s(this.bra,this.ket,n),!0)}slice_del(){return this.slice_from("")}insert(n,t,e){const i=this.replace_s(n,t,e);n<=this.bra&&(this.bra+=i),n<=this.ket&&(this.ket+=i)}slice_to(n){let t="";return this.slice_check()&&(t=this.current.slice(this.bra,this.ket)),t}stemWord(n){let t=this.cache[`.${n}`];return null==t&&(this.dictionary.before.hasOwnProperty(n)?t=this.dictionary.before[n]:(this.setCurrent(n),this.innerStem(),t=this.getCurrent(),this.dictionary.after.hasOwnProperty(t)&&(t=this.dictionary.after[t])),this.cache[`.${n}`]=t),t}stemWords(n){const t=[];for(let e=0;e<n.length;e++){const i=this.stemWord(n[e]);i&&t.push(i.trim())}return t}stem(n){return null==n?n:Array.isArray(n)?this.stemWords(n):this.stemWords([n])[0]}getTokenizer(){return this.tokenizer||(this.tokenizer=this.container.get(`tokenizer-${this.name.slice(-2)}`)||new s),this.tokenizer}getStopwords(){return this.stopwords||(this.stopwords=this.container.get(`tokenizer-${this.name.slice(-2)}`)),this.stopwords}tokenizeAndStem(n,t=!0){let e=this.getTokenizer().tokenize(n,!0);if(!t){const n=this.getStopwords();n&&(e=n.removeStopwords(e))}return this.stemWords(e)}}},4979:(n,t,e)=>{const{defaultContainer:i}=e(8614);n.exports=class{constructor(n={},t=i){this.container=n.container||t,this.applySettings(this,n)}get logger(){return this.container.get("logger")}applySettings(n,t={}){const e=n||{};return Object.keys(t).forEach((n=>{void 0===e[n]&&(e[n]=t[n])})),e}toJSON(){const n=this.jsonExport||{},t={},e=Object.keys(this);for(let i=0;i<e.length;i+=1){const s=e[i];if("jsonExport"!==s&&"jsonImport"!==s&&"container"!==s&&!s.startsWith("pipeline")){const e=void 0===n[s]||n[s];if("function"==typeof e){const n=e.bind(this)(t,this,s,this[s]);n&&(t[s]=n)}else"boolean"==typeof e?e&&(t[s]=this[s],"settings"===s&&delete t[s].container):"string"==typeof e&&(t[e]=this[s])}}return t}fromJSON(n){const t=this.jsonImport||{},e=Object.keys(n);for(let i=0;i<e.length;i+=1){const s=e[i],r=void 0===t[s]||t[s];if("function"==typeof r){const t=r.bind(this)(this,n,s,n[s]);t&&(this[s]=t)}else"boolean"==typeof r?r&&(this[s]=n[s]):"string"==typeof r&&(this[r]=n[s])}}objToValues(n,t){const e=t||Object.keys(n),i=[];for(let t=0;t<e.length;t+=1)i.push(n[e[t]]);return i}valuesToObj(n,t){const e={};for(let i=0;i<n.length;i+=1)e[t[i]]=n[i];return e}getPipeline(n){return this.container.getPipeline(n)}async runPipeline(n,t){return this.container.runPipeline(t||this.pipeline,n,this)}use(n){this.container.use(n)}}},2082:(n,t,e)=>{const i=e(1401),{Container:s}=e(8614),r=e(1867),a=e(8392),{loadEnvFromJson:o}=e(2754),u=e(4647),l=e(7484),c=e(4658),h=e(531),g=e(683),d=e(2187),f=e(5304);function p(n,t){if("string"==typeof n)return n.startsWith("$")?process.env[`${t}${n.slice(1)}`]||process.env[n.slice(1)]:n;if(Array.isArray(n))return n.map((n=>p(n,t)));if("object"==typeof n){const e=Object.keys(n),i={};for(let s=0;s<e.length;s+=1)i[e[s]]=p(n[e[s]],t);return i}return n}n.exports=function(n,t,e,m,y,w){const b=n||{},k=e||new s(m);k.parent=w,m||(k.register("fs",f),k.use(i),k.use(r),k.use(a),k.use(u),k.use(l),k.use(c),k.use(h),k.use(g),k.use(d));const v=b;let x;if(b.env&&o(m,b.env),x=v,x=p(x,m?`${m}_`:""),x.settings){const n=Object.keys(x.settings);for(let t=0;t<n.length;t+=1)k.registerConfiguration(n[t],x.settings[n[t]],!0)}if(x.use)for(let n=0;n<x.use.length;n+=1){const t=x.use[n];Array.isArray(t)?k.register(t[0],t[1]):k.use(t)}if(x.terraform)for(let n=0;n<x.terraform.length;n+=1){const t=x.terraform[n],e=k.get(t.className);k.register(t.name,e,!0)}if(x.childs&&(k.childs=x.childs),y)for(let n=0;n<y.length;n+=1){const t=y[n];k.registerPipeline(t.tag,t.pipeline,t.overwrite)}return x.pipelines&&function(n,t){n.loadPipelinesFromString(t)}(k,x.pipelines),k}},8614:(n,t,e)=>{const{compareWildcars:i}=e(2754),s=e(3657),r=e(683);class a{constructor(n=!1){this.classes={},this.factory={},this.pipelines={},this.configurations={},this.compilers={},this.cache={bestKeys:{},pipelines:{}},this.registerCompiler(s),n||this.use(r)}registerCompiler(n,t){const e=new n(this);this.compilers[t||e.name]=e}addClass(n,t){this.classes[t||n.name]=n}toJSON(n){const t=n.toJSON?n.toJSON():{...n};return t.className=n.constructor.name,t}fromJSON(n,t){const e=this.classes[n.className];let i;return e?(i=new e(t),i.fromJSON?i.fromJSON(n):Object.assign(i,n)):i={...n},delete i.className,i}register(n,t,e=!0){this.cache.bestKeys={};const i="function"==typeof t,s={name:n,isSingleton:e};s.instance=e?i?new t:t:i?t:t.constructor,this.factory[n]=s}getBestKey(n){if(void 0!==this.cache.bestKeys[n])return this.cache.bestKeys[n];const t=Object.keys(this.factory);for(let e=0;e<t.length;e+=1)if(i(n,t[e]))return this.cache.bestKeys[n]=t[e],t[e];this.cache.bestKeys[n]=null}get(n,t){let e=this.factory[n];if(!e){if(this.parent)return this.parent.get(n,t);const i=this.getBestKey(n);if(i&&(e=this.factory[i]),!e)return}return e.isSingleton?(e.instance&&e.instance.applySettings&&e.instance.applySettings(e.instance.settings,t),e.instance):new(0,e.instance)(t,this)}buildLiteral(n,t,e,i){return{type:"literal",subtype:n,src:t,value:e,context:i,container:this}}resolvePathWithType(n,t,e,i){const s=n.split(".");let r=s[0].trim();if(r||(r=n.startsWith(".")?"this":"context"),/^\d+$/.test(r))return this.buildLiteral("number",n,parseFloat(r),t);if(r.startsWith('"'))return this.buildLiteral("string",n,r.replace(/^"(.+(?="$))"$/,"$1"),t);if(r.startsWith("'"))return this.buildLiteral("string",n,r.replace(/^'(.+(?='$))'$/,"$1"),t);if("true"===r)return this.buildLiteral("boolean",n,!0,t);if("false"===r)return this.buildLiteral("boolean",n,!1,t);let a=t;"input"===r||"output"===r?a=e:r&&"context"!==r&&"this"!==r?a=this.get(r)||a[r]:"this"===r&&(a=i);for(let t=1;t<s.length;t+=1){const e=s[t];if((!a||!a[e])&&t<s.length-1)throw Error(`Path not found in pipeline "${n}"`);const i=a;a=a[e],"function"==typeof a&&(a=a.bind(i))}return"function"==typeof a?{type:"function",src:n,value:a,context:t,container:this}:{type:"reference",src:n,value:a,context:t,container:this}}resolvePath(n,t,e,i){const s=this.resolvePathWithType(n,t,e,i);return s?s.value:s}setValue(n,t,e,i,s){const r=this.resolvePath(t,e,i,s),a=n.split("."),o=a.slice(0,-1).join(".");this.resolvePath(o,e,i,s)[a[a.length-1]]=r}incValue(n,t,e,i,s){const r=this.resolvePath(t,e,i,s),a=n.split(".");n.startsWith(".")&&a.push("this");const o=a.slice(0,-1).join(".");this.resolvePath(o,e,i,s)[a[a.length-1]]+=r}decValue(n,t,e,i,s){const r=this.resolvePath(t,e,i,s),a=n.split("."),o=a.slice(0,-1).join(".");this.resolvePath(o,e,i,s)[a[a.length-1]]-=r}eqValue(n,t,e,i,s){const r=e,a=this.resolvePath(n,r,i,s),o=this.resolvePath(t,r,i,s);r.floating=a===o}neqValue(n,t,e,i,s){const r=e,a=this.resolvePath(n,r,i,s),o=this.resolvePath(t,r,i,s);r.floating=a!==o}gtValue(n,t,e,i,s){const r=e,a=this.resolvePath(n,r,i,s),o=this.resolvePath(t,r,i,s);r.floating=a>o}geValue(n,t,e,i,s){const r=e,a=this.resolvePath(n,r,i,s),o=this.resolvePath(t,r,i,s);r.floating=a>=o}ltValue(n,t,e,i,s){const r=e,a=this.resolvePath(n,r,i,s),o=this.resolvePath(t,r,i,s);r.floating=a<o}leValue(n,t,e,i,s){const r=e,a=this.resolvePath(n,r,i,s),o=this.resolvePath(t,r,i,s);r.floating=a<=o}deleteValue(n,t,e,i){const s=n.split("."),r=s.slice(0,-1).join(".");delete this.resolvePath(r,t,e,i)[s[s.length-1]]}getValue(n,t,e,i){const s=(n||"floating").split("."),r=s.slice(0,-1).join(".");return this.resolvePath(r,t,e,i)[s[s.length-1]]}async runPipeline(n,t,e,i=0){if(i>10)throw new Error("Pipeline depth is too high: perhaps you are using recursive pipelines?");const s="string"==typeof n?this.getPipeline(n):n;if(!s)throw new Error(`Pipeline not found ${n}`);if(!s.compiler){const n=JSON.stringify(s);this.registerPipeline(n,s,!1);const r=this.getPipeline(n);return r.compiler.execute(r.compiled,t,e,i)}return s.compiler.execute(s.compiled,t,e,i)}use(n,t,e,i=!1){let s;if("function"==typeof n){if(n.name.endsWith("Compiler"))return this.registerCompiler(n),n.name;s=new n({container:this})}else s=n;s.register&&s.register(this);const r=s.settings?s.settings.tag:void 0,a=t||s.name||r||n.name||s.constructor.name;return i&&this.get(a)||this.register(a,s,e),a}getCompiler(n){return this.compilers[n]||(this.parent?this.parent.getCompiler(n):this.compilers.default)}buildPipeline(n,t=[]){const e=[];if(n&&n.length>0)for(let i=0;i<n.length;i+=1){const s=n[i];if("$super"===s.trim())for(let n=0;n<t.length;n+=1)t[n].trim().startsWith("->")||e.push(t[n]);else e.push(s)}const i=e.length&&e[0].startsWith("// compiler=")?e[0].slice(12):"default",s=this.getCompiler(i),r=s.compile(e);return{pipeline:e,compiler:s,compiled:r}}registerPipeline(n,t,e=!0){if(e||!this.pipelines[n]){this.cache.pipelines={};const e=this.getPipeline(n);this.pipelines[n]=this.buildPipeline(t,e?e.pipeline:[])}}registerPipelineForChilds(n,t,e,i=!0){this.childPipelines||(this.childPipelines={}),this.childPipelines[n]||(this.childPipelines[n]=[]),this.childPipelines[n].push({tag:t,pipeline:e,overwrite:i})}getPipeline(n){if(this.pipelines[n])return this.pipelines[n];if(void 0!==this.cache.pipelines[n])return this.cache.pipelines[n]||void 0;const t=Object.keys(this.pipelines);for(let e=0;e<t.length;e+=1)if(i(n,t[e]))return this.cache.pipelines[n]=this.pipelines[t[e]],this.pipelines[t[e]];this.cache.pipelines[n]=null}registerConfiguration(n,t,e=!0){!e&&this.configurations[n]||(this.configurations[n]=t)}getConfiguration(n){if(this.configurations[n])return this.configurations[n];const t=Object.keys(this.configurations);for(let e=0;e<t.length;e+=1)if(i(n,t[e]))return this.configurations[t[e]]}loadPipelinesFromString(n=""){const t=n.split(/\n|\r|\r\n/);let e="",i=[],s="";for(let n=0;n<t.length;n+=1){const r=t[n];""!==r&&(r.startsWith("# ")?(e&&(s&&!["default","pipelines"].includes(s.toLowerCase())?this.registerPipelineForChilds(s,e,i):this.registerPipeline(e,i)),s=r.slice(1).trim(),e="",i=[]):r.startsWith("## ")?(e&&(s&&!["default","pipelines"].includes(s.toLowerCase())?this.registerPipelineForChilds(s,e,i):this.registerPipeline(e,i)),e=r.slice(2).trim(),i=[]):e&&i.push(r))}e&&(s&&!["default","pipelines"].includes(s.toLowerCase())?this.registerPipelineForChilds(s,e,i):this.registerPipeline(e,i))}async start(n="main"){const t=Object.keys(this.factory);for(let n=0;n<t.length;n+=1){const e=this.factory[t[n]];e.isSingleton&&e.instance&&e.instance.start&&await e.instance.start()}this.getPipeline(n)&&await this.runPipeline(n,{},this)}}const o=new a;n.exports={Container:a,defaultContainer:o}},792:(n,t,e)=>{const{defaultContainer:i}=e(8614),s=e(4979);n.exports=class extends s{constructor(n={},t=void 0){super({settings:{},container:n.container||t||i},t),this.applySettings(this.settings,n),this.settings.tag||(this.settings.tag="context"),this.applySettings(this.settings,this.container.getConfiguration(this.settings.tag))}getStorage(){const n=this.container.get(this.settings.storageName||"storage");if(!n)throw new Error("Storage not found");return n}getContext(n){return this.getStorage().read(`${this.settings.tag}-${n}`)}setContext(n,t){const e={[n]:t};return this.getStorage().write(e)}async getContextValue(n,t){const e=await this.getContext(n);return e?e[t]:void 0}async setContextValue(n,t,e){let i=await this.getContext(n);return i||(i={}),i[t]=e,this.setContext(n,i)}}},3657:n=>{n.exports=class{constructor(n){this.container=n.container||n,this.name="default"}getTokenFromWord(n){return n.startsWith("//")?{type:"comment",value:n}:["set","delete","get","inc","dec","eq","neq","gt","ge","lt","le","label","goto","jne","je"].includes(n)?{type:n,arguments:[]}:n.startsWith("$")?{type:"call",value:n.slice(1)}:{type:"reference",value:n}}compile(n){const t=[];for(let e=0;e<n.length;e+=1){const i=n[e].trim().split(" "),s=[];let r,a="";for(let n=0;n<i.length;n+=1){const t=i[n];let e=!1;r?(a=`${a} ${t}`,e=!0,t.endsWith(r)&&(r=void 0,s.push(this.getTokenFromWord(a)))):t.startsWith('"')?(a=t,e=!0,r='"',t.endsWith('"')&&(r=void 0,s.push(this.getTokenFromWord(a)))):t.startsWith("'")&&(a=t,e=!0,r="'",t.endsWith("'")&&(r=void 0,s.push(this.getTokenFromWord(a)))),e||s.push(this.getTokenFromWord(t))}t.push(s)}return t}executeCall(n,t,e,i,s){const r=this.container.getPipeline(n.value);if(!r)throw new Error(`Pipeline $${n.value} not found.`);return this.container.runPipeline(r,e,i,s+1)}executeReference(n,t,e,i,s){const r=this.container.resolvePath(t.value,e,i,s),a=[];for(let t=1;t<n.length;t+=1)a.push(this.container.resolvePathWithType(n[t].value,e,i,s));if(!r)throw new Error(`Method not found for step ${JSON.stringify(n)}`);const o=r.run||r;return"function"==typeof o?"function"==typeof r?o(i,...a):o.bind(r)(i,...a):o}doGoto(n,t){const e=t,i=e.labels[n];e.cursor=i}async executeAction(n,t,e,i,s){let r=n[0];if(r&&r.value&&r.value.startsWith("->")){if(s>0)return e;r={...r},r.value=r.value.slice(2)}switch(r.type){case"set":this.container.setValue(n[1].value,n[2]?n[2].value:void 0,t,e,i);break;case"delete":this.container.deleteValue(n[1].value,t,e,i);break;case"get":return this.container.getValue(n[1]?n[1].value:void 0,t,e,i);case"inc":this.container.incValue(n[1]?n[1].value:void 0,n[2]?n[2].value:"1",t,e,i);break;case"dec":this.container.decValue(n[1]?n[1].value:void 0,n[2]?n[2].value:"1",t,e,i);break;case"eq":this.container.eqValue(n[1]?n[1].value:void 0,n[2]?n[2].value:void 0,t,e,i);break;case"neq":this.container.neqValue(n[1]?n[1].value:void 0,n[2]?n[2].value:void 0,t,e,i);break;case"gt":this.container.gtValue(n[1]?n[1].value:void 0,n[2]?n[2].value:void 0,t,e,i);break;case"ge":this.container.geValue(n[1]?n[1].value:void 0,n[2]?n[2].value:void 0,t,e,i);break;case"lt":this.container.ltValue(n[1]?n[1].value:void 0,n[2]?n[2].value:void 0,t,e,i);break;case"le":this.container.leValue(n[1]?n[1].value:void 0,n[2]?n[2].value:void 0,t,e,i);break;case"goto":this.doGoto(n[1].value,t);break;case"jne":t.floating||this.doGoto(n[1].value,t);break;case"je":t.floating&&this.doGoto(n[1].value,t);break;case"call":return this.executeCall(r,t,e,i,s);case"reference":return this.executeReference(n,r,t,e,i)}return e}findLabels(n,t){const e=t;for(let t=0;t<n.length;t+=1){const i=n[t];"label"===i[0].type&&(e[i[1].value]=t)}}async execute(n,t,e,i){let s=t;const r={cursor:0,labels:{}};for(this.findLabels(n,r.labels);r.cursor<n.length;)s=await this.executeAction(n[r.cursor],r,s,e,i),r.cursor+=1;return s}}},8015:(n,t,e)=>{const i=e(2082),s=new class{constructor(){this.containers={}}getContainer(n){return this.containers[n||"default"]}async createContainer(n,t,e,s,r,a){const o=void 0===e||e;if("string"!=typeof n&&(t=n,n=""),t||"default"!==n&&""!==n||(t="conf.json"),!this.containers[n]){const e=i(t,o,void 0,s,a);e.name=n,this.containers[n]=e,e.dock=this,e.parent=r,await e.start(),e.childs&&await this.buildChilds(e)}return this.containers[n]}async buildChilds(n){if(n&&n.childs){const t=Object.keys(n.childs),e={};for(let i=0;i<t.length;i+=1){const s=n.childs[t[i]];s.isChild=!0,s.pathPipeline||(s.pathPipeline=`${t[i]}_pipeline.md`),e[t[i]]=await this.createContainer(t[i],s,!1,t[i],n,n.childPipelines?n.childPipelines[t[i]]:void 0)}n.childs=e}}async terraform(n,t=!0){return await this.createContainer("default",n,t,"")}start(n,t=!0){return this.terraform(n,t)}};n.exports=s},2754:n=>{const t="\\ud800-\\udfff",e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff",i="\\ufe0e\\ufe0f",s=`[${t}]`,r=`[${e}]`,a="\\ud83c[\\udffb-\\udfff]",o=`[^${t}]`,u="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",c="\\u200d",h=`(?:${r}|${a})?`,g=`[${i}]?`,d=g+h+`(?:${c}(?:${[o,u,l].join("|")})${g+h})*`,f=`(?:${[`${o}${r}?`,r,u,l,s].join("|")})`,p=RegExp(`[${c+t+e+i}]`),m=RegExp(`${a}(?=${a})|${f+d}`,"g"),y=n=>p.test(n),w=n=>n.match(m)||[],b=n=>n.split("");n.exports={hasUnicode:y,unicodeToArray:w,asciiToArray:b,stringToArray:n=>y(n)?w(n):b(n),compareWildcars:function(n,t){const e=`^${t.split("*").map((n=>n.replace(/([.*+^=!:${}()|[\]/\\])/g,"\\$1"))).join(".*")}$`.replace(/\?/g,".");return new RegExp(e).test(n)},loadEnvFromJson:function(n,t={}){const e=Object.keys(t);n=n?`${n}_`:"";for(let i=0;i<e.length;i+=1){const s=`${n}${e[i]}`;process.env[s]=t[e[i]]}}}},79:(n,t,e)=>{const i=e(2545),s=e(1401),r=e(5051),a=e(2082),o=e(4979),{Container:u,defaultContainer:l}=e(8614),c=e(1867),h=e(8392),g=e(4647),d=e(7484),f=e(4658),p=e(531),m=e(683),{hasUnicode:y,unicodeToArray:w,asciiToArray:b,stringToArray:k,compareWildcars:v,loadEnv:x}=e(2754),D=e(2187),A=e(8873),F=e(8015),E=e(792);n.exports={Among:i,ArrToObj:s,BaseStemmer:r,containerBootstrap:a,Clonable:o,Container:u,defaultContainer:l,hasUnicode:y,unicodeToArray:w,asciiToArray:b,stringToArray:k,compareWildcars:v,loadEnv:x,Normalizer:c,ObjToArr:h,Stemmer:g,Stopwords:d,Tokenizer:f,Timer:p,logger:m,MemoryStorage:D,uuid:A,dock:F,Context:E,dockStart:async function(n,t){return await F.start(n,t),F}}},683:n=>{const t=new class{constructor(){this.name="logger"}debug(...n){console.debug(...n)}info(...n){console.info(...n)}warn(...n){console.warn(...n)}error(...n){console.error(...n)}log(...n){console.log(...n)}trace(...n){console.trace(...n)}fatal(...n){console.error(...n)}};n.exports=t},2187:(n,t,e)=>{const{defaultContainer:i}=e(8614),s=e(4979);n.exports=class extends s{constructor(n={},t=void 0){super({settings:{},container:n.container||t||i},t),this.applySettings(this.settings,n),this.applySettings(this.settings,{etag:1,memory:{}}),this.settings.tag||(this.settings.tag="storage"),this.applySettings(this.settings,this.container.getConfiguration(this.settings.tag))}read(n){return new Promise((t=>{const e={};Array.isArray(n)||(n=[n]),n.forEach((n=>{const t=this.settings.memory[n];t&&(e[n]=JSON.parse(t))})),t(e)}))}saveItem(n,t){const e={...t};return e.eTag=this.settings.etag.toString(),this.settings.etag+=1,this.settings.memory[n]=JSON.stringify(e),e}write(n){return new Promise(((t,e)=>{Object.keys(n).forEach((i=>{const s=n[i],r=this.settings.memory[i];if(!r||"*"===s.eTag)return t(this.saveItem(i,s));const a=JSON.parse(r);return s.eTag!==a.eTag?e(new Error(`Error writing "${i}" due to eTag conflict.`)):t(this.saveItem(i,s))}))}))}delete(n){return new Promise((t=>{n.forEach((n=>delete this.settings.memory[n])),t()}))}}},5304:n=>{n.exports={readFile:function(){return new Promise((n=>{n(void 0)}))},writeFile:function(){return new Promise(((n,t)=>{t(new Error("File cannot be written in web"))}))},existsSync:function(){return!1},lstatSync:function(){},readFileSync:function(){},name:"fs"}},1867:(n,t,e)=>{const{defaultContainer:i}=e(8614);n.exports=class{constructor(n=i){this.container=n.container||n,this.name="normalize"}normalize(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}run(n){const t=n,e=t.locale||"en",i=this.container.get(`normalizer-${e}`)||this;return t.text=i.normalize(t.text,t),t}}},8392:(n,t,e)=>{const{defaultContainer:i}=e(8614);class s{constructor(n=i){this.container=n.container||n,this.name="objToArr"}static objToArr(n){return Object.keys(n)}run(n){return n.tokens?(n.tokens=s.objToArr(n.tokens),n):s.objToArr(n)}}n.exports=s},4647:(n,t,e)=>{const{defaultContainer:i}=e(8614);n.exports=class{constructor(n=i){this.container=n.container||n,this.name="stem"}stem(n){return n}getStemmer(n){const t=n,e=t.locale||t.settings&&t.settings.locale||"en";let i=this.container.get(`stemmer-${e}`);if(!i){const n=this.container.get("stemmer-bert");i=n&&n.activeFor(e)?n:this}return i}async addForTraining(n){const t=this.getStemmer(n);return t.addUtterance&&await t.addUtterance(n.utterance,n.intent),n}async train(n){const t=this.getStemmer(n);return t.innerTrain&&await t.innerTrain(),n}async run(n){const t=n,e=this.getStemmer(t);return t.tokens=await e.stem(t.tokens,t),t}}},7484:(n,t,e)=>{const{defaultContainer:i}=e(8614);n.exports=class{constructor(n=i){this.container=n.container||n,this.name="removeStopwords",this.dictionary={}}build(n){for(let t=0;t<n.length;t+=1)this.dictionary[n[t]]=!0}isNotStopword(n){return!this.dictionary[n]}isStopword(n){return!!this.dictionary[n]}removeStopwords(n){return n.filter((n=>this.isNotStopword(n)))}run(n){if(n.settings&&!1===n.settings.keepStopwords){const t=n,e=t.locale||"en",i=this.container.get(`stopwords-${e}`)||this;return t.tokens=i.removeStopwords(t.tokens,t).filter((n=>n)),t}return n}}},531:(n,t,e)=>{const{defaultContainer:i}=e(8614);n.exports=class{constructor(n=i){this.container=n.container||n,this.name="timer"}start(n){return n&&(n.hrstart=new Date),n}stop(n){const t=n;if(t&&t.hrstart){const n=new Date;t.elapsed=n.getTime()-t.hrstart.getTime(),delete t.hrstart}return t}run(n){this.start(n)}}},4658:(n,t,e)=>{const{defaultContainer:i}=e(8614),s=e(1867);n.exports=class{constructor(n=i,t=!1){this.container=n.container||n,this.name="tokenize",this.shouldNormalize=t}getNormalizer(){return this.normalizer||(this.normalizer=this.container.get(`normalizer-${this.name.slice(-2)}`)||new s),this.normalizer}normalize(n,t){return void 0===t&&this.shouldNormalize||!0===t?this.getNormalizer().normalize(n):n}innerTokenize(n){return n.split(/[\s,.!?;:([\]'")/]+/).filter((n=>n))}tokenize(n,t){let e;if(this.cache){const n=new Date;Math.abs(n.getTime()-this.cache.created)/36e5>1&&(this.cache=void 0)}if(this.cache){if(t?Object.prototype.hasOwnProperty.call(this.cache.normalized,n)&&(e=this.cache.normalized[n]):Object.prototype.hasOwnProperty.call(this.cache.nonNormalized,n)&&(e=this.cache.nonNormalized[n]),e)return e}else this.cache={created:(new Date).getTime(),normalized:{},nonNormalized:{}};return e=this.innerTokenize(this.normalize(n,t),t),t?this.cache.normalized[n]=e:this.cache.nonNormalized[n]=e,e}async run(n){const t=n,e=t.locale||"en";let i=this.container.get(`tokenizer-${e}`);if(!i){const n=this.container.get("tokenizer-bert");i=n&&n.activeFor(e)?n:this}const s=await i.tokenize(t.text,t);return t.tokens=s.filter((n=>n)),t}}},8873:n=>{n.exports=function(){function n(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return`${n()+n()}-${n()}-${n()}-${n()}-${n()}${n()}${n()}`}},6428:(n,t,e)=>{const i=e(7722),s=e(6257),r=e(403),a=e(2316),o=e(4397),u=e(1855),l=e(4326);n.exports={LangEn:i,StemmerEn:r,StopwordsEn:a,TokenizerEn:s,NormalizerEn:o,SentimentEn:u,registerTrigrams:l}},7722:(n,t,e)=>{const i=e(6257),s=e(403),r=e(2316),a=e(4397),o=e(1855),u=e(4326);n.exports=class{register(n){n.use(i),n.use(s),n.use(r),n.use(a),n.register("sentiment-en",o),u(n)}}},4397:(n,t,e)=>{const{Normalizer:i}=e(79);n.exports=class extends i{constructor(n){super(n),this.name="normalizer-en"}normalize(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}run(n){const t=n;return t.text=this.normalize(t.text,t),t}}},1855:n=>{n.exports={senticon:void 0,afinn:void 0,pattern:void 0,negations:{words:[]}}},403:(n,t,e)=>{const{Among:i,BaseStemmer:s}=e(79),r=e(6257);class a extends s{constructor(n){super(n),this.name="stemmer-en",this.B_Y_found=!1,this.I_p2=0,this.I_p1=0}getTokenizer(){return this.tokenizer||(this.tokenizer=this.container.get(`tokenizer-${this.name.slice(-2)}`)||new r,"Tokenizer"===this.tokenizer.constructor.name&&(this.tokenizer=new r)),this.tokenizer}r_prelude(){let n,t,e,i,s;this.B_Y_found=!1,n=this.cursor;let r=!0;for(;1==r&&(r=!1,this.bra=this.cursor,this.eq_s("'"));)if(this.ket=this.cursor,!this.slice_del())return!1;this.cursor=n,t=this.cursor;let o=!0;for(;1==o&&(o=!1,this.bra=this.cursor,this.eq_s("y"));){if(this.ket=this.cursor,!this.slice_from("Y"))return!1;this.B_Y_found=!0}this.cursor=t,e=this.cursor;let u=!0;for(;1==u;){u=!1;n:for(;;){i=this.cursor;let n=!0;t:for(;1==n;){n=!1;e:for(;;){s=this.cursor;let n=!0;for(;1==n&&(n=!1,this.in_grouping(a.g_v,97,121))&&(this.bra=this.cursor,this.eq_s("y"));){this.ket=this.cursor,this.cursor=s;break e}if(this.cursor=s,this.cursor>=this.limit)break t;this.cursor++}if(!this.slice_from("Y"))return!1;this.B_Y_found=!0;continue n}this.cursor=i;break}}return this.cursor=e,!0}r_mark_regions(){let n,t;this.I_p1=this.limit,this.I_p2=this.limit,n=this.cursor;let e=!0;n:for(;1==e;){e=!1;let n=!0;t:for(;1==n;){n=!1,t=this.cursor;let e=!0;for(;1==e&&(e=!1,0!=this.find_among(a.a_0,3));)break t;this.cursor=t;e:for(;;){let n=!0;for(;1==n&&(n=!1,this.in_grouping(a.g_v,97,121));)break e;if(this.cursor>=this.limit)break n;this.cursor++}e:for(;;){let n=!0;for(;1==n&&(n=!1,this.out_grouping(a.g_v,97,121));)break e;if(this.cursor>=this.limit)break n;this.cursor++}}this.I_p1=this.cursor;t:for(;;){let n=!0;for(;1==n&&(n=!1,this.in_grouping(a.g_v,97,121));)break t;if(this.cursor>=this.limit)break n;this.cursor++}t:for(;;){let n=!0;for(;1==n&&(n=!1,this.out_grouping(a.g_v,97,121));)break t;if(this.cursor>=this.limit)break n;this.cursor++}this.I_p2=this.cursor}return this.cursor=n,!0}r_shortv(){let n,t=!0;n:for(;1==t;){t=!1,n=this.limit-this.cursor;let e=!0;for(;1==e&&(e=!1,this.out_grouping_b(a.g_v_WXY,89,121))&&this.in_grouping_b(a.g_v,97,121)&&this.out_grouping_b(a.g_v,97,121);)break n;if(this.cursor=this.limit-n,!this.out_grouping_b(a.g_v,97,121))return!1;if(!this.in_grouping_b(a.g_v,97,121))return!1;if(this.cursor>this.limit_backward)return!1}return!0}r_R1(){return this.I_p1<=this.cursor}r_R2(){return this.I_p2<=this.cursor}r_Step_1a(){let n,t,e;t=this.limit-this.cursor;let i=!0;n:for(;1==i;){if(i=!1,this.ket=this.cursor,n=this.find_among_b(a.a_1,3),0==n){this.cursor=this.limit-t;break}switch(this.bra=this.cursor,n){case 0:this.cursor=this.limit-t;break n;case 1:if(!this.slice_del())return!1}}if(this.ket=this.cursor,n=this.find_among_b(a.a_2,6),0==n)return!1;switch(this.bra=this.cursor,n){case 0:return!1;case 1:if(!this.slice_from("ss"))return!1;break;case 2:var s=!0;n:for(;1==s;){s=!1,e=this.limit-this.cursor;let n=!0;for(;1==n;){n=!1;{const n=this.cursor-2;if(this.limit_backward>n||n>this.limit)break;this.cursor=n}if(!this.slice_from("i"))return!1;break n}if(this.cursor=this.limit-e,!this.slice_from("ie"))return!1}break;case 3:if(this.cursor<=this.limit_backward)return!1;this.cursor--;n:for(;;){let n=!0;for(;1==n&&(n=!1,this.in_grouping_b(a.g_v,97,121));)break n;if(this.cursor<=this.limit_backward)return!1;this.cursor--}if(!this.slice_del())return!1}return!0}r_Step_1b(){let n,t,e,i;if(this.ket=this.cursor,n=this.find_among_b(a.a_4,6),0==n)return!1;switch(this.bra=this.cursor,n){case 0:return!1;case 1:if(!this.r_R1())return!1;if(!this.slice_from("ee"))return!1;break;case 2:t=this.limit-this.cursor;n:for(;;){let n=!0;for(;1==n&&(n=!1,this.in_grouping_b(a.g_v,97,121));)break n;if(this.cursor<=this.limit_backward)return!1;this.cursor--}if(this.cursor=this.limit-t,!this.slice_del())return!1;if(e=this.limit-this.cursor,n=this.find_among_b(a.a_3,13),0==n)return!1;switch(this.cursor=this.limit-e,n){case 0:return!1;case 1:var s=this.cursor;this.insert(this.cursor,this.cursor,"e"),this.cursor=s;break;case 2:if(this.ket=this.cursor,this.cursor<=this.limit_backward)return!1;if(this.cursor--,this.bra=this.cursor,!this.slice_del())return!1;break;case 3:if(this.cursor!=this.I_p1)return!1;if(i=this.limit-this.cursor,!this.r_shortv())return!1;this.cursor=this.limit-i,s=this.cursor,this.insert(this.cursor,this.cursor,"e"),this.cursor=s}}return!0}r_Step_1c(){let n,t;this.ket=this.cursor;let e=!0;n:for(;1==e;){e=!1,n=this.limit-this.cursor;let t=!0;for(;1==t&&(t=!1,this.eq_s_b("y"));)break n;if(this.cursor=this.limit-n,!this.eq_s_b("Y"))return!1}if(this.bra=this.cursor,!this.out_grouping_b(a.g_v,97,121))return!1;{t=this.limit-this.cursor;let n=!0;for(;1==n&&(n=!1,!(this.cursor>this.limit_backward));)return!1;this.cursor=this.limit-t}return!!this.slice_from("i")}r_Step_2(){let n;if(this.ket=this.cursor,n=this.find_among_b(a.a_5,24),0==n)return!1;if(this.bra=this.cursor,!this.r_R1())return!1;switch(n){case 0:return!1;case 1:if(!this.slice_from("tion"))return!1;break;case 2:if(!this.slice_from("ence"))return!1;break;case 3:if(!this.slice_from("ance"))return!1;break;case 4:if(!this.slice_from("able"))return!1;break;case 5:if(!this.slice_from("ent"))return!1;break;case 6:if(!this.slice_from("ize"))return!1;break;case 7:if(!this.slice_from("ate"))return!1;break;case 8:if(!this.slice_from("al"))return!1;break;case 9:case 14:if(!this.slice_from("ful"))return!1;break;case 10:if(!this.slice_from("ous"))return!1;break;case 11:if(!this.slice_from("ive"))return!1;break;case 12:if(!this.slice_from("ble"))return!1;break;case 13:if(!this.eq_s_b("l"))return!1;if(!this.slice_from("og"))return!1;break;case 15:if(!this.slice_from("less"))return!1;break;case 16:if(!this.in_grouping_b(a.g_valid_LI,99,116))return!1;if(!this.slice_del())return!1}return!0}r_Step_3(){let n;if(this.ket=this.cursor,n=this.find_among_b(a.a_6,9),0==n)return!1;if(this.bra=this.cursor,!this.r_R1())return!1;switch(n){case 0:return!1;case 1:if(!this.slice_from("tion"))return!1;break;case 2:if(!this.slice_from("ate"))return!1;break;case 3:if(!this.slice_from("al"))return!1;break;case 4:if(!this.slice_from("ic"))return!1;break;case 5:if(!this.slice_del())return!1;break;case 6:if(!this.r_R2())return!1;if(!this.slice_del())return!1}return!0}r_Step_4(){let n,t;if(this.ket=this.cursor,n=this.find_among_b(a.a_7,18),0==n)return!1;if(this.bra=this.cursor,!this.r_R2())return!1;switch(n){case 0:return!1;case 1:if(!this.slice_del())return!1;break;case 2:var e=!0;n:for(;1==e;){e=!1,t=this.limit-this.cursor;let n=!0;for(;1==n&&(n=!1,this.eq_s_b("s"));)break n;if(this.cursor=this.limit-t,!this.eq_s_b("t"))return!1}if(!this.slice_del())return!1}return!0}r_Step_5(){let n,t,e;if(this.ket=this.cursor,n=this.find_among_b(a.a_8,2),0==n)return!1;switch(this.bra=this.cursor,n){case 0:return!1;case 1:var i=!0;n:for(;1==i;){i=!1,t=this.limit-this.cursor;let n=!0;for(;1==n&&(n=!1,this.r_R2());)break n;if(this.cursor=this.limit-t,!this.r_R1())return!1;{e=this.limit-this.cursor;let n=!0;for(;1==n&&(n=!1,this.r_shortv());)return!1;this.cursor=this.limit-e}}if(!this.slice_del())return!1;break;case 2:if(!this.r_R2())return!1;if(!this.eq_s_b("l"))return!1;if(!this.slice_del())return!1}return!0}r_exception2(){return this.ket=this.cursor,0!=this.find_among_b(a.a_9,8)&&(this.bra=this.cursor,!(this.cursor>this.limit_backward))}r_exception1(){let n;if(this.bra=this.cursor,n=this.find_among(a.a_10,18),0==n)return!1;if(this.ket=this.cursor,this.cursor<this.limit)return!1;switch(n){case 0:return!1;case 1:if(!this.slice_from("ski"))return!1;break;case 2:if(!this.slice_from("sky"))return!1;break;case 3:if(!this.slice_from("die"))return!1;break;case 4:if(!this.slice_from("lie"))return!1;break;case 5:if(!this.slice_from("tie"))return!1;break;case 6:if(!this.slice_from("idl"))return!1;break;case 7:if(!this.slice_from("gentl"))return!1;break;case 8:if(!this.slice_from("ugli"))return!1;break;case 9:if(!this.slice_from("earli"))return!1;break;case 10:if(!this.slice_from("onli"))return!1;break;case 11:if(!this.slice_from("singl"))return!1}return!0}r_postlude(){let n,t;if(!this.B_Y_found)return!1;n:for(;;){n=this.cursor;let e=!0;t:for(;1==e;){e=!1;e:for(;;){t=this.cursor;let n=!0;for(;1==n&&(n=!1,this.bra=this.cursor,this.eq_s("Y"));){this.ket=this.cursor,this.cursor=t;break e}if(this.cursor=t,this.cursor>=this.limit)break t;this.cursor++}if(!this.slice_from("y"))return!1;continue n}this.cursor=n;break}return!0}innerStem(){let n,t,e,i,s,r,a,o,u,l,c,h,g,d=!0;n:for(;1==d;){d=!1,n=this.cursor;let f=!0;for(;1==f&&(f=!1,this.r_exception1());)break n;this.cursor=n;let p=!0;t:for(;1==p;){p=!1;{t=this.cursor;let n=!0;for(;1==n;){n=!1;{const n=this.cursor+3;if(n<0||n>this.limit)break;this.cursor=n}break t}this.cursor=t}break n}this.cursor=n,e=this.cursor;let m=!0;for(;1==m&&(m=!1,this.r_prelude()););this.cursor=e,i=this.cursor;let y=!0;for(;1==y&&(y=!1,this.r_mark_regions()););this.cursor=i,this.limit_backward=this.cursor,this.cursor=this.limit,s=this.limit-this.cursor;let w=!0;for(;1==w&&(w=!1,this.r_Step_1a()););this.cursor=this.limit-s;let b=!0;t:for(;1==b;){b=!1,r=this.limit-this.cursor;let n=!0;for(;1==n&&(n=!1,this.r_exception2());)break t;this.cursor=this.limit-r,a=this.limit-this.cursor;let t=!0;for(;1==t&&(t=!1,this.r_Step_1b()););this.cursor=this.limit-a,o=this.limit-this.cursor;let e=!0;for(;1==e&&(e=!1,this.r_Step_1c()););this.cursor=this.limit-o,u=this.limit-this.cursor;let i=!0;for(;1==i&&(i=!1,this.r_Step_2()););this.cursor=this.limit-u,l=this.limit-this.cursor;let s=!0;for(;1==s&&(s=!1,this.r_Step_3()););this.cursor=this.limit-l,c=this.limit-this.cursor;let g=!0;for(;1==g&&(g=!1,this.r_Step_4()););this.cursor=this.limit-c,h=this.limit-this.cursor;let d=!0;for(;1==d&&(d=!1,this.r_Step_5()););this.cursor=this.limit-h}this.cursor=this.limit_backward,g=this.cursor;let k=!0;for(;1==k&&(k=!1,this.r_postlude()););this.cursor=g}return!0}}a.methodObject=new a,a.a_0=[new i("arsen",-1,-1),new i("commun",-1,-1),new i("gener",-1,-1)],a.a_1=[new i("'",-1,1),new i("'s'",0,1),new i("'s",-1,1)],a.a_2=[new i("ied",-1,2),new i("s",-1,3),new i("ies",1,2),new i("sses",1,1),new i("ss",1,-1),new i("us",1,-1)],a.a_3=[new i("",-1,3),new i("bb",0,2),new i("dd",0,2),new i("ff",0,2),new i("gg",0,2),new i("bl",0,1),new i("mm",0,2),new i("nn",0,2),new i("pp",0,2),new i("rr",0,2),new i("at",0,1),new i("tt",0,2),new i("iz",0,1)],a.a_4=[new i("ed",-1,2),new i("eed",0,1),new i("ing",-1,2),new i("edly",-1,2),new i("eedly",3,1),new i("ingly",-1,2)],a.a_5=[new i("anci",-1,3),new i("enci",-1,2),new i("ogi",-1,13),new i("li",-1,16),new i("bli",3,12),new i("abli",4,4),new i("alli",3,8),new i("fulli",3,14),new i("lessli",3,15),new i("ousli",3,10),new i("entli",3,5),new i("aliti",-1,8),new i("biliti",-1,12),new i("iviti",-1,11),new i("tional",-1,1),new i("ational",14,7),new i("alism",-1,8),new i("ation",-1,7),new i("ization",17,6),new i("izer",-1,6),new i("ator",-1,7),new i("iveness",-1,11),new i("fulness",-1,9),new i("ousness",-1,10)],a.a_6=[new i("icate",-1,4),new i("ative",-1,6),new i("alize",-1,3),new i("iciti",-1,4),new i("ical",-1,4),new i("tional",-1,1),new i("ational",5,2),new i("ful",-1,5),new i("ness",-1,5)],a.a_7=[new i("ic",-1,1),new i("ance",-1,1),new i("ence",-1,1),new i("able",-1,1),new i("ible",-1,1),new i("ate",-1,1),new i("ive",-1,1),new i("ize",-1,1),new i("iti",-1,1),new i("al",-1,1),new i("ism",-1,1),new i("ion",-1,2),new i("er",-1,1),new i("ous",-1,1),new i("ant",-1,1),new i("ent",-1,1),new i("ment",15,1),new i("ement",16,1)],a.a_8=[new i("e",-1,1),new i("l",-1,2)],a.a_9=[new i("succeed",-1,-1),new i("proceed",-1,-1),new i("exceed",-1,-1),new i("canning",-1,-1),new i("inning",-1,-1),new i("earring",-1,-1),new i("herring",-1,-1),new i("outing",-1,-1)],a.a_10=[new i("andes",-1,-1),new i("atlas",-1,-1),new i("bias",-1,-1),new i("cosmos",-1,-1),new i("dying",-1,3),new i("early",-1,9),new i("gently",-1,7),new i("howe",-1,-1),new i("idly",-1,6),new i("lying",-1,4),new i("news",-1,-1),new i("only",-1,10),new i("singly",-1,11),new i("skies",-1,2),new i("skis",-1,1),new i("sky",-1,-1),new i("tying",-1,5),new i("ugly",-1,8)],a.g_v=[17,65,16,1],a.g_v_WXY=[1,17,65,208,1],a.g_valid_LI=[55,141,2],n.exports=a},2316:(n,t,e)=>{const{Stopwords:i}=e(79);n.exports=class extends i{constructor(n,t){super(n),this.name="stopwords-en",this.dictionary={};const e=t||["about","above","after","again","all","also","am","an","and","another","any","are","as","at","be","because","been","before","being","below","between","both","but","by","came","can","cannot","come","could","did","do","does","doing","during","each","few","for","from","further","get","got","has","had","he","have","her","here","him","himself","his","how","if","in","into","is","it","its","itself","like","make","many","me","might","more","most","much","must","my","myself","never","now","of","on","only","or","other","our","ours","ourselves","out","over","own","said","same","see","should","since","so","some","still","such","take","than","that","the","their","theirs","them","themselves","then","there","these","they","this","those","through","to","too","under","until","up","very","was","way","we","well","were","what","where","when","which","while","who","whom","with","would","why","you","your","yours","yourself","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","$","1","2","3","4","5","6","7","8","9","0","_"];this.build(e)}}},6257:(n,t,e)=>{const{Tokenizer:i}=e(79);n.exports=class extends i{constructor(n,t){super(n,t),this.name="tokenizer-en"}replace(n){let t=n.replace(/n't([ ,:;.!?]|$)/gi," not ");return t=t.replace(/can't([ ,:;.!?]|$)/gi,"can not "),t=t.replace(/'ll([ ,:;.!?]|$)/gi," will "),t=t.replace(/'s([ ,:;.!?]|$)/gi," is "),t=t.replace(/'re([ ,:;.!?]|$)/gi," are "),t=t.replace(/'ve([ ,:;.!?]|$)/gi," have "),t=t.replace(/'m([ ,:;.!?]|$)/gi," am "),t=t.replace(/'d([ ,:;.!?]|$)/gi," had "),t}replaceContractions(n){const t={cannot:["can","not"],gonna:["going","to"],wanna:["want","to"]},e=[];return n.forEach((n=>{const i=n.toLowerCase();Object.prototype.hasOwnProperty.call(t,i)?e.push(...t[i]):e.push(n)})),e}innerTokenize(n){const t=this.replace(n).split(/[\s,.!?;:([\]'")/]+/).filter((n=>n));return this.replaceContractions(t,n)}}},4326:n=>{n.exports=function(n){const t=n.get("Language");t&&t.addModel("Latin","eng"," ththe anhe nd andion ofof tio toto on  inal atiighghtrig rior entas ed is ll in  bee rne oneveralls tevet t frs a ha rety ery ord t prht  co eve he ang ts hisingbe yon shce reefreryon thermennatshapronaly ahases for hihalf tn an ont  pes o fod inceer onsrese sectityly l bry e eerse ian e o dectidomedoeedhtsteronare  no wh a  und f asny l ae pere en na winitnted aanyted dins stath perithe tst e cy tom soc arch t od ontis eequve ociman fuoteothess al acwitial mauni serea so onlitintr ty oencthiualt a eqtatquaive stalie wl oaref hconte led isundciae fle  lay iumaby  byhumf aic  huavege r a woo ams com meeass dtec lin een rattitplewheateo ts rt frot chciedisagearyo oancelino  fa susonincat ndahouwort inderomoms otg temetleitignis witlducd wwhiacthicaw law heichminimiorto sse e bntrtraeduountane dnstl pd nld ntas iblen p pun s atilyrththofulssidero ecatucauntien edo ph aeraindpensecn wommr s")}},1994:(n,t,e)=>{const i=e(7781);n.exports={Language:i}},7781:(n,t,e)=>{const i=e(6102),s=e(1250),r={cmn:/[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3400-\u4DB5\u4E00-\u9FCC\uF900-\uFA6D\uFA70-\uFAD9]|[\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/g,Latin:/[A-Za-z\xAA\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02E0-\u02E4\u1D00-\u1D25\u1D2C-\u1D5C\u1D62-\u1D65\u1D6B-\u1D77\u1D79-\u1DBE\u1E00-\u1EFF\u2071\u207F\u2090-\u209C\u212A\u212B\u2132\u214E\u2160-\u2188\u2C60-\u2C7F\uA722-\uA787\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA7FF\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uFB00-\uFB06\uFF21-\uFF3A\uFF41-\uFF5A]/g,Cyrillic:/[\u0400-\u0484\u0487-\u052F\u1D2B\u1D78\u2DE0-\u2DFF\uA640-\uA69D\uA69F]/g,Arabic:/[\u0600-\u0604\u0606-\u060B\u060D-\u061A\u061E\u0620-\u063F\u0641-\u064A\u0656-\u065F\u066A-\u066F\u0671-\u06DC\u06DE-\u06FF\u0750-\u077F\u08A0-\u08B2\u08E4-\u08FF\uFB50-\uFBC1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFD\uFE70-\uFE74\uFE76-\uFEFC]|\uD803[\uDE60-\uDE7E]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB\uDEF0\uDEF1]/g,ben:/[\u0980-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09FB]/g,Devanagari:/[\u0900-\u0950\u0953-\u0963\u0966-\u097F\uA8E0-\uA8FB]/g,jpn:/[\u3041-\u3096\u309D-\u309F]|\uD82C\uDC01|\uD83C\uDE00|[\u30A1-\u30FA\u30FD-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\uFF66-\uFF6F\uFF71-\uFF9D]|\uD82C\uDC00/g,kor:/[\u1100-\u11FF\u302E\u302F\u3131-\u318E\u3200-\u321E\u3260-\u327E\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/g,tel:/[\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C78-\u0C7F]/g,tam:/[\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BFA]/g,guj:/[\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AF1]/g,kan:/[\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2]/g,mal:/[\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D75\u0D79-\u0D7F]/g,Myanmar:/[\u1000-\u109F\uA9E0-\uA9FE\uAA60-\uAA7F]/g,ori:/[\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B77]/g,pan:/[\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75]/g,Ethiopic:/[\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u137C\u1380-\u1399\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]/g,tha:/[\u0E01-\u0E3A\u0E40-\u0E5B]/g,sin:/[\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4]|\uD804[\uDDE1-\uDDF4]/g,ell:/[\u0370-\u0373\u0375-\u0377\u037A-\u037D\u037F\u0384\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03E1\u03F0-\u03FF\u1D26-\u1D2A\u1D5D-\u1D61\u1D66-\u1D6A\u1DBF\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u2126\uAB65]|\uD800[\uDD40-\uDD8C\uDDA0]|\uD834[\uDE00-\uDE45]/g,khm:/[\u1780-\u17DD\u17E0-\u17E9\u17F0-\u17F9\u19E0-\u19FF]/g,hye:/[\u0531-\u0556\u0559-\u055F\u0561-\u0587\u058A\u058D-\u058F\uFB13-\uFB17]/g,sat:/[\u1C50-\u1C7F]/g,bod:/[\u0F00-\u0F47\u0F49-\u0F6C\u0F71-\u0F97\u0F99-\u0FBC\u0FBE-\u0FCC\u0FCE-\u0FD4\u0FD9\u0FDA]/g,Hebrew:/[\u0591-\u05C7\u05D0-\u05EA\u05F0-\u05F4\uFB1D-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFB4F]/g,kat:/[\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u10FF\u2D00-\u2D25\u2D27\u2D2D]/g,lao:/[\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF]/g,zgh:/[\u2D30-\u2D67\u2D6F\u2D70\u2D7F]/g,iii:/[\uA000-\uA48C\uA490-\uA4C6]/g,aii:/[\u0700-\u070D\u070F-\u074A\u074D-\u074F]/g},a=Object.keys(r);class o{constructor(){this.languagesAlpha3={},this.languagesAlpha2={},this.extraSentences=[],this.buildData()}static getTrigrams(n){const t=[],e=n?` ${String(n).replace(/[\u0021-\u0040]+/g," ").replace(/\s+/g," ").trim().toLowerCase()} `:"";if(!e||e.length<3)return t;for(let n=0,i=e.length-2;n<i;n+=1)t[n]=e.substr(n,3);return t}static asTuples(n){const t=o.getTrigrams(n).reduce(((n,t)=>{const e=n;return e[t]=(e[t]||0)+1,e}),{}),e=[];return Object.keys(t).forEach((n=>{e.push([n,t[n]])})),e.sort(((n,t)=>n[1]-t[1])),e}static getDistance(n,t){let e=0;return n.forEach((n=>{e+=n[0]in t?Math.abs(n[1]-t[n[0]]-1):300})),e}static getOccurrence(n,t){const e=n.match(t);return(e?e.length:0)/n.length||0}static isLatin(n){let t=0;const e=n.length/2;for(let i=0;i<n.length;i+=1){const s=n.charCodeAt(i);if(s>=32&&s<=126&&(t+=1,t>e))return!0}return t>e}static getTopScript(n){if(o.isLatin(n))return["Latin",1];let t,e=-1;for(let i=0;i<a.length;i+=1){const s=a[i],u=o.getOccurrence(n,r[s]);if(u>e&&(e=u,t=s,1===e))return[t,e]}return[t,e]}static filterLanguages(n,t,e){if(0===t.length&&0===e.length)return n;const i={};return Object.keys(n).forEach((s=>{(0===t.length||t.indexOf(s)>-1)&&-1===e.indexOf(s)&&(i[s]=n[s])})),i}static getDistances(n,t,e){const i=[],s=e.allowList||[],r=e.denyList||[],a=o.filterLanguages(t,s,r);return a?(Object.keys(a).forEach((t=>{i.push([t,o.getDistance(n,a[t])])})),i.sort(((n,t)=>n[1]-t[1]))):[["und",1]]}static detectAll(n,t={}){const e=t.minLength||10;if(!n||n.length<e)return[["und",1]];const i=n.substr(0,2048),r=o.getTopScript(i);if(!(r[0]in s)&&r[1]>.5){if(!t.allowList)return[[r[0],1]];if(t.allowList.includes(r[0]))return[[r[0],1]];if("cmn"===r[0]&&t.allowList.includes("jpn"))return[["jpn",1]]}if(s[r[0]]){const n=o.getDistances(o.asTuples(i),s[r[0]],t);if("und"===n[0][0])return[[r[0],1]];const e=n[0][1],a=300*i.length-e;return n.map((n=>[n[0],1-(n[1]-e)/a||0]))}return[[r[0],1]]}buildData(){for(let n=0;n<i.length;n+=1){const t={alpha2:i[n][0],alpha3:i[n][1],name:i[n][2]};this.languagesAlpha3[t.alpha3]=t,this.languagesAlpha2[t.alpha2]=t}}transformAllowList(n){const t=[];for(let e=0;e<n.length;e+=1)if(3===n[e].length)t.push(n[e]);else{const i=this.languagesAlpha2[n[e]];i&&t.push(i.alpha3)}return t}guess(n,t,e){const i={};n.length<10&&(i.minLength=n.length),t&&t.length&&t.length>0&&(i.allowList=this.transformAllowList(t));const s=o.detectAll(n,i),r=[];for(let n=0;n<s.length;n+=1){const t=this.languagesAlpha3[s[n][0]];if(t&&(r.push({alpha3:t.alpha3,alpha2:t.alpha2,language:t.name,score:s[n][1]}),e&&r.length>=e))break}return r}guessBest(n,t){return this.guess(n,t,1)[0]}addTrigrams(n,t){const e=this.languagesAlpha2[n],i=e?e.alpha3:n,r=o.getTopScript(t)[0],a=o.getTrigrams(t);s[r]&&(s[r][i]||(s[r][i]={}),a.forEach((n=>{s[r][i][n]=1})))}addExtraSentence(n,t){this.extraSentences.push([n,t]),this.addTrigrams(n,t)}processExtraSentences(){this.extraSentences.forEach((n=>{this.addTrigrams(n[0],n[1])}))}static lansplit(n){if(n.includes("|"))return n.split("|");const t=[];for(let e=0;e<n.length;e+=3)t.push(n.substr(e,3));return t}static addModel(n,t,e){const i=s[n],r=o.lansplit(e);let a=r.length;const u={};for(;a>0;)a-=1,u[r[a]]=a;i[t]=u}addModel(n,t,e){o.addModel(n,t,e)}static buildModel(){Object.keys(s).forEach((n=>{const t=s[n];Object.keys(t).forEach((e=>{o.addModel(n,e,t[e])}))}))}}o.buildModel(),n.exports=o},1987:(n,t,e)=>{const{defaultContainer:i}=e(79),s=e(8517);n.exports=class{constructor(n=i){this.container=n.container||n,this.name="extract-builtin"}extract(n){return n}async run(n){const t=n,e=t.locale||"en",i=this.container.get(`extract-builtin-${e}`)||this,r=await i.extract({text:t.text||t.utterance,locale:t.locale});if(t.edges=t.edges||[],r.edges)for(let n=0;n<r.edges.length;n+=1)t.nerLimitToEntities&&!t.intentEntities.includes(r.edges[n].entity)||t.edges.push(r.edges[n]);if(t.edges=s(t.edges,!1),t.sourceEntities=t.sourceEntities||[],r.sourceEntities)for(let n=0;n<r.sourceEntities.length;n+=1)t.sourceEntities.push(r.sourceEntities[n]);return t}}},2765:(n,t,e)=>{const{defaultContainer:i}=e(79),{Language:s}=e(1994),{similarity:r}=e(6964),a=e(8517);n.exports=class{constructor(n=i){this.container=n.container||n,this.name="extract-enum"}getScripts(n){const t=[],e=n.split("");for(let n=0;n<e.length;n+=1)t.push(s.getTopScript(e[n]));return t}isAlphanumeric(n){return/[\u00C0-\u1FFF\u2C00-\uD7FF\w]/.test(n)&&"_"!==n}getWordPositions(n){const t=this.getScripts(n);let e=!0,i=0,s=0;const r=n.length,a=[];for(;s<r;)this.isAlphanumeric(n.charAt(s))?e&&("cmn"===t[s][0]?(a.push({start:s,end:s,len:1}),i=s):(i=s,e=!1)):e||(a.push({start:i,end:s-1,len:s-i}),e=!0),s+=1;return e||a.push({start:i,end:s-1,len:s-i}),a}getBestSubstring(n,t,e){const i=n.length,s=t.length;if(i<=s){const e={start:0,end:i-1,len:i,levenshtein:r(n,t,!0)};return e.accuracy=(s-e.levenshtein)/s,e}const a=e||this.getWordPositions(n),o=a.length,u={start:0,end:0,len:0,levenshtein:void 0,accuracy:0};for(let e=0;e<o;e+=1)for(let i=e;i<o;i+=1){const s=n.substring(a[e].start,a[i].end+1),o=r(s,t,!0);(void 0===u.levenshtein||o<u.levenshtein)&&(u.levenshtein=o,u.start=a[e].start,u.end=a[i].end,u.len=u.end-u.start+1)}return u.accuracy=(s-u.levenshtein)/s,u}getBestSubstringList(n,t,e,i=1){const s=n.length,a=t.length,o=[];if(s<=a){const e=r(n,t,!0),u=(a-e)/a;return u>=i&&o.push({start:0,end:s-1,len:s,levenshtein:e,accuracy:u}),o}const u=a*(1-i),l=e||this.getWordPositions(n),c=l.length;for(let e=0;e<c;e+=1)for(let s=e;s<c;s+=1){const c=n.substring(l[e].start,l[s].end+1),h=r(c,t,!0),g=(a-h)/a;if(g>=i&&o.push({start:l[e].start,end:l[s].end,len:l[s].end-l[e].start+1,levenshtein:h,accuracy:g}),c.length-l[0].len>=t.length+u)break}return o}getRules(n){return n.nerRules||[]}normalize(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}buildRuleDict(n){const t={},e={};for(let i=0;i<n.rules.length;i+=1){const s=n.rules[i];for(let n=0;n<s.texts.length;n+=1){const i=s.texts[n],r=this.normalize(s.texts[n]);t[r]||(t[r]=[]),t[r].push(s),e[r]=i}}n.dict=t,n.inverseDict=e}getBestExact(n,t,e){const i=this.normalize(n),s=t||this.getWordPositions(i),r=s.length,a=[];for(let t=0;t<r;t+=1)for(let o=t;o<r;o+=1){const r=i.substring(s[t].start,s[o].end+1);if(e.dict[r]){const i=e.dict[r];for(let u=0;u<i.length;u+=1)a.push({accuracy:1,start:s[t].start,end:s[o].end,len:s[o].end-s[t].start+1,levenshtein:0,entity:e.name,type:e.type,option:i[u].option,sourceText:e.inverseDict[r],utteranceText:n.substring(s[t].start,s[o].end+1)})}}return a}extractFromRule(n,t,e,i){if("enum"===t.type){const s=[];if(i>=1){t.dict||this.buildRuleDict(t);const i=this.getBestExact(n,e,t);for(let n=0;n<i.length;n+=1)s.push(i[n])}else for(let r=0;r<t.rules.length;r+=1){const a=t.rules[r];if(a&&a.option&&Array.isArray(a.texts))for(let o=0;o<a.texts.length;o+=1){const u=this.getBestSubstringList(n,a.texts[o],e,a.threshold||i);for(let e=0;e<u.length;e+=1)s.push({...u[e],entity:t.name,type:t.type,option:t.rules[r].option,sourceText:a.texts[o],utteranceText:n.substring(u[e].start,u[e].end+1)})}}return s}return[]}async extract(n){const t=n,e=t.text||t.utterance;let i=e;const s=[],r=this.container.get("tokenize");if(r){const n=await r.run({locale:t.locale,text:i});if(i=n.tokens.join(" "),i!==e){let t=0,i=0;for(let r=0;r<n.tokens.length;r+=1){const a=e.indexOf(n.tokens[r],t);for(let t=0;t<n.tokens[r].length;t+=1)s[i+t]=a+t;t+=n.tokens[r].length,i+=n.tokens[r].length+1}}}const o=this.getWordPositions(i),u=this.getRules(t),l=t.edges||[];for(let n=0;n<u.length;n+=1){const e=this.extractFromRule(i,u[n],o,t.threshold||.8);for(let n=0;n<e.length;n+=1)l.push(e[n])}if(s.length>0)for(let n=0;n<l.length;n+=1){const t=l[n];t.start=s[t.start],t.end=s[t.end]}return l.sort(((n,t)=>n.start-t.start)),t.edges=a(l,!1,t.intentEntities),t}run(n){const t=n,e=t.locale||"en";return(this.container.get(`extract-enum-${e}`)||this).extract(t)}}},3013:(n,t,e)=>{const{defaultContainer:i}=e(79),s=e(8517);n.exports=class{constructor(n=i){this.container=n.container||n,this.name="extract-regex"}getRules(n){return n.nerRules||[]}getMatchs(n,t){const e=[];let i;do{const s=t instanceof RegExp?t.exec(n):null;if(s){if(1===s.length)e.push({start:s.index,end:t.lastIndex-1,accuracy:1,sourceText:s[0]});else{const t=n.indexOf(s[1]);e.push({start:t,end:t+s[1].length-1,accuracy:1,sourceText:s[1]})}i=!0}else i=!1}while(i);return e}extractFromRule(n,t){const e=[];for(let i=0;i<t.rules.length;i+=1){const s=this.getMatchs(n,t.rules[i]);for(let i=0;i<s.length;i+=1){const r=s[i];r.entity=t.name,r.type=t.type,r.utteranceText=n.substring(r.start,r.end+1),r.len=r.utteranceText.length,e.push(r)}}return e}extract(n){const t=n,e=this.getRules(t),i=t.edges||[];for(let n=0;n<e.length;n+=1){const s=this.extractFromRule(t.text||t.utterance,e[n]);for(let n=0;n<s.length;n+=1)i.push(s[n])}return i.sort(((n,t)=>n.start-t.start)),t.edges=s(i,!1),t}run(n){const t=n,e=t.locale||"en";return(this.container.get(`extract-regex-${e}`)||this).extract(t)}}},22:(n,t,e)=>{const{defaultContainer:i}=e(79),s=e(8517),{TrimType:r}=e(1720);n.exports=class{constructor(n=i){this.container=n.container||n,this.name="extract-trim"}mustSkip(n,t){if(t.options&&t.options.skip&&t.options.skip.length>0)for(let e=0;e<t.options.skip.length;e+=1){const i=t.options.skip[e];if(t.options.caseSensitive){if(i===n)return!0}else if(i.toLowerCase()===n.toLowerCase())return!0}return!1}matchBetween(n,t,e){const i=[];let s;do{const a=t.regex.exec(` ${n} `);if(a){let n,o,u;if(t&&t.options&&t.options.closest){if(n=1,!a[n]){s=!1;break}const t=a[0].indexOf(a[n]);o=a.index-1+t,u=o+a[n].length-1}else n=0,o=a.index-1,u=t.regex.lastIndex-2;i.push({type:"trim",subtype:r.Between,start:o,end:u,len:a[n].length,accuracy:1,sourceText:a[n],utteranceText:a[n],entity:e}),s=!0}else s=!1}while(s);const a=[];for(let n=0;n<i.length;n+=1)this.mustSkip(i[n].utteranceText,t)||a.push(i[n]);return a}findWord(n,t,e=!1,i=!1){const s=[];let r;const a=new RegExp(i?t:` ${t} | ${t}|${t} `,e?"g":"ig");do{const t=a.exec(n);t?(s.push({start:t.index,end:a.lastIndex}),r=!0):r=!1}while(r);return s}getBeforeResults(n,t,e){const i=[];let s=0,a=0;for(let o=0;o<t.length;o+=1){a=t[o].start;const u=n.substring(s,a);i.push({type:"trim",subtype:r.Before,start:s,end:a-1,len:u.length,accuracy:.99,sourceText:u,utteranceText:u,entity:e}),s=t[o].end}return i}getBeforeFirstResults(n,t,e){const i=[],s=t[0].start,a=n.substring(0,s);return i.push({type:"trim",subtype:r.BeforeFirst,start:0,end:s-1,len:a.length,accuracy:.99,sourceText:a,utteranceText:a,entity:e}),i}getBeforeLastResults(n,t,e){const i=[],s=t[t.length-1].start,a=n.substring(0,s);return i.push({type:"trim",subtype:r.BeforeLast,start:0,end:s-1,len:a.length,accuracy:.99,sourceText:a,utteranceText:a,entity:e}),i}getAfterResults(n,t,e){const i=[];let s=0,a=n.length;for(let o=t.length-1;o>=0;o-=1){s=t[o].end;const u=n.substring(s,a);i.unshift({type:"trim",subtype:r.After,start:s,end:a-1,len:u.length,accuracy:.99,sourceText:u,utteranceText:u,entity:e}),a=t[o].start}return i}getAfterFirstResults(n,t,e){const i=[],s=t[0].end,a=n.length,o=n.substring(s,a);return i.push({type:"trim",subtype:r.AfterFirst,start:s,end:a-1,len:o.length,accuracy:.99,sourceText:o,utteranceText:o,entity:e}),i}getAfterLastResults(n,t,e){const i=[],s=t[t.length-1].end,a=n.length,o=n.substring(s,a);return i.push({type:"trim",subtype:r.AfterLast,start:s,end:a-1,len:o.length,accuracy:.99,sourceText:o,utteranceText:o,entity:e}),i}getResults(n,t,e,i){switch(e){case r.Before:return this.getBeforeResults(n,t,i);case r.BeforeFirst:return this.getBeforeFirstResults(n,t,i);case r.BeforeLast:return this.getBeforeLastResults(n,t,i);case r.After:return this.getAfterResults(n,t,i);case r.AfterFirst:return this.getAfterFirstResults(n,t,i);case r.AfterLast:return this.getAfterLastResults(n,t,i);default:return[]}}match(n,t,e,i){const s=[];if(t&&Array.isArray(t.words))for(let r=0;r<t.words.length;r+=1){const a=t.options.noSpaces?t.words[r]:` ${t.words[r]}`,o=this.findWord(n,a);if(!t.options.noSpaces){const e=this.findWord(n,t.words[r]);e.length>0&&0===e[0].start&&o.unshift(e[0])}o.length>0&&s.push(...this.getResults(n,o,e,i))}const r=[];for(let n=0;n<s.length;n+=1)s[n].sourceText=s[n].sourceText.replace(/^[\s,.!?;:([\]'")/]+|[\s,.!?;:([\]'")/]+$/,""),this.mustSkip(s[n].utteranceText,t)||r.push(s[n]);return r}getRules(n){return n.nerRules||[]}extractFromRule(n,t){const e=[];for(let i=0;i<t.rules.length;i+=1){const s=t.rules[i];s.type===r.Between?e.push(...this.matchBetween(n,s,t.name)):e.push(...this.match(n,s,s.type,t.name))}return e}extract(n){const t=n,e=this.getRules(t),i=t.edges||[];for(let n=0;n<e.length;n+=1){const s=this.extractFromRule(t.text||t.utterance,e[n]);for(let n=0;n<s.length;n+=1)i.push(s[n])}return i.sort(((n,t)=>n.start-t.start)),t.edges=s(i,!1),t}run(n){const t=n,e=t.locale||"en";return(this.container.get(`extract-trim-${e}`)||this).extract(t)}}},3229:(n,t,e)=>{const i=e(8086),s=e(2765),r=e(3013),a=e(22),o=e(1987);n.exports={Ner:i,ExtractorEnum:s,ExtractorRegex:r,ExtractorTrim:a,ExtractorBuiltin:o}},8086:(n,t,e)=>{const{Clonable:i}=e(79),s=e(2765),r=e(3013),a=e(22),o=e(1987),{TrimType:u}=e(1720);class l extends i{constructor(n={},t=void 0){super({settings:{},container:n.container||t},t),this.applySettings(this.settings,n),this.applySettings(this.settings),this.settings.tag||(this.settings.tag="ner"),this.registerDefault(),this.applySettings(this.settings,this.container.getConfiguration(this.settings.tag)),this.rules={},this.applySettings(this,{pipelineProcess:this.getPipeline(`${this.settings.tag}-process`)})}registerDefault(){}getRulesByName(n="*",t="",e=!1){if(!this.rules[n]){if(!e)return;this.rules[n]={}}if(!this.rules[n][t]){if(!e)return;this.rules[n][t]={name:t,type:"enum",rules:[]}}return this.rules[n][t]}addRule(n="*",t,e,i){if(Array.isArray(n))for(let s=0;s<n.length;s+=1)this.addRule(n[s],t,e,i);else this.rules[n]||(this.rules[n]={}),this.rules[n][t]||(this.rules[n][t]={name:t,type:e,rules:[]}),this.rules[n][t].rules.push(i)}asString(n){if(n){if(null!=(t=n)&&t.constructor===Object)return JSON.stringify(n);if(n.toString)return n.toString()}var t;return""}findRule(n,t){const e=this.asString(t);for(let t=0;t<n.length;t+=1)if(this.asString(n[t])===e)return t;return-1}removeRule(n="*",t,e){if(this.rules[n]&&this.rules[n][t])if(e){const i=this.findRule(this.rules[n][t].rules,e);i>-1&&this.rules[n][t].rules.splice(i,1)}else delete this.rules[n][t]}getRules(n="*"){const t=[];if(this.rules[n]){const e=Object.keys(this.rules[n]);for(let i=0;i<e.length;i+=1)t.push(this.rules[n][e[i]])}if("*"!==n&&this.rules["*"]){const n=Object.keys(this.rules["*"]);for(let e=0;e<n.length;e+=1)t.push(this.rules["*"][n[e]])}return t}decideRules(n,t){const e=n;let i=this.getRules(e.locale||"en");if(t&&this.settings.considerOnlyIntentEntities)i=i.filter((n=>t.includes(n.name)));else if(t){const n=[],e=[];i.forEach((i=>{t.includes(i.name)?n.push(i):e.push(i)})),i=n.concat(e)}return e.nerRules=i,e.nerLimitToEntities=this.settings.considerOnlyIntentEntities,e.intentEntities=t,e}getRuleOption(n,t){for(let e=0;e<n.length;e+=1)if(n[e].option===t)return n[e]}addRuleOptionTexts(n,t,e,i){if(Array.isArray(n))for(let s=0;s<n.length;s+=1)this.addRuleOptionTexts(n[s],t,e,i);else{let s=i||e;Array.isArray(s)||(s=[s]);const r=this.getRulesByName(n,t,!0);let a=this.getRuleOption(r.rules,e);if(a){const n={};for(let t=0;t<a.texts.length;t+=1)n[a.texts[t]]=1;for(let t=0;t<s.length;t+=1)n[s[t]]=1;a.texts=Object.keys(n)}else a={option:e,texts:s},r.rules.push(a)}}removeRuleOptionTexts(n,t,e,i){if(Array.isArray(n))for(let s=0;s<n.length;s+=1)this.removeRuleOptionTexts(n[s],t,e,i);else{let s=i||e;Array.isArray(s)||(s=[s]);const r=this.getRulesByName(n,t,!1);if(r){const n=this.getRuleOption(r.rules,e);if(n){const t={};for(let e=0;e<n.texts.length;e+=1)t[n.texts[e]]=1;for(let n=0;n<s.length;n+=1)delete t[s[n]];n.texts=Object.keys(t)}}}}static str2regex(n){const t=n.lastIndexOf("/");return new RegExp(n.slice(1,t),n.slice(t+1))}static regex2str(n){return n.toString()}addRegexRule(n,t,e){const i="string"==typeof e?l.str2regex(e):e,s=i.flags.includes("g")?i:new RegExp(i.source,`${i.flags}g`);this.addRule(n,t,"regex",s)}addBetweenLastCondition(n,t,e,i,s={}){const r={...s,closest:!0};this.addBetweenCondition(n,t,e,i,r)}addBetweenCondition(n,t,e,i,s){const r=s||{},a=Array.isArray(e)?e:[e],o=Array.isArray(i)?i:[i],u=[];for(let n=0;n<a.length;n+=1)for(let t=0;t<o.length;t+=1){const e=!0===r.noSpaces?a[n]:` ${a[n]} `,i=!0===r.noSpaces?o[t]:` ${o[t]} `;let s;s=!0===r.closest?`${e}(?!.*${e}.*)(.*)${i}`:`(?<=${e})(.*)(?=${i})`,u.push(s)}let c=`/${u.join("|")}/g`;!0!==r.caseSensitive&&(c+="i");const h={type:"between",leftWords:a,rightWords:o,regex:l.str2regex(c),options:r};this.addRule(n,t,"trim",h)}addPositionCondition(n,t,e,i,s){const r=s||{},a={type:e,words:Array.isArray(i)?i:[i],options:r};this.addRule(n,t,"trim",a)}addAfterCondition(n,t,e,i){this.addPositionCondition(n,t,u.After,e,i)}addAfterFirstCondition(n,t,e,i){this.addPositionCondition(n,t,u.AfterFirst,e,i)}addAfterLastCondition(n,t,e,i){this.addPositionCondition(n,t,u.AfterLast,e,i)}addBeforeCondition(n,t,e,i){this.addPositionCondition(n,t,u.Before,e,i)}addBeforeFirstCondition(n,t,e,i){this.addPositionCondition(n,t,u.BeforeFirst,e,i)}addBeforeLastCondition(n,t,e,i){this.addPositionCondition(n,t,u.BeforeLast,e,i)}reduceEdges(n){return n.entities=n.edges,delete n.edges,delete n.nerRules,delete n.nerLimitToEntities,delete n.intentEntities,n}async defaultPipelineProcess(n,t){this.cache||(this.cache={extractEnum:this.container.get("extract-enum"),extractRegex:this.container.get("extract-regex"),extractTrim:this.container.get("extract-trim"),extractBuiltin:this.container.get("extract-builtin")},this.cache.extractEnum||(this.container.use(s),this.cache.extractEnum=this.container.get("extract-enum")),this.cache.extractRegex||(this.container.use(r),this.cache.extractRegex=this.container.get("extract-regex")),this.cache.extractTrim||(this.container.use(a),this.cache.extractTrim=this.container.get("extract-trim")),this.cache.extractBuiltin||(this.container.use(o),this.cache.extractBuiltin=this.container.get("extract-builtin")));let e=await this.decideRules(n,t);return this.cache.extractEnum&&(e=await this.cache.extractEnum.run(e)),this.cache.extractRegex&&(e=await this.cache.extractRegex.run(e)),this.cache.extractTrim&&(e=await this.cache.extractTrim.run(e)),this.cache.extractBuiltin&&(e=await this.cache.extractBuiltin.run(e)),e=await this.reduceEdges(e),e}async process(n,t){const e={threshold:this.settings.threshold||.8,...n};let i;if(e.locale){const n=this.container.getPipeline(`${this.settings.tag}-${e.locale}-process`);n&&(i=await this.runPipeline(e,n))}else this.pipelineProcess&&(i=await this.runPipeline(e,this.pipelineProcess));return i?t&&(i.entities=i.entities.filter((n=>t.includes(n.entity)))):i=await this.defaultPipelineProcess(e,t),delete i.threshold,i}nameToEntity(n){return`${void 0===this.settings.entityPreffix?"@":this.settings.entityPreffix}${n}${void 0===this.settings.entitySuffix?"":this.settings.entitySuffix}`}entityToName(n){if(!n)return n;let t=n;const e=void 0===this.settings.entityPreffix?"@":this.settings.entityPreffix,i=void 0===this.settings.entitySuffix?"":this.settings.entitySuffix;if(e){if(!t.startsWith(e))return n;t=t.slice(e.length)}if(i){if(!t.endsWith(i))return n;t=t.slice(0,-i.length)}return t}isEntity(n){return this.entityToName(n)!==n}getEntitiesFromUtterance(n,t){t||(t=n,n="es");const e=t.split(/[\s,.!?;:([\]'")/]+/).filter((n=>n)),i=[];for(let n=0;n<e.length;n+=1){const t=e[n];this.isEntity(t)&&i.push(this.entityToName(t))}return i}async generateEntityUtterance(n,t){let e={locale:n,utterance:t};e=await this.process(e);const{entities:i}=e;if(!i||!i.length)return t;i.sort(((n,t)=>n.start-t.start));let s=0,r="";for(let n=0;n<i.length;n+=1){const e=i[n],a=t.slice(s,e.start);s=e.end+1,r+=a,r+=this.nameToEntity(e.entity)}return r+=t.slice(i[i.length-1].end+1),r}toJSON(){RegExp.prototype.toJSON=RegExp.prototype.toString;const n={settings:{...this.settings},rules:{...this.rules}};return delete n.settings.container,n}fromJSON(n){this.applySettings(this.settings,n.settings),Object.keys(n.rules).forEach((t=>{Object.keys(n.rules[t]).forEach((e=>{n.rules[t][e].rules="regex"===n.rules[t][e].type?n.rules[t][e].rules.map((n=>l.str2regex(n))):n.rules[t][e].rules.map((n=>"string"==typeof n.regex?{...n,regex:l.str2regex(n.regex)}:n))}))})),this.rules=n.rules}}n.exports=l},8517:(n,t,e)=>{const{TrimTypesList:i}=e(1720);function s(n,t,e,i=[]){let s,r;if(n.accuracy>t.accuracy||n.accuracy===t.accuracy&&n.length>t.length?(s=n,r=t):(s=t,r=n),r.start<=s.end&&r.end>=s.start)if(r.accuracy<s.accuracy)r.discarded=!0;else if((e||r.entity===s.entity||"number"===r.entity)&&r.len<=s.len)r.start===s.start&&r.end===s.end&&r.type===s.type&&r.entity===s.entity&&r.option===s.option?r.discarded=!0:r.start===s.start&&r.end===s.end&&r.entity===s.entity&&r.type!==s.type&&("trim"===s.type&&"trim"!==r.type?s.discarded=!0:("trim"!==s.type&&r.type,r.discarded=!0));else if((e||r.entity===s.entity||"number"===s.entity)&&r.len>s.len)s.discarded=!0;else if("enum"===s.type&&"enum"===r.type){const n=i.includes(s.entity),t=i.includes(r.entity);n&&!t?r.discarded=!0:!n&&t||s.len<=r.len&&r.utteranceText.includes(s.utteranceText)?s.discarded=!0:s.len>r.len&&s.utteranceText.includes(r.utteranceText)&&(r.discarded=!0)}}n.exports=function(n,t=!0,e=[]){const r=(n=function(n){for(let t=0,e=n.length;t<e;t+=1){const e=n[t];if("trim"===e.type&&i.includes(e.subtype))for(let i=0;i<n.length;i+=1){const s=n[i];if(t!==i&&s.start>=e.start&&s.end<=e.end&&"trim"!==s.type){const n=e.end-e.start,t=s.end-s.start;if(e.end===s.end){const i=e.sourceText.substring(0,n-t-1);e.sourceText=i,e.utteranceText=i,e.end=s.start-1,e.len=i.length}else if(e.start===s.start){const n=e.sourceText.substring(t+1);e.sourceText=n,e.utteranceText=n,e.start=s.end+1,e.len=n.length}}}}return n}(n)).length;for(let i=0;i<r;i+=1){const a=n[i];if(0===a.len&&(a.discarded=!0),!a.discarded)for(let o=i+1;o<r;o+=1){const i=n[o];if(i.discarded||s(a,i,t,e),a.discarded)break}if(!a.discarded){const n=e.indexOf(a.entity);-1!==n&&e.splice(n,1)}}return n.filter((n=>!n.discarded))}},1720:n=>{const t={Between:"between",After:"after",AfterLast:"afterLast",AfterFirst:"afterFirst",Before:"before",BeforeFirst:"beforeFirst",BeforeLast:"beforeLast"},e=Object.values(t);n.exports={TrimType:t,TrimTypesList:e}},189:(n,t,e)=>{const i=e(8462);n.exports=class{constructor(n,t){if(n){this.inputLookup=new i,this.outputLookup=new i;for(let t=0;t<n.length;t+=1)this.inputLookup.add(n[t]);for(let n=0;n<t.length;n+=1)this.outputLookup.add(t[n]);this.numInputs=this.inputLookup.items.length,this.numOutputs=this.outputLookup.items.length}}build(n){this.inputLookup=new i(n,"input"),this.outputLookup=new i(n,"output"),this.numInputs=this.inputLookup.items.length,this.numOutputs=this.outputLookup.items.length;const t=[];for(let e=0;e<n.length;e+=1){const{input:i,output:s}=n[e];t.push({input:this.inputLookup.prepare(i),output:this.outputLookup.prepare(s)})}return t}transformInput(n){return this.inputLookup.prepare(n)}}},165:(n,t,e)=>{const i=e(2892);n.exports={NeuralNetwork:i}},8462:n=>{n.exports=class{constructor(n,t="input"){this.dict={},this.items=[],n&&this.buildFromData(n,t)}add(n){void 0===this.dict[n]&&(this.dict[n]=this.items.length,this.items.push(n))}buildFromData(n,t){for(let e=0;e<n.length;e+=1){const i=n[e][t],s=Object.keys(i);for(let n=0;n<s.length;n+=1)this.add(s[n])}}prepare(n){const t=Object.keys(n),e=[],i={};for(let s=0;s<t.length;s+=1){const r=t[s];void 0!==this.dict[r]&&(e.push(this.dict[r]),i[this.dict[r]]=n[r])}return{keys:e,data:i}}}},2892:(n,t,e)=>{const i=e(189),s={iterations:2e4,errorThresh:5e-5,deltaErrorThresh:1e-6,learningRate:.6,momentum:.5,alpha:.07,log:!1};n.exports=class{constructor(n={}){this.settings=n,this.applySettings(this.settings,s),!0===this.settings.log?this.logFn=(n,t)=>console.log(`Epoch ${n.iterations} loss ${n.error} time ${t}ms`):"function"==typeof this.settings.log&&(this.logFn=this.settings.log)}applySettings(n={},t={}){return Object.keys(t).forEach((e=>{void 0===n[e]&&(n[e]=t[e])})),n}initialize(n,t){this.perceptronsByName={},this.perceptrons=[],this.outputs={},this.numPerceptrons=t.length;for(let e=0;e<t.length;e+=1){const i=t[e];this.outputs[i]=0;const s={name:i,id:e,weights:new Float32Array(n),changes:new Float32Array(n),bias:0};this.perceptrons.push(s),this.perceptronsByName[i]=s}}runInputPerceptron(n,t){const e=t.keys.reduce(((e,i)=>e+t.data[i]*n.weights[i]),n.bias);return e<=0?0:this.settings.alpha*e}runInput(n){for(let t=0;t<this.numPerceptrons;t+=1)this.outputs[this.perceptrons[t].name]=this.runInputPerceptron(this.perceptrons[t],n);return this.outputs}get isRunnable(){return!!this.numPerceptrons}run(n){return this.numPerceptrons?this.runInput(this.lookup.transformInput(n)):void 0}prepareCorpus(n){return this.lookup=new i,this.lookup.build(n)}verifyIsInitialized(){this.perceptrons||this.initialize(this.lookup.numInputs,this.lookup.outputLookup.items)}trainPerceptron(n,t){const{alpha:e,momentum:i}=this.settings,{changes:s,weights:r}=n;let a=0;for(let o=0;o<t.length;o+=1){const{input:u,output:l}=t[o],c=this.runInputPerceptron(n,u),h=(l.data[n.id]||0)-c;if(h){a+=h**2;const t=(c>0?1:e)*h*this.decayLearningRate;for(let n=0;n<u.keys.length;n+=1){const e=u.keys[n],a=t*u.data[e]+i*s[e];s[e]=a,r[e]+=a}n.bias+=t}}return a}train(n){if(!n||!n.length)return{};if(void 0!==n[n.length-1].input.nonefeature){const t={};for(let e=0;e<n.length-1;e+=1){const i=Object.keys(n[e].output);for(let n=0;n<i.length;n+=1)t[i[n]]||(t[i[n]]=1)}const e=n[n.length-1],i=Object.keys(t);for(let n=0;n<i.length;n+=1)e.output[i[n]]=1e-7}const t=this.prepareCorpus(n);this.status||(this.status={error:1/0,deltaError:1/0,iterations:0}),this.verifyIsInitialized();const e=this.settings.errorThresh,i=this.settings.deltaErrorThresh;for(;this.status.iterations<this.settings.iterations&&this.status.error>e&&this.status.deltaError>i;){const n=new Date;this.status.iterations+=1,this.decayLearningRate=this.settings.learningRate/(1+.001*this.status.iterations);const e=this.status.error;this.status.error=0;for(let n=0;n<this.numPerceptrons;n+=1)this.status.error+=this.trainPerceptron(this.perceptrons[n],t);this.status.error/=this.numPerceptrons*t.length,this.status.deltaError=Math.abs(this.status.error-e);const i=new Date;this.logFn&&this.logFn(this.status,i.getTime()-n.getTime())}return this.status}explain(n,t){const e=this.lookup.transformInput(n),i={},s=this.lookup.outputLookup.dict[t];if(void 0===s)return{};for(let n=0;n<e.keys.length;n+=1){const t=e.keys[n];i[this.lookup.inputLookup.items[t]]=this.perceptrons[s].weights[t]}return{weights:i,bias:this.perceptrons[s].bias}}toJSON(){const n={},t=Object.keys(this.settings);for(let e=0;e<t.length;e+=1){const i=t[e];this.settings[i]!==s[i]&&(n[i]=this.settings[i])}if(!this.lookup)return{settings:n};const e=this.lookup.inputLookup.items,i=this.lookup.outputLookup.items,r=[];for(let n=0;n<this.perceptrons.length;n+=1){const t=this.perceptrons[n],e=[...t.weights,t.bias];r.push(e)}return{settings:n,features:e,intents:i,perceptrons:r}}fromJSON(n){if(this.settings=this.applySettings({...s,...n.settings}),n.features){this.lookup=new i(n.features,n.intents),this.initialize(n.features.length,n.intents);for(let t=0;t<this.perceptrons.length;t+=1){const e=this.perceptrons[t],i=n.perceptrons[t];e.bias=i[i.length-1];for(let t=0;t<n.features.length;t+=1)e.weights[t]=i[t]}}}}},2708:(n,t,e)=>{const{Clonable:i}=e(79);n.exports=class extends i{constructor(n={},t){super({settings:{},container:n.container||t},t),this.applySettings(this.settings,n),this.settings.tag||(this.settings.tag="action-manager"),this.registerDefault(),this.applySettings(this.settings,this.container.getConfiguration(this.settings.tag)),this.actions={},this.actionsMap={},this.applySettings(this,{pipelineFind:this.getPipeline(`${this.settings.tag}-find`)})}registerDefault(){}posAction(n,t,e){if(!this.actions[n])return-1;const i=this.actions[n];for(let n=0;n<i.length;n+=1)if(i[n].action===t&&JSON.stringify(i[n].parameters)===JSON.stringify(e))return n;return-1}findActions(n){return(this.actions[n]||[]).map((n=>({...n,fn:this.actionsMap[n.action]})))}async processActions(n,t){const e=this.findActions(n);t&&"object"==typeof t&&(t.actions=e.map((n=>({action:n.action,parameters:n.parameters}))));let i=t;for(const{fn:n,parameters:t}of e)if(n){const e=await n(i,...t||[]);e&&("object"==typeof i?"object"==typeof e?i=e:i.answer=e:i=e)}return i}addAction(n,t,e,i){-1===this.posAction(n,t,e)&&(this.actions[n]||(this.actions[n]=[]),this.actions[n].push({action:t,parameters:e}),i&&(this.actionsMap[t]=i))}removeAction(n,t,e){const i=this.posAction(n,t,e);i>-1&&this.actions[n].splice(i,1)}removeActions(n){delete this.actions[n]}registerActionInMap(n,t){this.actionsMap[n]=t}removeActionFromMap(n){delete this.actionsMap[n]}run(n,t){const e=n;return e.settings=e.settings||t||this.settings,this.processActions(n.intent,e)}toJSON(){const n={settings:{...this.settings},actions:this.actions};return delete n.settings.container,n}fromJSON(n){this.applySettings(this.settings,n.settings),this.actions=n.actions}}},2137:(n,t,e)=>{const i=e(525),s=e(2708);n.exports={NlgManager:i,ActionManager:s}},525:(n,t,e)=>{const{Clonable:i}=e(79);n.exports=class extends i{constructor(n={},t){super({settings:{},container:n.container||t},t),this.applySettings(this.settings,n),this.settings.tag||(this.settings.tag="nlg-manager"),this.registerDefault(),this.applySettings(this.settings,this.container.getConfiguration(this.settings.tag)),this.responses={},this.applySettings(this,{pipelineFind:this.getPipeline(`${this.settings.tag}-find`)})}registerDefault(){this.container.registerConfiguration("nlg-manager",{},!1)}findAllAnswers(n){const t=n;return this.responses[t.locale]?t.answers=this.responses[t.locale][t.intent]||[]:t.answers=[],t}filterAnswers(n){const t=n,{answers:e}=t;if(e&&e.length){const n=this.container.get("Evaluator");if(n){const i=t.context||{},s=[];for(let t=0;t<e.length;t+=1){const r=e[t];if(r.opts){const t="string"==typeof r.opts?r.opts:r.opts.condition;t?!0===n.evaluate(t,i)&&s.push(r):s.push(r)}else s.push(r)}t.answers=s}}return t}chooseRandom(n){const t=n,{answers:e}=t;return e&&e.length&&(t.answer=e[Math.floor(Math.random()*e.length)].answer),t}renderText(n,t){if(!n)return n;let e,i=n.answer||n;do{const n=/\((?:[^()]+)\|(?:[^()]+)\)/g.exec(i);if(n){for(let t=0;t<n.length;t+=1){const e=n[t],s=e.substring(1,e.length-1).split("|");i=i.replace(e,s[Math.floor(Math.random()*s.length)])}e=!0}else e=!1}while(e);n.answer?n.answer=i:n=i;const s=this.container.get("Template");return s&&t?s.compile(n,t):n}renderRandom(n){const t=n,{answers:e,context:i}=t;for(let n=0;n<e.length;n+=1)e[n]=this.renderText(e[n],i);return t}indexOfAnswer(n,t,e,i){if(!this.responses[n])return-1;if(!this.responses[n][t])return-1;const s=this.responses[n][t];for(let n=0;n<s.length;n+=1){const t=s[n];if(t.answer===e&&JSON.stringify(t.opts)===JSON.stringify(i))return n}return-1}add(n,t,e,i){const s=this.indexOfAnswer(n,t,e,i);if(-1!==s)return this.responses[n][t][s];this.responses[n]||(this.responses[n]={}),this.responses[n][t]||(this.responses[n][t]=[]);const r={answer:e,opts:i};return this.responses[n][t].push(r),r}remove(n,t,e,i){const s=this.indexOfAnswer(n,t,e,i);-1!==s&&this.responses[n][t].splice(s,1)}defaultPipelineFind(n){let t=this.findAllAnswers(n);return t=this.filterAnswers(t),t=this.renderRandom(t),t=this.chooseRandom(t),t}find(n,t,e,i){const s={locale:n,intent:t,context:e,settings:i||this.settings};return this.pipelineFind?this.runPipeline(s,this.pipelineFind):this.defaultPipelineFind(s)}run(n,t){return this.find(n.locale,n.intent,n.context,t)}toJSON(){const n={settings:{...this.settings},responses:this.responses};return delete n.settings.container,n}fromJSON(n){this.applySettings(this.settings,n.settings),this.responses=n.responses}}},9924:(n,t,e)=>{const{Clonable:i}=e(79);n.exports=class extends i{constructor(n={},t){super({settings:{},container:n.container||t},t),this.applySettings(this.settings,n),this.settings.tag||(this.settings.tag="context-manager"),this.registerDefault(),this.applySettings(this.settings,this.container.getConfiguration(this.settings.tag)),this.contextDictionary={},this.defaultData={}}registerDefault(){this.container.registerConfiguration("context-manager",{tableName:"context"})}async getInputContextId(n){let t;return this.onGetInputContextId&&(t=await this.onGetInputContextId(n)),!t&&n&&n.activity&&(n.activity.address&&n.activity.address.conversation?t=n.activity.address.conversation.id:n.activity.conversation&&(t=n.activity.conversation.id)),t}async getContext(n){const t=await this.getInputContextId(n);let e;if(t){if(this.settings.tableName){const n=this.container?this.container.get("database"):void 0;n&&(e=await n.findOne(this.settings.tableName,{conversationId:t})||{conversationId:t})}e||(e=this.contextDictionary[t]||{conversationId:t})}else e={};return e._data=this.defaultData,e}async setContext(n,t){const e=this.container.get("logger"),i=await this.getInputContextId(n);if(i){if(!t.id){const e=await this.getContext(n);e&&(t.id=e.id)}const s=Object.keys(t),r={conversationId:i};for(let n=0;n<s.length;n+=1){const e=s[n];e.startsWith("_")||(r[e]=t[e])}if(this.settings.tableName){const n=this.container?this.container.get("database"):void 0;n?await n.save(this.settings.tableName,r):this.contextDictionary[i]=r}else this.contextDictionary[i]=r;this.onCtxUpdate&&(e.debug("emmitting event onCtxUpdate..."),await this.onCtxUpdate(r))}}async resetConversations(){for(const n of Object.keys(this.contextDictionary))await this.resetConversation(n)}async resetConversation(n){this.container.get("logger").debug(`resetting context in conversation: ${n}`);const t=this.contextDictionary[n];Object.keys(t).forEach((n=>{delete t[n]})),this.contextDictionary[n].dialogStack=[],this.contextDictionary[n].variableName=void 0}}},6548:(n,t,e)=>{const i=e(1141),s=e(9924);n.exports={Nlp:i,ContextManager:s}},1141:(n,t,e)=>{const{Clonable:i,containerBootstrap:s}=e(79),{NluManager:r,NluNeural:a}=e(6607),{Ner:o,ExtractorEnum:u,ExtractorRegex:l,ExtractorTrim:c,ExtractorBuiltin:h}=e(3229),{ActionManager:g,NlgManager:d}=e(2137),{SentimentAnalyzer:f}=e(6465),{SlotManager:p}=e(213),m=e(9924);n.exports=class extends i{constructor(n={},t){super({settings:{},container:n.container||t||s()},t),this.applySettings(this.settings,n),this.settings.tag||(this.settings.tag="nlp"),this.registerDefault(),this.applySettings(this.settings,this.container.getConfiguration(this.settings.tag)),this.nluManager=this.container.get("nlu-manager",this.settings.nlu),this.ner=this.container.get("ner",this.settings.ner),this.nlgManager=this.container.get("nlg-manager",this.settings.nlg),this.actionManager=this.container.get("action-manager",this.settings.action),this.sentiment=this.container.get("sentiment-analyzer",this.settings.sentiment),this.slotManager=this.container.get("SlotManager",this.settings.slot),this.contextManager=this.container.get("context-manager",this.settings.context),this.forceNER=this.settings.forceNER,void 0===this.forceNER&&(this.forceNER=!1),this.initialize()}registerDefault(){this.container.registerConfiguration("nlp",{threshold:.5,autoLoad:!0,autoSave:!0,modelFileName:"model.nlp",executeActionsBeforeAnswers:!1},!1),this.use(r),this.use(o),this.use(u),this.use(l),this.use(c),this.use(h),this.use(d),this.use(g),this.use(a),this.use(f),this.use(m),this.container.register("SlotManager",p,!1)}initialize(){if(this.settings.nlu){const n=Object.keys(this.settings.nlu);for(let t=0;t<n.length;t+=1){const e=n[t],i=Object.keys(this.settings.nlu[e]);for(let n=0;n<i.length;n+=1){const t=i[n],s=this.settings.nlu[e][t],{className:r}=s;delete s.className,this.useNlu(r,e,t,s)}}}this.settings.languages&&this.addLanguage(this.settings.languages),this.settings.locales&&this.addLanguage(this.settings.locales),void 0===this.settings.calculateSentiment&&(this.settings.calculateSentiment=!0),void 0===this.settings.executeActionsBeforeAnswers&&(this.settings.executeActionsBeforeAnswers=!1)}async start(){this.settings.corpora&&await this.addCorpora(this.settings.corpora)}async loadOrTrain(){let n=!1;this.settings.autoLoad&&(n=await this.load(this.settings.modelFileName)),n||await this.train()}useNlu(n,t,e,i){if(t||(t="??"),Array.isArray(t))for(let s=0;s<t.length;s+=1)this.useNlu(n,t[s],e,i);else{const s="string"==typeof n?n:this.container.use(n);let r=this.container.getConfiguration(`domain-manager-${t}`);r||(r={},this.container.registerConfiguration(`domain-manager-${t}`,r)),r.nluByDomain||(r.nluByDomain={});const a=e&&"*"!==e?e:"default";r.nluByDomain[a]||(r.nluByDomain[a]={}),r.nluByDomain[a].className=s,r.nluByDomain[a].settings=i}}guessLanguage(n){return this.nluManager.guessLanguage(n)}addLanguage(n){return this.nluManager.addLanguage(n)}removeLanguage(n){return this.nluManager.removeLanguage(n)}addAdditionalEnumEntityUtterances(){this.settings.languages&&this.settings.languages.forEach((n=>{const t={};this.ner.getRules(n).forEach((n=>{if("enum"===n.type){const e=this.ner.nameToEntity(n.name);t[e]=t[e]||[],n.rules.forEach((n=>{t[e]=t[e].concat(n.texts)}))}}));const e=this.nluManager.consolidateManager(n);e.getSentences().forEach((i=>{const s=this.ner.getEntitiesFromUtterance(n,i.utterance).map((n=>this.ner.nameToEntity(n)));this.replaceEnumEntitiesInSentence(e,n,i.domain,i.utterance,i.intent,s,t)}))}))}replaceEnumEntitiesInSentence(n,t,e,i,s,r,a){if(!r.length)return this.nluManager.guesser.addExtraSentence(t,i),void n.add(e,i,s);const o=r[0];a[o]&&a[o].length?a[o].forEach((u=>{const l=i.replace(o,u);this.replaceEnumEntitiesInSentence(n,t,e,l,s,r.slice(1),a)})):this.replaceEnumEntitiesInSentence(n,t,e,i,s,r.slice(1),a)}addDocument(n,t,e){const i=this.ner.getEntitiesFromUtterance(t);return this.slotManager.addBatch(e,i),this.nluManager.add(n,t,e)}removeDocument(n,t,e){return this.nluManager.remove(n,t,e)}getRulesByName(n,t){return this.ner.getRulesByName(n,t)}addNerRule(n,t,e,i){return this.ner.addRule(n,t,e,i)}removeNerRule(n,t,e){return this.ner.removeRule(n,t,e)}addNerRuleOptionTexts(n,t,e,i){return this.ner.addRuleOptionTexts(n,t,e,i)}removeNerRuleOptionTexts(n,t,e,i){return this.ner.removeRuleOptionTexts(n,t,e,i)}addNerRegexRule(n,t,e){return this.ner.addRegexRule(n,t,e)}addNerBetweenCondition(n,t,e,i,s){return this.ner.addBetweenCondition(n,t,e,i,s)}addNerBetweenLastCondition(n,t,e,i,s){return this.ner.addBetweenLastCondition(n,t,e,i,s)}addNerPositionCondition(n,t,e,i,s){return this.ner.addPositionCondition(n,t,e,i,s)}addNerAfterCondition(n,t,e,i){return this.ner.addAfterCondition(n,t,e,i)}addNerAfterFirstCondition(n,t,e,i){return this.ner.addAfterFirstCondition(n,t,e,i)}addNerAfterLastCondition(n,t,e,i){return this.ner.addAfterLastCondition(n,t,e,i)}addNerBeforeCondition(n,t,e,i){return this.ner.addBeforeCondition(n,t,e,i)}addNerBeforeFirstCondition(n,t,e,i){return this.ner.addBeforeFirstCondition(n,t,e,i)}addNerBeforeLastCondition(n,t,e,i){return this.ner.addBeforeLastCondition(n,t,e,i)}assignDomain(n,t,e){return this.nluManager.assignDomain(n,t,e)}getIntentDomain(n,t){return this.nluManager.getIntentDomain(n,t)}getDomains(){return this.nluManager.getDomains()}addAction(n,t,e,i){return this.actionManager.addAction(n,t,e,i)}registerActionFunction(n,t){return this.actionManager.registerActionInMap(n,t)}getActions(n){return this.actionManager.findActions(n)}removeAction(n,t,e){return this.actionManager.removeAction(n,t,e)}removeActions(n){return this.actionManager.removeActions(n)}removeActionFunction(n){return this.actionManager.removeActionFromMap(n)}addAnswer(n,t,e,i){return this.nlgManager.add(n,t,e,i)}removeAnswer(n,t,e,i){return this.nlgManager.remove(n,t,e,i)}findAllAnswers(n,t){return this.nlgManager.findAllAnswers({locale:n,intent:t}).answers}async addCorpora(n){if(n)if(Array.isArray(n))for(let t=0;t<n.length;t+=1)await this.addCorpus(n[t]);else await this.addCorpus(n)}async addImported(n){let t;if(n.content)t=n.content;else{if(!n.filename)throw new Error("Corpus information without content or file name");{const e=this.container.get("fs");if(t=await e.readFile(n.filename),!t)throw new Error(`Corpus not found "${n.filename}"`)}}let e=this.container.get(n.importer);if(e||(e=this.container.get(`${n.importer}-importer`)),!e)throw new Error(`Corpus importer not found: ${n.importer}`);const i=e.transform(t,n);for(let n=0;n<i.length;n+=1)this.addCorpus(i[n])}addEntities(n,t){const e=Object.keys(n);for(let i=0;i<e.length;i+=1){const s=e[i];let r=n[s];"string"==typeof r&&(r={regex:[r]});let a=r.locale;if(a||(a=t||"en"),"string"==typeof a&&(a=a.slice(0,2)),r.options){const n=Object.keys(r.options);for(let t=0;t<n.length;t+=1)this.addNerRuleOptionTexts(a,s,n[t],r.options[n[t]])}if(r.regex)if(Array.isArray(r.regex))for(let n=0;n<r.regex.length;n+=1)this.addNerRegexRule(a,s,r.regex[n]);else"string"==typeof r.regex&&r.regex.trim()&&this.addNerRegexRule(a,s,r.regex);if(r.trim)for(let n=0;n<r.trim.length;n+=1)switch(r.trim[n].position){case"after":case"afterLast":case"afterFirst":case"before":case"beforeFirst":case"beforeLast":this.addNerPositionCondition(a,s,r.trim[n].position,r.trim[n].words,r.trim[n].opts);break;case"between":this.addNerBetweenCondition(a,s,r.trim[n].leftWords,r.trim[n].rightWords,r.trim[n].opts);break;case"betweenLast":this.addNerBetweenLastCondition(a,s,r.trim[n].leftWords,r.trim[n].rightWords,r.trim[n].opts)}}}addData(n,t,e){for(let i=0;i<n.length;i+=1){const s=n[i],{intent:r,utterances:a,answers:o,slotFilling:u,actions:l}=s;for(let n=0;n<a.length;n+=1)e&&this.assignDomain(t,r,e.name),this.addDocument(t,a[n],r);if(o)for(let n=0;n<o.length;n+=1){const e=o[n];"string"==typeof e?this.addAnswer(t,r,e):this.addAnswer(t,r,e.answer,e.opts)}if(u){const n=Object.keys(u);for(let e=0;e<n.length;e+=1){const i=u[n[e]];let s;const a={};"string"==typeof i?(a[t]=i,s=!0):(a[t]=i.question,s=i.mandatory||!1),this.slotManager.updateSlot(r,n[e],s,a)}}l&&l.forEach((n=>{if(n)if("object"==typeof n){if(!n.name)return;this.addAction(r,n.name,n.parameters||[])}else this.addAction(r,n,[])}))}}async addCorpus(n){if(n.importer)await this.addImported(n);else{let t=n;const e=this.container.get("fs");if("string"==typeof n){const i=await e.readFile(n);if(!i)throw new Error(`Corpus not found "${n}"`);t="string"==typeof i?JSON.parse(i):i}if(t.contextData){let{contextData:n}=t;"string"==typeof t.contextData&&(n=JSON.parse(await e.readFile(t.contextData)));const i=this.container.get("context-manager"),s=Object.keys(n);for(let t=0;t<s.length;t+=1)i.defaultData[s[t]]=n[s[t]]}if(t.domains){t.entities&&this.addEntities(t.entities);for(let n=0;n<t.domains.length;n+=1){const e=t.domains[n],{data:i,entities:s}=e,r=e.locale.slice(0,2);this.addLanguage(r),s&&this.addEntities(s,r),this.addData(i,r,e)}}else{const n=t.locale.slice(0,2);this.addLanguage(n);const{data:e,entities:i}=t;i&&this.addEntities(i,n),this.addData(e,n)}}}getSentiment(n,t){return"object"==typeof n?this.sentiment.process(n):(t||(t=n,n=this.guessLanguage(t)),this.sentiment.process({utterance:t,locale:n}))}describeLanguage(n,t){this.nluManager.describeLanguage(n,t)}async train(){this.nluManager.addLanguage(this.settings.languages);const n=await this.nluManager.train();return this.settings.autoSave&&await this.save(this.settings.modelFileName,!0),n}async classify(n,t,e){return this.nluManager.process(n,t,e||this.settings.nlu)}async extractEntities(n,t,e,i){return"object"==typeof n?this.ner.process(n):(t||(t=n,n=void 0),n||(n=this.guessLanguage(t)),await this.ner.process({locale:n,utterance:t,context:e,settings:this.applySettings(i,this.settings.ner)}))}organizeEntities(n){const t={};for(let e=0;e<n.length;e+=1){const i=n[e];t[i.entity]||(t[i.entity]=[]),t[i.entity].push(i)}const e=[];return Object.keys(t).forEach((n=>{const i=t[n];if(1===i.length)e.push(i[0]);else{for(let t=0;t<i.length;t+=1)i[t].alias=`${n}_${t}`;e.push({entity:n,isList:!0,items:i})}})),e}structureEntities(n){const t=this.organizeEntities(n.entities);n.context.entities||(n.context.entities={});for(let e=0;e<t.length;e+=1){const i=t[e];if(n.context.entities[i.entity]=i,i.alias&&(n.context[i.alias]=i.sourceText),i.isList)for(let t=0;t<i.items.length;t+=1)n.context[i.items[t].alias]=i.items[t].sourceText;else n.context[`${i.entity}_0`]=i.sourceText;n.context[i.entity]=i.isList?i.items[0].sourceText:i.sourceText}return n}async process(n,t,e,i){let s,r=e;"object"==typeof n&&("object"==typeof t&&t.value?(n=void 0,t=t.value):s=n),s?(n=s.locale,t=s.utterance||s.message||s.text):(t||(t=n,n=void 0),n||(n=this.guessLanguage(t)),s={locale:n,utterance:t,settings:i},i&&(i.activity&&!s.activity&&(s.activity=i.activity),i.conversationId&&!s.activity&&(s.activity={conversation:{id:i.conversationId}}))),r||(r=await this.contextManager.getContext(s)),r.channel=s.channel,r.app=s.app,r.from=s.from||null;const a={locale:n,utterance:t,context:r,settings:this.applySettings(i,this.settings.nlu)},o=a.settings&&"forceNER"in a.settings?a.settings.forceNER:this.forceNER;let u=await this.nluManager.process(a);if(o||!this.slotManager.isEmpty){const e=await this.ner.generateEntityUtterance(u.locale||n,t);if(e&&e!==t){const s={locale:u.locale||n,utterance:e,context:r,settings:this.applySettings(i,this.settings.nlu)},a=await this.nluManager.process(s);a&&(a.score>u.score||"None"===u.intent)&&(u=a,u.utterance=t,u.optionalUtterance=e)}}if(u.score<this.settings.threshold&&(u.score=1,u.intent="None"),u.context=r,o||!this.slotManager.isEmpty){const n=this.slotManager.getIntentEntityNames(u.intent);u=await this.ner.process({...u},n)}else u.entities=[],u.sourceEntities=[];const l=this.container.get(`stemmer-${u.locale}`);if(l&&l.lastFill&&l.lastFill(u),u=this.structureEntities(u),!o&&this.slotManager.isEmpty||(this.slotManager.process(u,r)&&(u=this.structureEntities(u)),r.slotFill=u.slotFill),this.settings.executeActionsBeforeAnswers&&(u=await this.actionManager.run({...u})),this.settings.executeActionsBeforeAnswers&&u.answer)u.answer=this.nlgManager.renderText(u.answer,r);else{const n=await this.nlgManager.run({...u});u.answers=n.answers,u.answer=n.answer}if(u.srcAnswer&&(u.answer=this.nlgManager.renderText(u.srcAnswer,r)),this.settings.executeActionsBeforeAnswers||(u=await this.actionManager.run({...u})),this.settings.calculateSentiment){const e=await this.getSentiment(n,t);u.sentiment=e?e.sentiment:void 0}await this.contextManager.setContext(s,r),delete u.context,delete u.settings;const c=s?this.applySettings(s,u):u;if("None"===c.intent&&!c.answer){const n=this.container.get("open-question");if(n){const t=await n.getAnswer(c.locale,c.utterance);t&&t.answer&&t.answer.length>0&&(c.answer=t.answer,c.isOpenQuestionAnswer=!0,c.openQuestionFirstCharacter=t.position,c.openQuestionScore=t.score)}}if(this.onIntent)await this.onIntent(this,c);else{const n=`onIntent(${c.intent})`,t=this.container.getPipeline(n);t&&await this.container.runPipeline(t,c,this)}return c}toJSON(){const n={settings:{...this.settings},nluManager:this.nluManager.toJSON(),ner:this.ner.toJSON(),nlgManager:this.nlgManager.toJSON(),actionManager:this.actionManager.toJSON(),slotManager:this.slotManager.save()};return delete n.settings.container,n}fromJSON(n){this.applySettings(this.settings,n.settings),this.nluManager.fromJSON(n.nluManager),this.ner.fromJSON(n.ner),this.nlgManager.fromJSON(n.nlgManager),this.actionManager.fromJSON(n.actionManager),this.slotManager.load(n.slotManager)}export(n=!1){const t=this.toJSON();return n?JSON.stringify(t):JSON.stringify(t,null,2)}import(n){const t="string"==typeof n?JSON.parse(n):n;this.fromJSON(t)}async save(n,t=!1){const e=this.container.get("fs"),i=n||"model.nlp";await e.writeFile(i,this.export(t))}async load(n){const t=this.container.get("fs"),e=n||"model.nlp",i=await t.readFile(e);return!!i&&(this.import(i),!0)}}},2507:(n,t,e)=>{const{Clonable:i,compareWildcars:s}=e(79),r="master_domain";n.exports=class extends i{constructor(n={},t){super({settings:{},container:n.container||t},t),this.applySettings(this.settings,n),this.applySettings(this.settings,{locale:"en"}),this.settings.tag||(this.settings.tag=`domain-manager-${this.settings.locale}`),this.registerDefault(),this.applySettings(this.settings,this.container.getConfiguration(this.settings.tag)),this.domains={},this.addDomain(r),this.stemDict={},this.intentDict={},this.sentences=[],this.applySettings(this,{pipelineTrain:this.getPipeline(`${this.settings.tag}-train`),pipelineProcess:this.getPipeline(`${this.settings.tag}-process`)})}registerDefault(){this.container.registerConfiguration("domain-manager-??",{nluByDomain:{default:{className:"NeuralNlu",settings:{}}},trainByDomain:!1,useStemDict:!0},!1),this.container.registerPipeline("domain-manager-??-train",[".trainStemmer",".generateCorpus",".fillStemDict",".innerTrain","output.status"],!1)}getDomainInstance(n){this.settings.nluByDomain||(this.settings.nluByDomain={});const t=this.settings.nluByDomain[n]||this.settings.nluByDomain.default||{className:"NeuralNlu",settings:{}};return this.container.get(t.className||"NeuralNlu",this.applySettings({locale:this.settings.locale},t.settings||{}))}addDomain(n){return this.domains[n]||(this.domains[n]=this.getDomainInstance(n)),this.domains[n]}removeDomain(n){delete this.domains[n]}async generateStemKey(n){let t;if("string"!=typeof n)t=n;else{const e=await this.prepare({utterance:n});t=await e.stems}return Array.isArray(t)||(t=Object.keys(t)),t.slice().sort().join()}add(n,t,e){e?this.sentences.push({domain:n,utterance:t,intent:e}):this.sentences.push({domain:r,utterance:n,intent:t})}getSentences(){return this.sentences}remove(n,t,e){const i=e?n:r,s=e?t:n,a=e||t;for(let n=0;n<this.sentences.length;n+=1){const t=this.sentences[n];if(t.domain===i&&t.utterance===s&&t.intent===a)return this.sentences.splice(n,1),!0}return!1}async trainStemmer(n){const t=n;this.cache||(this.cache={stem:this.container.get("stem")});for(let n=0;n<this.sentences.length;n+=1){const e={...this.sentences[n],...t};await this.cache.stem.addForTraining(e)}return await this.cache.stem.train(t),t}innerGenerateCorpus(n){this.intentDict={};const t={};t[r]=[];for(let e=0;e<this.sentences.length;e+=1){const i=this.sentences[e];this.intentDict[i.intent]=i.domain;const s=n||i.domain;t[s]||(t[s]=[]),t[s].push({utterance:i.utterance,intent:i.intent}),n||t[r].push({utterance:i.utterance,intent:i.domain})}return t}async generateCorpus(n){const t=n;return t.corpus=this.innerGenerateCorpus(this.settings.trainByDomain?void 0:r),t}async prepare(n){const t=n,e="string"==typeof t,i=e?t:t.utterance,s=this.addDomain(r).prepare(i);return e?s:(t.stems=s,t)}async fillStemDict(n){this.stemDict={};for(let n=0;n<this.sentences.length;n+=1){const{utterance:t,intent:e,domain:i}=this.sentences[n],s=await this.generateStemKey(t);s&&""!==s||this.container.get("logger").warn(`This utterance: "${t}" contains only stop words`),this.stemDict[s]={intent:e,domain:i}}return n}async innerTrain(n){const t=n,{corpus:e}=t,i=Object.keys(e),s={};for(let t=0;t<i.length;t+=1){const r=this.addDomain(i[t]),a={useNoneFeature:this.settings.useNoneFeature};n.settings&&void 0!==n.settings.log&&(a.log=n.settings.log);const o=await r.train(e[i[t]],a);s[i[t]]=o.status}return t.status=s,t}async train(n){const t={domainManager:this,settings:n||this.settings};return this.runPipeline(t,this.pipelineTrain)}matchAllowList(n,t){for(let e=0;e<t.length;e+=1)if(s(n,t[e]))return!0;return!1}async classifyByStemDict(n,t,e){const i=await this.generateStemKey(n),s=this.stemDict[i];if(s&&(!t||s.domain===t)){if(e&&!this.matchAllowList(s.intent,e))return;const n=[];n.push({intent:s.intent,score:1});const t=Object.keys(this.intentDict);for(let e=0;e<t.length;e+=1)t[e]!==s.intent&&n.push({intent:t[e],score:0});return{domain:s.domain,classifications:n}}}async innerClassify(n,t){const e=n;if(this.applySettings({...e.settings},this.settings).useStemDict){const i=await this.classifyByStemDict(e.utterance,t,n.settings?n.settings.allowList:void 0);if(i)return e.classification=i,e.explanation=[{token:"",stem:"##exact",weight:1}],e}if(t){const n=this.domains[t];if(!n)return e.classification={domain:"default",classifications:[{intent:"None",score:1}]},e;const i=await n.process(e.utterance,e.settings||this.settings);let s,a;return Array.isArray(i)?s=i:(s=i.classifications,e.nluAnswer=i),a=t===r?s&&s.length?this.intentDict[s[0].intent]:r:t,e.classification={domain:a,classifications:s},e}let i=r;if(void 0===e.settings.trainByDomain&&this.settings.trainByDomain||e.settings.trainByDomain){const n=this.domains[r];let t=await n.process(e.utterance);if(t.classifications&&(t=t.classifications),1===Object.keys(this.domains).length)return e.classification={domain:"default",classifications:t},e;if(i=t[0].intent,"None"===i)return e.classification={domain:"default",classifications:[{intent:"None",score:1}]},e}return this.innerClassify(e,i)}async defaultPipelineProcess(n){return(await this.innerClassify(n)).classification}async process(n,t){const e="string"==typeof n?{utterance:n,settings:t||this.settings}:n;return this.pipelineProcess?this.runPipeline(e,this.pipelineProcess):this.defaultPipelineProcess(e)}toJSON(){const n={settings:this.settings,stemDict:this.stemDict,intentDict:this.intentDict,sentences:this.sentences,domains:{}};delete n.settings.container;const t=Object.keys(this.domains);for(let e=0;e<t.length;e+=1)n.domains[t[e]]=this.domains[t[e]].toJSON();return n}fromJSON(n){this.applySettings(this.settings,n.settings),this.stemDict=n.stemDict,this.intentDict=n.intentDict,this.sentences=n.sentences;const t=Object.keys(n.domains);for(let e=0;e<t.length;e+=1)this.addDomain(t[e]).fromJSON(n.domains[t[e]])}}},6607:(n,t,e)=>{const i=e(9255),s=e(263),r=e(2507),a=e(3063);n.exports={Nlu:i,NluNeural:s,DomainManager:r,NluManager:a}},3063:(n,t,e)=>{const{Clonable:i}=e(79),{Language:s}=e(1994),r=e(2507);n.exports=class extends i{constructor(n={},t){super({settings:{},container:n.container||t},t),this.applySettings(this.settings,n),this.settings.tag||(this.settings.tag="nlu-manager"),this.registerDefault(),this.applySettings(this.settings,this.container.getConfiguration(this.settings.tag)),this.container.get("Language")||this.container.register("Language",s,!1),this.guesser=this.container.get("Language"),this.locales=[],this.languageNames={},this.domainManagers={},this.intentDomains={},this.settings.locales&&this.addLanguage(this.settings.locales),this.applySettings(this,{pipelineTrain:this.getPipeline(`${this.settings.tag}-train`),pipelineProcess:this.getPipeline(`${this.settings.tag}-process`)})}registerDefault(){this.container.registerConfiguration("nlu-manager",{},!1),this.container.registerPipeline("nlu-manager-train",[".innerTrain"],!1)}describeLanguage(n,t){this.languageNames[n]={locale:n,name:t}}addLanguage(n){if(n){const t=Array.isArray(n)?n:[n];for(let n=0;n<t.length;n+=1){const e=t[n].substr(0,2).toLowerCase();this.locales.includes(e)||this.locales.push(e),this.domainManagers[e]||(this.domainManagers[e]=new r({locale:e,...this.settings.domain,useNoneFeature:this.settings.useNoneFeature,trainByDomain:this.settings.trainByDomain},this.container))}}}removeLanguage(n){if(Array.isArray(n))n.forEach((n=>this.removeLanguage(n)));else{delete this.domainManagers[n];const t=this.locales.indexOf(n);-1!==t&&this.locales.splice(t,1)}}guessLanguage(n){const t=n,e="string"==typeof t;if(1===this.locales.length)return e?this.locales[0]:([t.locale]=this.locales,t);if(!t)return e?void 0:t;if(!e&&t.locale)return t;const i=e?t:t.utterance;if(1===this.locales.length){if(e)return this.locales[0];[t.locale]=this.locales}const s=this.guesser.guess(i,this.locales,1),r=s&&s.length>0?s[0].alpha2:void 0;return e?r:(t.locale=r,t)}assignDomain(n,t,e){const i=e?n.substr(0,2).toLowerCase():void 0,s=e?t:n,r=e||t;if(i)this.intentDomains[i]||(this.intentDomains[i]={}),this.intentDomains[i][s]=r;else for(let n=0;n<this.locales.length;n+=1)this.assignDomain(this.locales[n],s,r)}getIntentDomain(n,t){const e=n.substr(0,2).toLowerCase();return this.intentDomains[e]&&this.intentDomains[e][t]||"default"}getDomains(){const n={},t=Object.keys(this.intentDomains);for(let e=0;e<t.length;e+=1){const i=t[e];n[i]={};const s=Object.keys(this.intentDomains[i]);for(let t=0;t<s.length;t+=1){const e=s[t],r=this.intentDomains[i][e];n[i][r]||(n[i][r]=[]),n[i][r].push(e)}}return n}consolidateLocale(n,t){const e=n?n.substr(0,2).toLowerCase():this.guessLanguage(t);if(!e)throw new Error("Locale must be defined");return e}consolidateManager(n){const t=this.domainManagers[n];if(!t)throw new Error(`Domain Manager not found for locale ${n}`);return t}add(n,t,e){const i=this.consolidateLocale(n,t),s=this.consolidateManager(i),r=this.getIntentDomain(i,e);this.guesser.addExtraSentence(i,t),s.add(r,t,e)}remove(n,t,e){const i=this.consolidateLocale(n,t),s=this.consolidateManager(i),r=this.getIntentDomain(i,e);s.remove(r,t,e)}async innerTrain(n){let t=n.locales||this.locales;Array.isArray(t)||(t=[t]);const e=t.filter((n=>this.domainManagers[n])).map((t=>this.domainManagers[t].train(n.settings)));return Promise.all(e)}async train(n){const t={nluManager:this,settings:this.applySettings(n,this.settings)};return delete t.settings.tag,this.runPipeline(t,this.pipelineTrain)}fillLanguage(n){const t=n;return t.languageGuessed=!1,t.locale||(t.locale=this.guessLanguage(t.utterance),t.languageGuessed=!0),t.locale&&(t.localeIso2=t.locale.substr(0,2).toLowerCase(),t.language=(this.languageNames[t.localeIso2]||this.guesser.languagesAlpha2[t.localeIso2]||{}).name),t}classificationsIsNone(n){return 1!==n.length&&(0===n.length||0===n[0].score||n[0].score===n[1].score)}checkIfIsNone(n){const t=n;return this.classificationsIsNone(t.classifications)&&(t.intent="None",t.score=1),t}async innerClassify(n){const t=n,e=this.domainManagers[t.localeIso2];if(!e)return t.classifications=[],t.domain=void 0,t.intent=void 0,t.score=void 0,t;const i=await e.process(n);return t.classifications=i.classifications.sort(((n,t)=>t.score-n.score)),0===t.classifications.length&&t.classifications.push({intent:"None",score:1}),t.intent=t.classifications[0].intent,t.score=t.classifications[0].score,"None"===t.intent?i.domain="default":"default"===i.domain?t.domain=this.getIntentDomain(t.locale,t.intent):t.domain=i.domain,t}async defaultPipelineProcess(n){let t=await this.fillLanguage(n);return t=await this.innerClassify(t),t=await this.checkIfIsNone(t),delete t.settings,delete t.classification,t}process(n,t,e,i){const s="object"==typeof n?n:{locale:void 0===t?void 0:n,utterance:void 0===t?n:t,domain:e,settings:i||this.settings};return this.pipelineProcess?this.runPipeline(s,this.pipelineProcess):this.defaultPipelineProcess(s)}toJSON(){const n={settings:this.settings,locales:this.locales,languageNames:this.languageNames,domainManagers:{},intentDomains:this.intentDomains,extraSentences:this.guesser.extraSentences.slice(0)};delete n.settings.container;const t=Object.keys(this.domainManagers);for(let e=0;e<t.length;e+=1){const i=t[e];n.domainManagers[i]=this.domainManagers[i].toJSON()}return n}fromJSON(n){this.applySettings(this.settings,n.settings);for(let t=0;t<n.locales.length;t+=1)this.addLanguage(n.locales[t]);this.languageNames=n.languageNames,this.intentDomains=n.intentDomains;const t=Object.keys(n.domainManagers);for(let e=0;e<t.length;e+=1){const i=t[e];this.domainManagers[i].fromJSON(n.domainManagers[i])}for(let t=0;t<n.extraSentences.length;t+=1){const e=n.extraSentences[t];this.guesser.addExtraSentence(e[0],e[1])}}}},263:(n,t,e)=>{const{NeuralNetwork:i}=e(165),s=e(9255);class r extends s{async innerTrain(n){const t=n;return this.neuralNetwork=new i(t.settings,this.container),t.status=await this.neuralNetwork.train(t.corpus),t}innerProcess(n){const t=n;t.classifications=this.neuralNetwork&&this.neuralNetwork.run(t.tokens)||{None:1},this.convertToArray(t);const{intent:e}=t.classifications[0];return t.settings&&t.settings.returnExplanation&&e&&this.neuralNetwork&&"None"!==e&&(t.explanation=this.neuralNetwork.explain(t.tokens,e)),t}registerDefault(){super.registerDefault(),this.container.register("NeuralNlu",r,!1)}toJSON(){const n=super.toJSON();return n.neuralNetwork=this.neuralNetwork?this.neuralNetwork.toJSON():void 0,n}fromJSON(n){super.fromJSON(n),n.neuralNetwork&&(this.neuralNetwork=new i,this.neuralNetwork.fromJSON(n.neuralNetwork))}}n.exports=r},9255:(n,t,e)=>{const{Clonable:i,compareWildcars:s}=e(79),{SpellCheck:r}=e(6964);n.exports=class extends i{constructor(n={},t){super({settings:{},container:n.container||t},t),this.applySettings(this.settings,n),this.applySettings(this.settings,{locale:"en"}),this.settings.tag||(this.settings.tag=`nlu-${this.settings.locale}`),this.registerDefault(),this.applySettings(this.settings,this.container.getConfiguration(this.settings.tag)),this.applySettings(this,{pipelinePrepare:this.getPipeline(`${this.settings.tag}-prepare`),pipelineTrain:this.getPipeline(`${this.settings.tag}-train`),pipelineProcess:this.getPipeline(`${this.settings.tag}-process`)}),this.spellCheck=new r(this.settings)}registerDefault(){this.container.registerConfiguration("nlu-??",{keepStopwords:!0,nonefeatureValue:1,nonedeltaMultiplier:1.2,spellCheck:!1,spellCheckDistance:1,filterZeros:!0,log:!0},!1),this.container.registerPipeline("nlu-??-train",[".prepareCorpus",".addNoneFeature",".innerTrain"],!1)}async defaultPipelinePrepare(n){let t;if(this.cache){const n=new Date;Math.abs(n.getTime()-this.cache.created)/36e5>1&&(this.cache.results={},this.cache.created=(new Date).getTime())}if(this.cache){if(this.cache.results[n.settings.locale]&&(t=this.cache.results[n.settings.locale][n.text||n.utterance],t))return t}else this.cache={created:(new Date).getTime(),results:{},normalize:this.container.get("normalize"),tokenize:this.container.get("tokenize"),removeStopwords:this.container.get("removeStopwords"),stem:this.container.get("stem"),arrToObj:this.container.get("arrToObj")};let e=n;return e=this.cache.normalize.run(e),e=await this.cache.tokenize.run(e),e=this.cache.removeStopwords.run(e),e=await this.cache.stem.run(e),e=this.cache.arrToObj.run(e),t=e.tokens,this.cache.results[n.settings.locale]||(this.cache.results[n.settings.locale]={}),this.cache.results[n.settings.locale][n.text||n.utterance]=t,t}async defaultPipelineProcess(n){let t=await this.prepare(n);return t=await this.doSpellCheck(t),t=await this.textToFeatures(t),t=await this.innerProcess(t),t=await this.filterNonActivated(t),t=await this.normalizeClassifications(t),t}async prepare(n,t){const e=t||this.settings;if("string"==typeof n){const t={locale:this.settings.locale,text:n,settings:e};return this.pipelinePrepare?this.runPipeline(t,this.pipelinePrepare):this.defaultPipelinePrepare(t)}if("object"==typeof n){if(Array.isArray(n)){const t=[];for(let i=0;i<n.length;i+=1)t.push(await this.prepare(n[i],e));return t}let t=e.fieldNameSrc?n[e.fieldNameSrc]:n.texts||n.utterances;if(t||"string"==typeof t||("string"==typeof n.text?t=n.text:"string"==typeof n.utterance&&(t=n.utterance)),t||"string"==typeof t){const i=await this.prepare(t,e);return{[e.fieldNameTgt||"tokens"]:i,...n}}}throw new Error(`Error at nlu.prepare: expected a text but received ${n}`)}async doSpellCheck(n,t){const e=this.applySettings(t||{},this.settings);let i=void 0===n.settings.spellCheck?void 0:n.settings.spellCheck,s=void 0===n.settings.spellCheckDistance?void 0:n.settings.spellCheckDistance;if(void 0===i&&(i=void 0===e.spellCheck?void 0:e.spellCheck),void 0===s&&(s=void 0===e.spellCheckDistance?1:e.spellCheckDistance),i){const t=this.spellCheck.check(n.tokens,s);n.tokens=t}return n}async prepareCorpus(n){this.features={},this.intents={},this.intentFeatures={};const t=n,{corpus:e}=t,i=[];for(let n=0;n<e.length;n+=1){const{intent:s}=e[n],r={input:await this.prepare(e[n].utterance,t.settings),output:{[s]:1}},a=Object.keys(r.input);Object.prototype.hasOwnProperty.call(this.intentFeatures,s)||(this.intentFeatures[s]={});for(let n=0;n<a.length;n+=1)this.features[a[n]]=1,this.intentFeatures[s][a[n]]=1;this.intents[s]=1,i.push(r)}const s=Object.keys(this.intentFeatures);this.featuresToIntent={};for(let n=0;n<s.length;n+=1){const t=s[n],e=Object.keys(this.intentFeatures[t]);for(let n=0;n<e.length;n+=1){const i=e[n];Object.prototype.hasOwnProperty.call(this.featuresToIntent,i)||(this.featuresToIntent[i]=[]),this.featuresToIntent[i].push(t)}}return this.spellCheck.setFeatures(this.features),this.numFeatures=Object.keys(this.features).length,this.numIntents=Object.keys(this.intents).length,t.corpus=i,t}addNoneFeature(n){const{corpus:t}=n;return n.settings&&n.settings.useNoneFeature&&t.push({input:{nonefeature:1},output:{None:1}}),n}convertToArray(n){const t=n,{classifications:e}=t;if(e){this.intentsArr||(this.intents?(this.intentsArr=Object.keys(this.intents),this.intents.None||this.intentsArr.push("None")):this.intentsArr=Object.keys(e));const n=this.intentsArr,i=[];for(let s=0;s<n.length;s+=1){const r=n[s],a=e[r];void 0!==a&&(a>0||!t.settings.filterZeros)&&i.push({intent:r,score:a})}i.length||i.push({intent:"None",score:1}),t.classifications=i.sort(((n,t)=>t.score-n.score))}return t}someSimilar(n,t){for(let e=0;e<t.length;e+=1)if(n[t[e]])return!0;return!1}matchAllowList(n,t){for(let e=0;e<t.length;e+=1)if(s(n,t[e]))return!0;return!1}intentIsActivated(n,t,e){if(e){if(Array.isArray(e))return this.matchAllowList(n,e);if(!e[n])return!1}const i=this.intentFeatures[n];if(!i)return!1;const s=Object.keys(t);for(let n=0;n<s.length;n+=1)if(i[s[n]])return!0;return!1}filterNonActivated(n){if(this.intentFeatures&&n.classifications){const t=n.classifications.map((n=>n.intent));let e=!1;for(let i=0;i<t.length;i+=1){const s=t[i];"None"!==s&&(this.intentIsActivated(s,n.tokens,n.settings.allowList)||(n.classifications[i].score=0,e=!0))}e&&n.classifications.sort(((n,t)=>t.score-n.score))}return n}normalizeClassifications(n){const t=n,{classifications:e}=t;if(e){let n=0;for(let t=0;t<e.length;t+=1)e[t].score**=2,n+=e[t].score;if(n>0)for(let t=0;t<e.length;t+=1)e[t].score/=n}else t.classifications=t.nluAnswer;return t}textToFeatures(n){const t=n,{tokens:e}=t,i=Object.keys(e);let s=0;const r={};for(let n=0;n<i.length;n+=1){const t=i[n];"nonefeature"===t?e[t]=this.nonefeatureValue:this.features&&this.features[t]?r[t]=e[t]:s+=1}let a=void 0===t.settings.nonedeltaValue?this.numIntents/this.numFeatures:this.settings.nonedeltaValue,o=0;for(let n=0;n<s;n+=1)o+=a,a*=this.settings.nonedeltaMultiplier;return t.settings&&t.settings.useNoneFeature&&o&&(r.nonefeature=o),t.tokens=r,t}async innerTrain(){throw new Error("This method should be implemented by child classes")}async train(n,t){const e={corpus:n,settings:this.applySettings(t,this.settings)};return this.runPipeline(e,this.pipelineTrain)}async getExplanation(n,t){if(!t)return;const e=await this.container.get("normalize").run(n),i=await this.container.get("tokenize").run(e),{tokens:s}=i,r=(await this.container.get("stem").run(i)).tokens,a=[];a.push({token:"",stem:"##bias",weight:t.bias});for(let n=0;n<s.length;n+=1){const e=r[n];a.push({token:s[n],stem:e,weight:t.weights[e]})}return a}async process(n,t){const e={text:n,settings:this.applySettings(t||{},this.settings)};let i;if(i=this.pipelineProcess?await this.runPipeline(e,this.pipelineProcess):await this.defaultPipelineProcess(e),Array.isArray(i.classifications)){const n=e.settings.returnExplanation?await this.getExplanation(e,i.explanation):void 0;return{classifications:i.classifications,entities:void 0,explanation:n}}return i.intents&&(i.classifications=i.intents,delete i.intents),i}toJSON(){const n={settings:{...this.settings},features:this.features,intents:this.intents,intentFeatures:this.intentFeatures,featuresToIntent:this.featuresToIntent};return delete n.settings.container,n}fromJSON(n){this.applySettings(this.settings,n.settings),this.features=n.features||{},this.intents=n.intents||{},this.intentsArr=Object.keys(n.intents),this.featuresToIntent=n.featuresToIntent||{},this.intentFeatures=n.intentFeatures||{},this.spellCheck.setFeatures(this.features),this.numFeatures=Object.keys(this.features).length,this.numIntents=Object.keys(this.intents).length}}},6465:(n,t,e)=>{const i=e(2824);n.exports={SentimentAnalyzer:i}},2824:(n,t,e)=>{const{Clonable:i}=e(79);n.exports=class extends i{constructor(n={},t){super({settings:{},container:n.container||t},t),this.applySettings(this.settings,n),this.settings.tag||(this.settings.tag="sentiment-analyzer"),this.registerDefault(),this.applySettings(this.settings,this.container.getConfiguration(this.settings.tag)),this.applySettings(this,{pipelinePrepare:this.getPipeline(`${this.settings.tag}-prepare`),pipelineProcess:this.getPipeline(`${this.settings.tag}-process`)})}registerDefault(){this.container.registerConfiguration("sentiment-analyzer",{},!1)}prepare(n,t,e,i){const s=this.getPipeline(`${this.settings.tag}-prepare`);if(s){const i={text:t,locale:n,settings:e||this.settings};return this.runPipeline(i,s)}if(i){const e=this.container.get(`stemmer-${n}`)||this.container.get("stemmer-en");if(e)return e.tokenizeAndStem(t)}const r=this.container.get(`tokenizer-${n}`)||this.container.get("tokenizer-en");return r?r.tokenize(t,!0):t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().split(/[\s,.!?;:([\]'")/]+/).filter((n=>n))}async getDictionary(n){const t=n,e=this.container.get(`sentiment-${t.locale}`);let i;return e&&(e.senticon?i="senticon":e.pattern?i="pattern":e.afinn&&(i="afinn")),i?(t.sentimentDictionary={type:i,dictionary:e[i],negations:e.negations.words,stemmed:void 0!==e.stemmed&&e.stemmed},t):(t.sentimentDictionary={type:i,dictionary:void 0,negations:[],stemmed:!1},t)}async getTokens(n){const t=n;return!t.tokens&&t.sentimentDictionary.type&&(t.tokens=await this.prepare(t.locale,t.utterance||t.text,t.settings,t.sentimentDictionary.stemmed)),t}calculate(n){const t=n;if(t.sentimentDictionary.type){const n=Array.isArray(t.tokens)?t.tokens:Object.keys(t.tokens);if(t.sentimentDictionary.dictionary){const{dictionary:e}=t.sentimentDictionary,{negations:i}=t.sentimentDictionary;let s=0,r=1,a=0;for(let t=0;t<n.length;t+=1){const o=n[t].toLowerCase();-1!==i.indexOf(o)?(r=-1,a+=1):void 0!==e[o]&&(s+=r*e[o],a+=1)}t.sentiment={score:s,numWords:n.length,numHits:a,average:s/n.length,type:t.sentimentDictionary.type,locale:t.locale}}else t.sentiment={score:0,numWords:n.length,numHits:0,average:0,type:t.sentimentDictionary.type,locale:t.locale}}else t.sentiment={score:0,numWords:0,numHits:0,average:0,type:t.sentimentDictionary.type,locale:t.locale};return t.sentiment.score>0?t.sentiment.vote="positive":t.sentiment.score<0?t.sentiment.vote="negative":t.sentiment.vote="neutral",t}async defaultPipelineProcess(n){let t=await this.getDictionary(n);return t=await this.getTokens(t),t=await this.calculate(t),delete t.sentimentDictionary,t}process(n,t){const e=n;return e.settings=e.settings||t||this.settings,this.pipelineProcess?this.runPipeline(e,this.pipelineProcess):this.defaultPipelineProcess(e)}}},9393:n=>{n.exports=class{constructor(n){this.container=n}getTokens(n,t="en"){if("string"==typeof n){const e=this.container&&this.container.get(`tokenizer-${t}`);return e?e.tokenize(n,!0):n.split(" ")}return n}termFreqMap(n,t){const e=this.getTokens(n,t),i={};return e.forEach((n=>{i[n]=(i[n]||0)+1})),i}addKeysToDict(n,t){Object.keys(n).forEach((n=>{t[n]=!0}))}termFreqMapToVector(n,t){const e=[];return Object.keys(t).forEach((t=>{e.push(n[t]||0)})),e}vecDotProduct(n,t){let e=0;for(let i=0;i<n.length;i+=1)e+=n[i]*t[i];return e}vecMagnitude(n){let t=0;for(let e=0;e<n.length;e+=1)t+=n[e]*n[e];return Math.sqrt(t)}cosineSimilarity(n,t){return this.vecDotProduct(n,t)/(this.vecMagnitude(n)*this.vecMagnitude(t))}getTermFreqVectors(n,t,e){const i=this.termFreqMap(n,e),s=this.termFreqMap(t,e);if(!Object.keys(i).length||!Object.keys(s).length)return 0;const r={};return this.addKeysToDict(i,r),this.addKeysToDict(s,r),[this.termFreqMapToVector(i,r),this.termFreqMapToVector(s,r)]}similarity(n,t,e){if(n===t)return 1;const[i,s]=this.getTermFreqVectors(n,t,e);return this.cosineSimilarity(i,s)}}},6964:(n,t,e)=>{const i=e(7401),s=e(3230),r=e(9393),a=e(9602);n.exports={leven:i,CosineSimilarity:r,similarity:s,SpellCheck:a}},7401:n=>{const t=[],e=[];n.exports=function(n,i){n.length>i.length&&([n,i]=[i,n]);let s=n.length-1,r=i.length-1;for(;s>0&&n.charCodeAt(s)===i.charCodeAt(r);)s-=1,r-=1;s+=1,r+=1;let a,o,u,l,c=0;for(;c<s&&n.charCodeAt(c)===i.charCodeAt(c);)c+=1;if(s-=c,r-=c,0===s)return r;for(let i=0;i<s;i+=1)e[i]=n.charCodeAt(c+i),t[i]=i+1;let h=0;for(;h<r;){a=i.charCodeAt(c+h),u=h,h+=1,o=h;for(let n=0;n<s;n+=1)l=u+(a!==e[n])|0,u=t[n],t[n]=u>o?l>o?o+1:l:l>u?u+1:l,o=t[n]}return o}},3230:(n,t,e)=>{const i=e(7401);n.exports=function(n,t,e=!1){return e&&(n=n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()),n===t?0:i(n,t)}},9602:(n,t,e)=>{const i=e(3230);n.exports=class{constructor(n){this.settings=n||{},this.minLength=this.settings.minLength||4,this.settings.features?this.setFeatures(this.settings.features):(this.features={},this.featuresByLength={})}setFeatures(n){this.features=n,this.featuresByLength={},this.featuresList=Object.keys(this.features);for(let n=0;n<this.featuresList.length;n+=1){const t=this.featuresList[n],{length:e}=t;this.featuresByLength[e]||(this.featuresByLength[e]=[]),this.featuresByLength[e].push(t)}}checkToken(n,t){if(this.features[n])return n;if(n.length<this.minLength)return n;let e,s=1/0;for(let r=n.length-t-1;r<n.length+t;r+=1){const a=this.featuresByLength[r+1];if(a)for(let r=0;r<a.length;r+=1){const o=a[r],u=i(n,o);if(u<=t)if(u<s)e=o,s=u;else if(u===s&&e){const t=Math.abs(e.length-n.length),i=Math.abs(o.length-n.length);(t>i||t===i&&this.features[o]>this.features[e])&&(e=o,s=u)}}}return e||n}check(n,t=1){if(!Array.isArray(n)){const e=Object.keys(n),i=this.check(e,t),s={};for(let t=0;t<i.length;t+=1)s[i[t]]=n[e[t]];return s}const e=[];for(let i=0;i<n.length;i+=1)e.push(this.checkToken(n[i],t));return e}}},213:(n,t,e)=>{const i=e(4903);n.exports={SlotManager:i}},4903:n=>{n.exports=class{constructor(){this.intents={},this.isEmpty=!0}getSlot(n,t){if(this.intents[n])return this.intents[n][t]}existsSlot(n,t){return void 0!==this.getSlot(n,t)}addSlot(n,t,e=!1,i){return this.isEmpty=!1,this.intents[n]||(this.intents[n]={}),this.intents[n][t]={intent:n,entity:t,mandatory:e,locales:i||{}},this.intents[n][t]}updateSlot(n,t,e,i){if(!this.intents[n]||!this.intents[n][t])return this.addSlot(n,t,e,i);const s=this.intents[n][t];return void 0!==e&&(s.mandatory=e),s.locales=Object.assign(s.locales,i),this.intents[n][t]}removeSlot(n,t){this.intents[n]&&delete this.intents[n][t]}addBatch(n,t){const e=[];return t&&t.length>0&&t.forEach((t=>{let i=this.getSlot(n,t);i||(i=this.addSlot(n,t)),e.push(i)})),e}getIntentEntityNames(n){if(this.intents[n])return Object.keys(this.intents[n])}hasIntentEntities(n){return this.getIntentEntityNames(n).length>0}clear(){this.intents={}}load(n){this.intents=n||{},this.isEmpty=0===Object.keys(this.intents).length}save(){return this.intents}getMandatorySlots(n){const t={},e=this.intents[n];if(e){const n=Object.keys(e);for(let i=0,s=n.length;i<s;i+=1){const s=e[n[i]];s.mandatory&&(t[s.entity]=s)}}return t}cleanContextEntities(n,t){const e=t;if(e.slotFill)return;const i=this.getMandatorySlots(n),s=Object.keys(i);0!==s.length&&s.forEach((n=>{delete e[n]}))}generateEntityAliases(n){const t=[],e={};for(let i=0;i<n.length;i+=1){const s=n[i];e[s.entity]||(e[s.entity]=[]),t[i]=`${s.entity}_${e[s.entity].length}`,e[s.entity].push(!0)}return t}process(n,t){const e=n,i=t;if(this.cleanContextEntities(e.intent,i),i.slotFill&&(e.intent=i.slotFill.intent,e.answer=i.slotFill.answer,e.srcAnswer=i.slotFill.srcAnswer),!e.intent||"None"===e.intent)return!1;i.slotFill&&i.slotFill.intent===e.intent&&(e.entities=[...i.slotFill.entities,...e.entities]);const s=this.getMandatorySlots(e.intent);let r=Object.keys(s);if(0===r.length)return!1;const a=this.generateEntityAliases(e.entities);for(let n=0,t=e.entities.length;n<t;n+=1)delete s[e.entities[n].entity],delete s[a[n]];if(i.slotFill&&s[i.slotFill.currentSlot]&&(e.entities.push({entity:i.slotFill.currentSlot,utteranceText:e.utterance,sourceText:e.utterance,accuracy:.95,start:0,end:e.utterance.length-1,len:e.utterance.length,isSlotFillingFallback:!0}),delete s[i.slotFill.currentSlot]),r=Object.keys(s),i.slotFill&&i.slotFill.currentSlot&&(i.slotFill.latestSlot=i.slotFill.currentSlot),!r||0===r.length)return delete e.srcAnswer,!0;i.slotFill&&i.slotFill.intent===e.intent&&(e.localeIso2=i.slotFill.localeIso2),e.slotFill={localeIso2:e.localeIso2,intent:e.intent,entities:e.entities,answer:e.answer,srcAnswer:e.srcAnswer},i.slotFill&&i.slotFill.latestSlot&&(e.slotFill.latestSlot=i.slotFill.latestSlot);const o=s[r[0]];return e.slotFill.currentSlot=o.entity,e.srcAnswer=o.locales[e.localeIso2],i.slotFill=e.slotFill,!0}}},1250:n=>{"use strict";n.exports=JSON.parse('{"Latin":{"spa":"","eng":"","por":"","ind":"","fra":"","deu":"","ita":"","tur":"","nld":"","tgl":"","hun":"","ces":"","swe":"","fin":"","dan":"","cat":"","glg":"","slv":""},"Cyrillic":{"rus":"","ukr":""},"Arabic":{"arb":"","fas":""},"Devanagari":{"hin":""},"Ethiopic":{},"Hebrew":{}}')},6102:n=>{"use strict";n.exports=JSON.parse('[["ar","arb","Arabic"],["bn","ben","Bengali"],["ca","cat","Catalan"],["cs","ces","Czech"],["da","dan","Danish"],["de","deu","German"],["el","ell","Greek"],["en","eng","English"],["eu","eus","Basque"],["fa","fas","Persian"],["fi","fin","Finnish"],["fr","fra","French"],["ga","gle","Irish"],["gl","glg","Galician"],["hi","hin","Hindi"],["hu","hun","Hungarian"],["hy","hye","Armenian"],["id","ind","Indonesian"],["it","ita","Italian"],["ja","jpn","Japanese"],["ko","kor","Korean"],["lt","lit","Lithuanian"],["ne","nep","Nepali"],["nl","nld","Dutch"],["no","nor","Norwegian"],["pl","pol","Polish"],["pt","por","Portuguese"],["ro","ron","Romanian"],["ru","rus","Russian"],["sr","srp","Serbian"],["sl","slv","Slovenian"],["es","spa","Spanish"],["sv","swe","Swedish"],["ta","tam","Tamil"],["tl","tgl","Tagalog"],["th","tha","Thai"],["tr","tur","Turkish"],["uk","ukr","Ukrainian"],["zh","cmn","Chinese"]]')}},t={};function e(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return n[i](r,r.exports,e),r.exports}(()=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},n(t)}function t(){"use strict";t=function(){return i};var e,i={},s=Object.prototype,r=s.hasOwnProperty,a=Object.defineProperty||function(n,t,e){n[t]=e.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function h(n,t,e){return Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{h({},"")}catch(e){h=function(n,t,e){return n[t]=e}}function g(n,t,e,i){var s=t&&t.prototype instanceof b?t:b,r=Object.create(s.prototype),o=new j(i||[]);return a(r,"_invoke",{value:S(n,e,o)}),r}function d(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(n){return{type:"throw",arg:n}}}i.wrap=g;var f="suspendedStart",p="suspendedYield",m="executing",y="completed",w={};function b(){}function k(){}function v(){}var x={};h(x,u,(function(){return this}));var D=Object.getPrototypeOf,A=D&&D(D(O([])));A&&A!==s&&r.call(A,u)&&(x=A);var F=v.prototype=b.prototype=Object.create(x);function E(n){["next","throw","return"].forEach((function(t){h(n,t,(function(n){return this._invoke(t,n)}))}))}function C(t,e){function i(s,a,o,u){var l=d(t[s],t,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(n){i("next",n,o,u)}),(function(n){i("throw",n,o,u)})):e.resolve(h).then((function(n){c.value=n,o(c)}),(function(n){return i("throw",n,o,u)}))}u(l.arg)}var s;a(this,"_invoke",{value:function(n,t){function r(){return new e((function(e,s){i(n,t,e,s)}))}return s=s?s.then(r,r):r()}})}function S(n,t,i){var s=f;return function(r,a){if(s===m)throw new Error("Generator is already running");if(s===y){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var o=i.delegate;if(o){var u=_(o,i);if(u){if(u===w)continue;return u}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(s===f)throw s=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);s=m;var l=d(n,t,i);if("normal"===l.type){if(s=i.done?y:p,l.arg===w)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(s=y,i.method="throw",i.arg=l.arg)}}}function _(n,t){var i=t.method,s=n.iterator[i];if(s===e)return t.delegate=null,"throw"===i&&n.iterator.return&&(t.method="return",t.arg=e,_(n,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),w;var r=d(s,n.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,w;var a=r.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,w):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,w)}function B(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function N(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function j(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(B,this),this.reset(!0)}function O(t){if(t||""===t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,a=function n(){for(;++s<t.length;)if(r.call(t,s))return n.value=t[s],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return k.prototype=v,a(F,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:k,configurable:!0}),k.displayName=h(v,c,"GeneratorFunction"),i.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,v):(n.__proto__=v,h(n,c,"GeneratorFunction")),n.prototype=Object.create(F),n},i.awrap=function(n){return{__await:n}},E(C.prototype),h(C.prototype,l,(function(){return this})),i.AsyncIterator=C,i.async=function(n,t,e,s,r){void 0===r&&(r=Promise);var a=new C(g(n,t,e,s),r);return i.isGeneratorFunction(t)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},E(F),h(F,c,"Generator"),h(F,u,(function(){return this})),h(F,"toString",(function(){return"[object Generator]"})),i.keys=function(n){var t=Object(n),e=[];for(var i in t)e.push(i);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},i.values=O,j.prototype={constructor:j,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(i,s){return o.type="throw",o.arg=n,t.next=i,s&&(t.method="next",t.arg=e),!!s}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(n,t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===n||"continue"===n)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=n,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,w):this.complete(a)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),w},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),N(e),w}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var i=e.completion;if("throw"===i.type){var s=i.arg;N(e)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,i){return this.delegate={iterator:O(n),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=e),w}},i}function i(n,t,e,i,s,r,a){try{var o=n[r](a),u=o.value}catch(n){return void e(n)}o.done?t(u):Promise.resolve(u).then(i,s)}function s(n){return function(){var t=this,e=arguments;return new Promise((function(s,r){var a=n.apply(t,e);function o(n){i(a,s,r,o,u,"next",n)}function u(n){i(a,s,r,o,u,"throw",n)}o(void 0)}))}}var r=new(0,e(7758).FabilabNlp),a=["who are you?","what do you research?","where are you?","what do you teach?","how do I join?","show me your software","what's new?","are you in Sydney?","show me the blog","where are your slides?","what are you into?","list the lab members"],o=function(n){var t;switch(n){case"None":case"research":t="/";break;case"like":return void(document.getElementById("chatbotText").value="");case"dislike":return void(document.getElementById("chatbotText").value="");case"github":t="https://github.com/fabilab/";break;case"scholar":t="https://scholar.google.com/citations?user=XMDw5-4AAAAJ";break;case"news":t="/"+n+".html";break;default:t="/pages/"+n+".html"}window.location.href=t},u=function(){var n=s(t().mark((function n(e){var i;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,chatbot.ask(e);case 2:return i=n.sent,n.abrupt("return",o(i.intent));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();s(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.initialise();case 2:window.chatbot=r,window.chatbot.askAndRedirect=u,window.onload=function(){var n,t,e=a[(n=0,t=a.length-1,n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n)];document.getElementById("chatbotText").value=e,document.getElementById("chatbotForm").onsubmit=function(){var n=this.getElementsByTagName("input")[0].value;return window.chatbot.askAndRedirect(n),!1}};case 5:case"end":return n.stop()}}),n)})))()})()})();